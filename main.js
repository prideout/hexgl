!function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=8)}([function(e,t,r){"use strict";r.r(t);var n={};r.r(n),r.d(n,"EPSILON",function(){return h}),r.d(n,"ARRAY_TYPE",function(){return m}),r.d(n,"RANDOM",function(){return p}),r.d(n,"setMatrixArrayType",function(){return g}),r.d(n,"toRadian",function(){return y}),r.d(n,"equals",function(){return _});var i={};r.r(i),r.d(i,"create",function(){return b}),r.d(i,"clone",function(){return w}),r.d(i,"copy",function(){return E}),r.d(i,"identity",function(){return M}),r.d(i,"fromValues",function(){return x}),r.d(i,"set",function(){return A}),r.d(i,"transpose",function(){return T}),r.d(i,"invert",function(){return k}),r.d(i,"adjoint",function(){return S}),r.d(i,"determinant",function(){return P}),r.d(i,"multiply",function(){return C}),r.d(i,"rotate",function(){return I}),r.d(i,"scale",function(){return L}),r.d(i,"fromRotation",function(){return D}),r.d(i,"fromScaling",function(){return B}),r.d(i,"str",function(){return F}),r.d(i,"frob",function(){return R}),r.d(i,"LDU",function(){return O}),r.d(i,"add",function(){return N}),r.d(i,"subtract",function(){return U}),r.d(i,"exactEquals",function(){return V}),r.d(i,"equals",function(){return G}),r.d(i,"multiplyScalar",function(){return j}),r.d(i,"multiplyScalarAndAdd",function(){return q}),r.d(i,"mul",function(){return W}),r.d(i,"sub",function(){return z});var o={};r.r(o),r.d(o,"create",function(){return $}),r.d(o,"clone",function(){return Y}),r.d(o,"copy",function(){return H}),r.d(o,"identity",function(){return X}),r.d(o,"fromValues",function(){return K}),r.d(o,"set",function(){return Q}),r.d(o,"invert",function(){return Z}),r.d(o,"determinant",function(){return J}),r.d(o,"multiply",function(){return ee}),r.d(o,"rotate",function(){return te}),r.d(o,"scale",function(){return re}),r.d(o,"translate",function(){return ne}),r.d(o,"fromRotation",function(){return ie}),r.d(o,"fromScaling",function(){return oe}),r.d(o,"fromTranslation",function(){return ae}),r.d(o,"str",function(){return se}),r.d(o,"frob",function(){return ue}),r.d(o,"add",function(){return ce}),r.d(o,"subtract",function(){return fe}),r.d(o,"multiplyScalar",function(){return le}),r.d(o,"multiplyScalarAndAdd",function(){return de}),r.d(o,"exactEquals",function(){return he}),r.d(o,"equals",function(){return me}),r.d(o,"mul",function(){return pe}),r.d(o,"sub",function(){return ge});var a={};r.r(a),r.d(a,"create",function(){return ve}),r.d(a,"fromMat4",function(){return ye}),r.d(a,"clone",function(){return _e}),r.d(a,"copy",function(){return be}),r.d(a,"fromValues",function(){return we}),r.d(a,"set",function(){return Ee}),r.d(a,"identity",function(){return Me}),r.d(a,"transpose",function(){return xe}),r.d(a,"invert",function(){return Ae}),r.d(a,"adjoint",function(){return Te}),r.d(a,"determinant",function(){return ke}),r.d(a,"multiply",function(){return Se}),r.d(a,"translate",function(){return Pe}),r.d(a,"rotate",function(){return Ce}),r.d(a,"scale",function(){return Ie}),r.d(a,"fromTranslation",function(){return Le}),r.d(a,"fromRotation",function(){return De}),r.d(a,"fromScaling",function(){return Be}),r.d(a,"fromMat2d",function(){return Fe}),r.d(a,"fromQuat",function(){return Re}),r.d(a,"normalFromMat4",function(){return Oe}),r.d(a,"projection",function(){return Ne}),r.d(a,"str",function(){return Ue}),r.d(a,"frob",function(){return Ve}),r.d(a,"add",function(){return Ge}),r.d(a,"subtract",function(){return je}),r.d(a,"multiplyScalar",function(){return qe}),r.d(a,"multiplyScalarAndAdd",function(){return We}),r.d(a,"exactEquals",function(){return ze}),r.d(a,"equals",function(){return $e}),r.d(a,"mul",function(){return Ye}),r.d(a,"sub",function(){return He});var s={};r.r(s),r.d(s,"create",function(){return Xe}),r.d(s,"clone",function(){return Ke}),r.d(s,"copy",function(){return Qe}),r.d(s,"fromValues",function(){return Ze}),r.d(s,"set",function(){return Je}),r.d(s,"identity",function(){return et}),r.d(s,"transpose",function(){return tt}),r.d(s,"invert",function(){return rt}),r.d(s,"adjoint",function(){return nt}),r.d(s,"determinant",function(){return it}),r.d(s,"multiply",function(){return ot}),r.d(s,"translate",function(){return at}),r.d(s,"scale",function(){return st}),r.d(s,"rotate",function(){return ut}),r.d(s,"rotateX",function(){return ct}),r.d(s,"rotateY",function(){return ft}),r.d(s,"rotateZ",function(){return lt}),r.d(s,"fromTranslation",function(){return dt}),r.d(s,"fromScaling",function(){return ht}),r.d(s,"fromRotation",function(){return mt}),r.d(s,"fromXRotation",function(){return pt}),r.d(s,"fromYRotation",function(){return gt}),r.d(s,"fromZRotation",function(){return vt}),r.d(s,"fromRotationTranslation",function(){return yt}),r.d(s,"fromQuat2",function(){return _t}),r.d(s,"getTranslation",function(){return bt}),r.d(s,"getScaling",function(){return wt}),r.d(s,"getRotation",function(){return Et}),r.d(s,"fromRotationTranslationScale",function(){return Mt}),r.d(s,"fromRotationTranslationScaleOrigin",function(){return xt}),r.d(s,"fromQuat",function(){return At}),r.d(s,"frustum",function(){return Tt}),r.d(s,"perspective",function(){return kt}),r.d(s,"perspectiveFromFieldOfView",function(){return St}),r.d(s,"ortho",function(){return Pt}),r.d(s,"lookAt",function(){return Ct}),r.d(s,"targetTo",function(){return It}),r.d(s,"str",function(){return Lt}),r.d(s,"frob",function(){return Dt}),r.d(s,"add",function(){return Bt}),r.d(s,"subtract",function(){return Ft}),r.d(s,"multiplyScalar",function(){return Rt}),r.d(s,"multiplyScalarAndAdd",function(){return Ot}),r.d(s,"exactEquals",function(){return Nt}),r.d(s,"equals",function(){return Ut}),r.d(s,"mul",function(){return Vt}),r.d(s,"sub",function(){return Gt});var u={};r.r(u),r.d(u,"create",function(){return jt}),r.d(u,"clone",function(){return qt}),r.d(u,"length",function(){return Wt}),r.d(u,"fromValues",function(){return zt}),r.d(u,"copy",function(){return $t}),r.d(u,"set",function(){return Yt}),r.d(u,"add",function(){return Ht}),r.d(u,"subtract",function(){return Xt}),r.d(u,"multiply",function(){return Kt}),r.d(u,"divide",function(){return Qt}),r.d(u,"ceil",function(){return Zt}),r.d(u,"floor",function(){return Jt}),r.d(u,"min",function(){return er}),r.d(u,"max",function(){return tr}),r.d(u,"round",function(){return rr}),r.d(u,"scale",function(){return nr}),r.d(u,"scaleAndAdd",function(){return ir}),r.d(u,"distance",function(){return or}),r.d(u,"squaredDistance",function(){return ar}),r.d(u,"squaredLength",function(){return sr}),r.d(u,"negate",function(){return ur}),r.d(u,"inverse",function(){return cr}),r.d(u,"normalize",function(){return fr}),r.d(u,"dot",function(){return lr}),r.d(u,"cross",function(){return dr}),r.d(u,"lerp",function(){return hr}),r.d(u,"hermite",function(){return mr}),r.d(u,"bezier",function(){return pr}),r.d(u,"random",function(){return gr}),r.d(u,"transformMat4",function(){return vr}),r.d(u,"transformMat3",function(){return yr}),r.d(u,"transformQuat",function(){return _r}),r.d(u,"rotateX",function(){return br}),r.d(u,"rotateY",function(){return wr}),r.d(u,"rotateZ",function(){return Er}),r.d(u,"angle",function(){return Mr}),r.d(u,"str",function(){return xr}),r.d(u,"exactEquals",function(){return Ar}),r.d(u,"equals",function(){return Tr}),r.d(u,"sub",function(){return Sr}),r.d(u,"mul",function(){return Pr}),r.d(u,"div",function(){return Cr}),r.d(u,"dist",function(){return Ir}),r.d(u,"sqrDist",function(){return Lr}),r.d(u,"len",function(){return Dr}),r.d(u,"sqrLen",function(){return Br}),r.d(u,"forEach",function(){return Fr});var c={};r.r(c),r.d(c,"create",function(){return Rr}),r.d(c,"clone",function(){return Or}),r.d(c,"fromValues",function(){return Nr}),r.d(c,"copy",function(){return Ur}),r.d(c,"set",function(){return Vr}),r.d(c,"add",function(){return Gr}),r.d(c,"subtract",function(){return jr}),r.d(c,"multiply",function(){return qr}),r.d(c,"divide",function(){return Wr}),r.d(c,"ceil",function(){return zr}),r.d(c,"floor",function(){return $r}),r.d(c,"min",function(){return Yr}),r.d(c,"max",function(){return Hr}),r.d(c,"round",function(){return Xr}),r.d(c,"scale",function(){return Kr}),r.d(c,"scaleAndAdd",function(){return Qr}),r.d(c,"distance",function(){return Zr}),r.d(c,"squaredDistance",function(){return Jr}),r.d(c,"length",function(){return en}),r.d(c,"squaredLength",function(){return tn}),r.d(c,"negate",function(){return rn}),r.d(c,"inverse",function(){return nn}),r.d(c,"normalize",function(){return on}),r.d(c,"dot",function(){return an}),r.d(c,"lerp",function(){return sn}),r.d(c,"random",function(){return un}),r.d(c,"transformMat4",function(){return cn}),r.d(c,"transformQuat",function(){return fn}),r.d(c,"str",function(){return ln}),r.d(c,"exactEquals",function(){return dn}),r.d(c,"equals",function(){return hn}),r.d(c,"sub",function(){return mn}),r.d(c,"mul",function(){return pn}),r.d(c,"div",function(){return gn}),r.d(c,"dist",function(){return vn}),r.d(c,"sqrDist",function(){return yn}),r.d(c,"len",function(){return _n}),r.d(c,"sqrLen",function(){return bn}),r.d(c,"forEach",function(){return wn});var f={};r.r(f),r.d(f,"create",function(){return En}),r.d(f,"identity",function(){return Mn}),r.d(f,"setAxisAngle",function(){return xn}),r.d(f,"getAxisAngle",function(){return An}),r.d(f,"multiply",function(){return Tn}),r.d(f,"rotateX",function(){return kn}),r.d(f,"rotateY",function(){return Sn}),r.d(f,"rotateZ",function(){return Pn}),r.d(f,"calculateW",function(){return Cn}),r.d(f,"slerp",function(){return In}),r.d(f,"random",function(){return Ln}),r.d(f,"invert",function(){return Dn}),r.d(f,"conjugate",function(){return Bn}),r.d(f,"fromMat3",function(){return Fn}),r.d(f,"fromEuler",function(){return Rn}),r.d(f,"str",function(){return On}),r.d(f,"clone",function(){return Wn}),r.d(f,"fromValues",function(){return zn}),r.d(f,"copy",function(){return $n}),r.d(f,"set",function(){return Yn}),r.d(f,"add",function(){return Hn}),r.d(f,"mul",function(){return Xn}),r.d(f,"scale",function(){return Kn}),r.d(f,"dot",function(){return Qn}),r.d(f,"lerp",function(){return Zn}),r.d(f,"length",function(){return Jn}),r.d(f,"len",function(){return ei}),r.d(f,"squaredLength",function(){return ti}),r.d(f,"sqrLen",function(){return ri}),r.d(f,"normalize",function(){return ni}),r.d(f,"exactEquals",function(){return ii}),r.d(f,"equals",function(){return oi}),r.d(f,"rotationTo",function(){return ai}),r.d(f,"sqlerp",function(){return si}),r.d(f,"setAxes",function(){return ui});var l={};r.r(l),r.d(l,"create",function(){return ci}),r.d(l,"clone",function(){return fi}),r.d(l,"fromValues",function(){return li}),r.d(l,"fromRotationTranslationValues",function(){return di}),r.d(l,"fromRotationTranslation",function(){return hi}),r.d(l,"fromTranslation",function(){return mi}),r.d(l,"fromRotation",function(){return pi}),r.d(l,"fromMat4",function(){return gi}),r.d(l,"copy",function(){return vi}),r.d(l,"identity",function(){return yi}),r.d(l,"set",function(){return _i}),r.d(l,"getReal",function(){return bi}),r.d(l,"getDual",function(){return wi}),r.d(l,"setReal",function(){return Ei}),r.d(l,"setDual",function(){return Mi}),r.d(l,"getTranslation",function(){return xi}),r.d(l,"translate",function(){return Ai}),r.d(l,"rotateX",function(){return Ti}),r.d(l,"rotateY",function(){return ki}),r.d(l,"rotateZ",function(){return Si}),r.d(l,"rotateByQuatAppend",function(){return Pi}),r.d(l,"rotateByQuatPrepend",function(){return Ci}),r.d(l,"rotateAroundAxis",function(){return Ii}),r.d(l,"add",function(){return Li}),r.d(l,"multiply",function(){return Di}),r.d(l,"mul",function(){return Bi}),r.d(l,"scale",function(){return Fi}),r.d(l,"dot",function(){return Ri}),r.d(l,"lerp",function(){return Oi}),r.d(l,"invert",function(){return Ni}),r.d(l,"conjugate",function(){return Ui}),r.d(l,"length",function(){return Vi}),r.d(l,"len",function(){return Gi}),r.d(l,"squaredLength",function(){return ji}),r.d(l,"sqrLen",function(){return qi}),r.d(l,"normalize",function(){return Wi}),r.d(l,"str",function(){return zi}),r.d(l,"exactEquals",function(){return $i}),r.d(l,"equals",function(){return Yi});var d={};r.r(d),r.d(d,"create",function(){return Hi}),r.d(d,"clone",function(){return Xi}),r.d(d,"fromValues",function(){return Ki}),r.d(d,"copy",function(){return Qi}),r.d(d,"set",function(){return Zi}),r.d(d,"add",function(){return Ji}),r.d(d,"subtract",function(){return eo}),r.d(d,"multiply",function(){return to}),r.d(d,"divide",function(){return ro}),r.d(d,"ceil",function(){return no}),r.d(d,"floor",function(){return io}),r.d(d,"min",function(){return oo}),r.d(d,"max",function(){return ao}),r.d(d,"round",function(){return so}),r.d(d,"scale",function(){return uo}),r.d(d,"scaleAndAdd",function(){return co}),r.d(d,"distance",function(){return fo}),r.d(d,"squaredDistance",function(){return lo}),r.d(d,"length",function(){return ho}),r.d(d,"squaredLength",function(){return mo}),r.d(d,"negate",function(){return po}),r.d(d,"inverse",function(){return go}),r.d(d,"normalize",function(){return vo}),r.d(d,"dot",function(){return yo}),r.d(d,"cross",function(){return _o}),r.d(d,"lerp",function(){return bo}),r.d(d,"random",function(){return wo}),r.d(d,"transformMat2",function(){return Eo}),r.d(d,"transformMat2d",function(){return Mo}),r.d(d,"transformMat3",function(){return xo}),r.d(d,"transformMat4",function(){return Ao}),r.d(d,"rotate",function(){return To}),r.d(d,"angle",function(){return ko}),r.d(d,"str",function(){return So}),r.d(d,"exactEquals",function(){return Po}),r.d(d,"equals",function(){return Co}),r.d(d,"len",function(){return Io}),r.d(d,"sub",function(){return Lo}),r.d(d,"mul",function(){return Do}),r.d(d,"div",function(){return Bo}),r.d(d,"dist",function(){return Fo}),r.d(d,"sqrDist",function(){return Ro}),r.d(d,"sqrLen",function(){return Oo}),r.d(d,"forEach",function(){return No});var h=1e-6,m="undefined"!=typeof Float32Array?Float32Array:Array,p=Math.random;function g(e){m=e}var v=Math.PI/180;function y(e){return e*v}function _(e,t){return Math.abs(e-t)<=h*Math.max(1,Math.abs(e),Math.abs(t))}function b(){var e=new m(4);return m!=Float32Array&&(e[1]=0,e[2]=0),e[0]=1,e[3]=1,e}function w(e){var t=new m(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function E(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function M(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e}function x(e,t,r,n){var i=new m(4);return i[0]=e,i[1]=t,i[2]=r,i[3]=n,i}function A(e,t,r,n,i){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e}function T(e,t){if(e===t){var r=t[1];e[1]=t[2],e[2]=r}else e[0]=t[0],e[1]=t[2],e[2]=t[1],e[3]=t[3];return e}function k(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],a=r*o-i*n;return a?(a=1/a,e[0]=o*a,e[1]=-n*a,e[2]=-i*a,e[3]=r*a,e):null}function S(e,t){var r=t[0];return e[0]=t[3],e[1]=-t[1],e[2]=-t[2],e[3]=r,e}function P(e){return e[0]*e[3]-e[2]*e[1]}function C(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],s=r[0],u=r[1],c=r[2],f=r[3];return e[0]=n*s+o*u,e[1]=i*s+a*u,e[2]=n*c+o*f,e[3]=i*c+a*f,e}function I(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],s=Math.sin(r),u=Math.cos(r);return e[0]=n*u+o*s,e[1]=i*u+a*s,e[2]=n*-s+o*u,e[3]=i*-s+a*u,e}function L(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],s=r[0],u=r[1];return e[0]=n*s,e[1]=i*s,e[2]=o*u,e[3]=a*u,e}function D(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=-r,e[3]=n,e}function B(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e}function F(e){return"mat2("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}function R(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2))}function O(e,t,r,n){return e[2]=n[2]/n[0],r[0]=n[0],r[1]=n[1],r[3]=n[3]-e[2]*r[1],[e,t,r]}function N(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e}function U(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e}function V(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function G(e,t){var r=e[0],n=e[1],i=e[2],o=e[3],a=t[0],s=t[1],u=t[2],c=t[3];return Math.abs(r-a)<=h*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(n-s)<=h*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(i-u)<=h*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(o-c)<=h*Math.max(1,Math.abs(o),Math.abs(c))}function j(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e}function q(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e}var W=C,z=U;function $(){var e=new m(6);return m!=Float32Array&&(e[1]=0,e[2]=0,e[4]=0,e[5]=0),e[0]=1,e[3]=1,e}function Y(e){var t=new m(6);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function H(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function X(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function K(e,t,r,n,i,o){var a=new m(6);return a[0]=e,a[1]=t,a[2]=r,a[3]=n,a[4]=i,a[5]=o,a}function Q(e,t,r,n,i,o,a){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e[4]=o,e[5]=a,e}function Z(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=r*o-n*i;return u?(u=1/u,e[0]=o*u,e[1]=-n*u,e[2]=-i*u,e[3]=r*u,e[4]=(i*s-o*a)*u,e[5]=(n*a-r*s)*u,e):null}function J(e){return e[0]*e[3]-e[1]*e[2]}function ee(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=r[0],f=r[1],l=r[2],d=r[3],h=r[4],m=r[5];return e[0]=n*c+o*f,e[1]=i*c+a*f,e[2]=n*l+o*d,e[3]=i*l+a*d,e[4]=n*h+o*m+s,e[5]=i*h+a*m+u,e}function te(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=Math.sin(r),f=Math.cos(r);return e[0]=n*f+o*c,e[1]=i*f+a*c,e[2]=n*-c+o*f,e[3]=i*-c+a*f,e[4]=s,e[5]=u,e}function re(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=r[0],f=r[1];return e[0]=n*c,e[1]=i*c,e[2]=o*f,e[3]=a*f,e[4]=s,e[5]=u,e}function ne(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=r[0],f=r[1];return e[0]=n,e[1]=i,e[2]=o,e[3]=a,e[4]=n*c+o*f+s,e[5]=i*c+a*f+u,e}function ie(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=-r,e[3]=n,e[4]=0,e[5]=0,e}function oe(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e[4]=0,e[5]=0,e}function ae(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=t[0],e[5]=t[1],e}function se(e){return"mat2d("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+")"}function ue(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+1)}function ce(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e}function fe(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e}function le(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e}function de(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e[4]=t[4]+r[4]*n,e[5]=t[5]+r[5]*n,e}function he(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]}function me(e,t){var r=e[0],n=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=t[0],c=t[1],f=t[2],l=t[3],d=t[4],m=t[5];return Math.abs(r-u)<=h*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(n-c)<=h*Math.max(1,Math.abs(n),Math.abs(c))&&Math.abs(i-f)<=h*Math.max(1,Math.abs(i),Math.abs(f))&&Math.abs(o-l)<=h*Math.max(1,Math.abs(o),Math.abs(l))&&Math.abs(a-d)<=h*Math.max(1,Math.abs(a),Math.abs(d))&&Math.abs(s-m)<=h*Math.max(1,Math.abs(s),Math.abs(m))}var pe=ee,ge=fe;function ve(){var e=new m(9);return m!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function ye(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function _e(e){var t=new m(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function be(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function we(e,t,r,n,i,o,a,s,u){var c=new m(9);return c[0]=e,c[1]=t,c[2]=r,c[3]=n,c[4]=i,c[5]=o,c[6]=a,c[7]=s,c[8]=u,c}function Ee(e,t,r,n,i,o,a,s,u,c){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e[4]=o,e[5]=a,e[6]=s,e[7]=u,e[8]=c,e}function Me(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function xe(e,t){if(e===t){var r=t[1],n=t[2],i=t[5];e[1]=t[3],e[2]=t[6],e[3]=r,e[5]=t[7],e[6]=n,e[7]=i}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e}function Ae(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],c=t[7],f=t[8],l=f*a-s*c,d=-f*o+s*u,h=c*o-a*u,m=r*l+n*d+i*h;return m?(m=1/m,e[0]=l*m,e[1]=(-f*n+i*c)*m,e[2]=(s*n-i*a)*m,e[3]=d*m,e[4]=(f*r-i*u)*m,e[5]=(-s*r+i*o)*m,e[6]=h*m,e[7]=(-c*r+n*u)*m,e[8]=(a*r-n*o)*m,e):null}function Te(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],c=t[7],f=t[8];return e[0]=a*f-s*c,e[1]=i*c-n*f,e[2]=n*s-i*a,e[3]=s*u-o*f,e[4]=r*f-i*u,e[5]=i*o-r*s,e[6]=o*c-a*u,e[7]=n*u-r*c,e[8]=r*a-n*o,e}function ke(e){var t=e[0],r=e[1],n=e[2],i=e[3],o=e[4],a=e[5],s=e[6],u=e[7],c=e[8];return t*(c*o-a*u)+r*(-c*i+a*s)+n*(u*i-o*s)}function Se(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=t[6],f=t[7],l=t[8],d=r[0],h=r[1],m=r[2],p=r[3],g=r[4],v=r[5],y=r[6],_=r[7],b=r[8];return e[0]=d*n+h*a+m*c,e[1]=d*i+h*s+m*f,e[2]=d*o+h*u+m*l,e[3]=p*n+g*a+v*c,e[4]=p*i+g*s+v*f,e[5]=p*o+g*u+v*l,e[6]=y*n+_*a+b*c,e[7]=y*i+_*s+b*f,e[8]=y*o+_*u+b*l,e}function Pe(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=t[6],f=t[7],l=t[8],d=r[0],h=r[1];return e[0]=n,e[1]=i,e[2]=o,e[3]=a,e[4]=s,e[5]=u,e[6]=d*n+h*a+c,e[7]=d*i+h*s+f,e[8]=d*o+h*u+l,e}function Ce(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=t[6],f=t[7],l=t[8],d=Math.sin(r),h=Math.cos(r);return e[0]=h*n+d*a,e[1]=h*i+d*s,e[2]=h*o+d*u,e[3]=h*a-d*n,e[4]=h*s-d*i,e[5]=h*u-d*o,e[6]=c,e[7]=f,e[8]=l,e}function Ie(e,t,r){var n=r[0],i=r[1];return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=i*t[3],e[4]=i*t[4],e[5]=i*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function Le(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e}function De(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=0,e[3]=-r,e[4]=n,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function Be(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function Fe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e}function Re(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],a=r+r,s=n+n,u=i+i,c=r*a,f=n*a,l=n*s,d=i*a,h=i*s,m=i*u,p=o*a,g=o*s,v=o*u;return e[0]=1-l-m,e[3]=f-v,e[6]=d+g,e[1]=f+v,e[4]=1-c-m,e[7]=h-p,e[2]=d-g,e[5]=h+p,e[8]=1-c-l,e}function Oe(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],c=t[7],f=t[8],l=t[9],d=t[10],h=t[11],m=t[12],p=t[13],g=t[14],v=t[15],y=r*s-n*a,_=r*u-i*a,b=r*c-o*a,w=n*u-i*s,E=n*c-o*s,M=i*c-o*u,x=f*p-l*m,A=f*g-d*m,T=f*v-h*m,k=l*g-d*p,S=l*v-h*p,P=d*v-h*g,C=y*P-_*S+b*k+w*T-E*A+M*x;return C?(C=1/C,e[0]=(s*P-u*S+c*k)*C,e[1]=(u*T-a*P-c*A)*C,e[2]=(a*S-s*T+c*x)*C,e[3]=(i*S-n*P-o*k)*C,e[4]=(r*P-i*T+o*A)*C,e[5]=(n*T-r*S-o*x)*C,e[6]=(p*M-g*E+v*w)*C,e[7]=(g*b-m*M-v*_)*C,e[8]=(m*E-p*b+v*y)*C,e):null}function Ne(e,t,r){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/r,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e}function Ue(e){return"mat3("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")"}function Ve(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+Math.pow(e[6],2)+Math.pow(e[7],2)+Math.pow(e[8],2))}function Ge(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e[8]=t[8]+r[8],e}function je(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e[6]=t[6]-r[6],e[7]=t[7]-r[7],e[8]=t[8]-r[8],e}function qe(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*r,e}function We(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e[4]=t[4]+r[4]*n,e[5]=t[5]+r[5]*n,e[6]=t[6]+r[6]*n,e[7]=t[7]+r[7]*n,e[8]=t[8]+r[8]*n,e}function ze(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]}function $e(e,t){var r=e[0],n=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],f=e[8],l=t[0],d=t[1],m=t[2],p=t[3],g=t[4],v=t[5],y=t[6],_=t[7],b=t[8];return Math.abs(r-l)<=h*Math.max(1,Math.abs(r),Math.abs(l))&&Math.abs(n-d)<=h*Math.max(1,Math.abs(n),Math.abs(d))&&Math.abs(i-m)<=h*Math.max(1,Math.abs(i),Math.abs(m))&&Math.abs(o-p)<=h*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(a-g)<=h*Math.max(1,Math.abs(a),Math.abs(g))&&Math.abs(s-v)<=h*Math.max(1,Math.abs(s),Math.abs(v))&&Math.abs(u-y)<=h*Math.max(1,Math.abs(u),Math.abs(y))&&Math.abs(c-_)<=h*Math.max(1,Math.abs(c),Math.abs(_))&&Math.abs(f-b)<=h*Math.max(1,Math.abs(f),Math.abs(b))}var Ye=Se,He=je;function Xe(){var e=new m(16);return m!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function Ke(e){var t=new m(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function Qe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function Ze(e,t,r,n,i,o,a,s,u,c,f,l,d,h,p,g){var v=new m(16);return v[0]=e,v[1]=t,v[2]=r,v[3]=n,v[4]=i,v[5]=o,v[6]=a,v[7]=s,v[8]=u,v[9]=c,v[10]=f,v[11]=l,v[12]=d,v[13]=h,v[14]=p,v[15]=g,v}function Je(e,t,r,n,i,o,a,s,u,c,f,l,d,h,m,p,g){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e[4]=o,e[5]=a,e[6]=s,e[7]=u,e[8]=c,e[9]=f,e[10]=l,e[11]=d,e[12]=h,e[13]=m,e[14]=p,e[15]=g,e}function et(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function tt(e,t){if(e===t){var r=t[1],n=t[2],i=t[3],o=t[6],a=t[7],s=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=r,e[6]=t[9],e[7]=t[13],e[8]=n,e[9]=o,e[11]=t[14],e[12]=i,e[13]=a,e[14]=s}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function rt(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],c=t[7],f=t[8],l=t[9],d=t[10],h=t[11],m=t[12],p=t[13],g=t[14],v=t[15],y=r*s-n*a,_=r*u-i*a,b=r*c-o*a,w=n*u-i*s,E=n*c-o*s,M=i*c-o*u,x=f*p-l*m,A=f*g-d*m,T=f*v-h*m,k=l*g-d*p,S=l*v-h*p,P=d*v-h*g,C=y*P-_*S+b*k+w*T-E*A+M*x;return C?(C=1/C,e[0]=(s*P-u*S+c*k)*C,e[1]=(i*S-n*P-o*k)*C,e[2]=(p*M-g*E+v*w)*C,e[3]=(d*E-l*M-h*w)*C,e[4]=(u*T-a*P-c*A)*C,e[5]=(r*P-i*T+o*A)*C,e[6]=(g*b-m*M-v*_)*C,e[7]=(f*M-d*b+h*_)*C,e[8]=(a*S-s*T+c*x)*C,e[9]=(n*T-r*S-o*x)*C,e[10]=(m*E-p*b+v*y)*C,e[11]=(l*b-f*E-h*y)*C,e[12]=(s*A-a*k-u*x)*C,e[13]=(r*k-n*A+i*x)*C,e[14]=(p*_-m*w-g*y)*C,e[15]=(f*w-l*_+d*y)*C,e):null}function nt(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],c=t[7],f=t[8],l=t[9],d=t[10],h=t[11],m=t[12],p=t[13],g=t[14],v=t[15];return e[0]=s*(d*v-h*g)-l*(u*v-c*g)+p*(u*h-c*d),e[1]=-(n*(d*v-h*g)-l*(i*v-o*g)+p*(i*h-o*d)),e[2]=n*(u*v-c*g)-s*(i*v-o*g)+p*(i*c-o*u),e[3]=-(n*(u*h-c*d)-s*(i*h-o*d)+l*(i*c-o*u)),e[4]=-(a*(d*v-h*g)-f*(u*v-c*g)+m*(u*h-c*d)),e[5]=r*(d*v-h*g)-f*(i*v-o*g)+m*(i*h-o*d),e[6]=-(r*(u*v-c*g)-a*(i*v-o*g)+m*(i*c-o*u)),e[7]=r*(u*h-c*d)-a*(i*h-o*d)+f*(i*c-o*u),e[8]=a*(l*v-h*p)-f*(s*v-c*p)+m*(s*h-c*l),e[9]=-(r*(l*v-h*p)-f*(n*v-o*p)+m*(n*h-o*l)),e[10]=r*(s*v-c*p)-a*(n*v-o*p)+m*(n*c-o*s),e[11]=-(r*(s*h-c*l)-a*(n*h-o*l)+f*(n*c-o*s)),e[12]=-(a*(l*g-d*p)-f*(s*g-u*p)+m*(s*d-u*l)),e[13]=r*(l*g-d*p)-f*(n*g-i*p)+m*(n*d-i*l),e[14]=-(r*(s*g-u*p)-a*(n*g-i*p)+m*(n*u-i*s)),e[15]=r*(s*d-u*l)-a*(n*d-i*l)+f*(n*u-i*s),e}function it(e){var t=e[0],r=e[1],n=e[2],i=e[3],o=e[4],a=e[5],s=e[6],u=e[7],c=e[8],f=e[9],l=e[10],d=e[11],h=e[12],m=e[13],p=e[14],g=e[15];return(t*a-r*o)*(l*g-d*p)-(t*s-n*o)*(f*g-d*m)+(t*u-i*o)*(f*p-l*m)+(r*s-n*a)*(c*g-d*h)-(r*u-i*a)*(c*p-l*h)+(n*u-i*s)*(c*m-f*h)}function ot(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=t[6],f=t[7],l=t[8],d=t[9],h=t[10],m=t[11],p=t[12],g=t[13],v=t[14],y=t[15],_=r[0],b=r[1],w=r[2],E=r[3];return e[0]=_*n+b*s+w*l+E*p,e[1]=_*i+b*u+w*d+E*g,e[2]=_*o+b*c+w*h+E*v,e[3]=_*a+b*f+w*m+E*y,_=r[4],b=r[5],w=r[6],E=r[7],e[4]=_*n+b*s+w*l+E*p,e[5]=_*i+b*u+w*d+E*g,e[6]=_*o+b*c+w*h+E*v,e[7]=_*a+b*f+w*m+E*y,_=r[8],b=r[9],w=r[10],E=r[11],e[8]=_*n+b*s+w*l+E*p,e[9]=_*i+b*u+w*d+E*g,e[10]=_*o+b*c+w*h+E*v,e[11]=_*a+b*f+w*m+E*y,_=r[12],b=r[13],w=r[14],E=r[15],e[12]=_*n+b*s+w*l+E*p,e[13]=_*i+b*u+w*d+E*g,e[14]=_*o+b*c+w*h+E*v,e[15]=_*a+b*f+w*m+E*y,e}function at(e,t,r){var n=r[0],i=r[1],o=r[2],a=void 0,s=void 0,u=void 0,c=void 0,f=void 0,l=void 0,d=void 0,h=void 0,m=void 0,p=void 0,g=void 0,v=void 0;return t===e?(e[12]=t[0]*n+t[4]*i+t[8]*o+t[12],e[13]=t[1]*n+t[5]*i+t[9]*o+t[13],e[14]=t[2]*n+t[6]*i+t[10]*o+t[14],e[15]=t[3]*n+t[7]*i+t[11]*o+t[15]):(a=t[0],s=t[1],u=t[2],c=t[3],f=t[4],l=t[5],d=t[6],h=t[7],m=t[8],p=t[9],g=t[10],v=t[11],e[0]=a,e[1]=s,e[2]=u,e[3]=c,e[4]=f,e[5]=l,e[6]=d,e[7]=h,e[8]=m,e[9]=p,e[10]=g,e[11]=v,e[12]=a*n+f*i+m*o+t[12],e[13]=s*n+l*i+p*o+t[13],e[14]=u*n+d*i+g*o+t[14],e[15]=c*n+h*i+v*o+t[15]),e}function st(e,t,r){var n=r[0],i=r[1],o=r[2];return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=t[11]*o,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function ut(e,t,r,n){var i,o,a,s,u,c,f,l,d,m,p,g,v,y,_,b,w,E,M,x,A,T,k,S,P=n[0],C=n[1],I=n[2],L=Math.sqrt(P*P+C*C+I*I);return L<h?null:(P*=L=1/L,C*=L,I*=L,i=Math.sin(r),a=1-(o=Math.cos(r)),s=t[0],u=t[1],c=t[2],f=t[3],l=t[4],d=t[5],m=t[6],p=t[7],g=t[8],v=t[9],y=t[10],_=t[11],b=P*P*a+o,w=C*P*a+I*i,E=I*P*a-C*i,M=P*C*a-I*i,x=C*C*a+o,A=I*C*a+P*i,T=P*I*a+C*i,k=C*I*a-P*i,S=I*I*a+o,e[0]=s*b+l*w+g*E,e[1]=u*b+d*w+v*E,e[2]=c*b+m*w+y*E,e[3]=f*b+p*w+_*E,e[4]=s*M+l*x+g*A,e[5]=u*M+d*x+v*A,e[6]=c*M+m*x+y*A,e[7]=f*M+p*x+_*A,e[8]=s*T+l*k+g*S,e[9]=u*T+d*k+v*S,e[10]=c*T+m*k+y*S,e[11]=f*T+p*k+_*S,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function ct(e,t,r){var n=Math.sin(r),i=Math.cos(r),o=t[4],a=t[5],s=t[6],u=t[7],c=t[8],f=t[9],l=t[10],d=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=o*i+c*n,e[5]=a*i+f*n,e[6]=s*i+l*n,e[7]=u*i+d*n,e[8]=c*i-o*n,e[9]=f*i-a*n,e[10]=l*i-s*n,e[11]=d*i-u*n,e}function ft(e,t,r){var n=Math.sin(r),i=Math.cos(r),o=t[0],a=t[1],s=t[2],u=t[3],c=t[8],f=t[9],l=t[10],d=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i-c*n,e[1]=a*i-f*n,e[2]=s*i-l*n,e[3]=u*i-d*n,e[8]=o*n+c*i,e[9]=a*n+f*i,e[10]=s*n+l*i,e[11]=u*n+d*i,e}function lt(e,t,r){var n=Math.sin(r),i=Math.cos(r),o=t[0],a=t[1],s=t[2],u=t[3],c=t[4],f=t[5],l=t[6],d=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i+c*n,e[1]=a*i+f*n,e[2]=s*i+l*n,e[3]=u*i+d*n,e[4]=c*i-o*n,e[5]=f*i-a*n,e[6]=l*i-s*n,e[7]=d*i-u*n,e}function dt(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function ht(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function mt(e,t,r){var n,i,o,a=r[0],s=r[1],u=r[2],c=Math.sqrt(a*a+s*s+u*u);return c<h?null:(a*=c=1/c,s*=c,u*=c,n=Math.sin(t),o=1-(i=Math.cos(t)),e[0]=a*a*o+i,e[1]=s*a*o+u*n,e[2]=u*a*o-s*n,e[3]=0,e[4]=a*s*o-u*n,e[5]=s*s*o+i,e[6]=u*s*o+a*n,e[7]=0,e[8]=a*u*o+s*n,e[9]=s*u*o-a*n,e[10]=u*u*o+i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function pt(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=n,e[6]=r,e[7]=0,e[8]=0,e[9]=-r,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function gt(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=0,e[2]=-r,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=r,e[9]=0,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function vt(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=0,e[3]=0,e[4]=-r,e[5]=n,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function yt(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],s=n+n,u=i+i,c=o+o,f=n*s,l=n*u,d=n*c,h=i*u,m=i*c,p=o*c,g=a*s,v=a*u,y=a*c;return e[0]=1-(h+p),e[1]=l+y,e[2]=d-v,e[3]=0,e[4]=l-y,e[5]=1-(f+p),e[6]=m+g,e[7]=0,e[8]=d+v,e[9]=m-g,e[10]=1-(f+h),e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}function _t(e,t){var r=new m(3),n=-t[0],i=-t[1],o=-t[2],a=t[3],s=t[4],u=t[5],c=t[6],f=t[7],l=n*n+i*i+o*o+a*a;return l>0?(r[0]=2*(s*a+f*n+u*o-c*i)/l,r[1]=2*(u*a+f*i+c*n-s*o)/l,r[2]=2*(c*a+f*o+s*i-u*n)/l):(r[0]=2*(s*a+f*n+u*o-c*i),r[1]=2*(u*a+f*i+c*n-s*o),r[2]=2*(c*a+f*o+s*i-u*n)),yt(e,t,r),e}function bt(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function wt(e,t){var r=t[0],n=t[1],i=t[2],o=t[4],a=t[5],s=t[6],u=t[8],c=t[9],f=t[10];return e[0]=Math.sqrt(r*r+n*n+i*i),e[1]=Math.sqrt(o*o+a*a+s*s),e[2]=Math.sqrt(u*u+c*c+f*f),e}function Et(e,t){var r=t[0]+t[5]+t[10],n=0;return r>0?(n=2*Math.sqrt(r+1),e[3]=.25*n,e[0]=(t[6]-t[9])/n,e[1]=(t[8]-t[2])/n,e[2]=(t[1]-t[4])/n):t[0]>t[5]&&t[0]>t[10]?(n=2*Math.sqrt(1+t[0]-t[5]-t[10]),e[3]=(t[6]-t[9])/n,e[0]=.25*n,e[1]=(t[1]+t[4])/n,e[2]=(t[8]+t[2])/n):t[5]>t[10]?(n=2*Math.sqrt(1+t[5]-t[0]-t[10]),e[3]=(t[8]-t[2])/n,e[0]=(t[1]+t[4])/n,e[1]=.25*n,e[2]=(t[6]+t[9])/n):(n=2*Math.sqrt(1+t[10]-t[0]-t[5]),e[3]=(t[1]-t[4])/n,e[0]=(t[8]+t[2])/n,e[1]=(t[6]+t[9])/n,e[2]=.25*n),e}function Mt(e,t,r,n){var i=t[0],o=t[1],a=t[2],s=t[3],u=i+i,c=o+o,f=a+a,l=i*u,d=i*c,h=i*f,m=o*c,p=o*f,g=a*f,v=s*u,y=s*c,_=s*f,b=n[0],w=n[1],E=n[2];return e[0]=(1-(m+g))*b,e[1]=(d+_)*b,e[2]=(h-y)*b,e[3]=0,e[4]=(d-_)*w,e[5]=(1-(l+g))*w,e[6]=(p+v)*w,e[7]=0,e[8]=(h+y)*E,e[9]=(p-v)*E,e[10]=(1-(l+m))*E,e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}function xt(e,t,r,n,i){var o=t[0],a=t[1],s=t[2],u=t[3],c=o+o,f=a+a,l=s+s,d=o*c,h=o*f,m=o*l,p=a*f,g=a*l,v=s*l,y=u*c,_=u*f,b=u*l,w=n[0],E=n[1],M=n[2],x=i[0],A=i[1],T=i[2],k=(1-(p+v))*w,S=(h+b)*w,P=(m-_)*w,C=(h-b)*E,I=(1-(d+v))*E,L=(g+y)*E,D=(m+_)*M,B=(g-y)*M,F=(1-(d+p))*M;return e[0]=k,e[1]=S,e[2]=P,e[3]=0,e[4]=C,e[5]=I,e[6]=L,e[7]=0,e[8]=D,e[9]=B,e[10]=F,e[11]=0,e[12]=r[0]+x-(k*x+C*A+D*T),e[13]=r[1]+A-(S*x+I*A+B*T),e[14]=r[2]+T-(P*x+L*A+F*T),e[15]=1,e}function At(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],a=r+r,s=n+n,u=i+i,c=r*a,f=n*a,l=n*s,d=i*a,h=i*s,m=i*u,p=o*a,g=o*s,v=o*u;return e[0]=1-l-m,e[1]=f+v,e[2]=d-g,e[3]=0,e[4]=f-v,e[5]=1-c-m,e[6]=h+p,e[7]=0,e[8]=d+g,e[9]=h-p,e[10]=1-c-l,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Tt(e,t,r,n,i,o,a){var s=1/(r-t),u=1/(i-n),c=1/(o-a);return e[0]=2*o*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*o*u,e[6]=0,e[7]=0,e[8]=(r+t)*s,e[9]=(i+n)*u,e[10]=(a+o)*c,e[11]=-1,e[12]=0,e[13]=0,e[14]=a*o*2*c,e[15]=0,e}function kt(e,t,r,n,i){var o=1/Math.tan(t/2),a=void 0;return e[0]=o/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=i&&i!==1/0?(a=1/(n-i),e[10]=(i+n)*a,e[14]=2*i*n*a):(e[10]=-1,e[14]=-2*n),e}function St(e,t,r,n){var i=Math.tan(t.upDegrees*Math.PI/180),o=Math.tan(t.downDegrees*Math.PI/180),a=Math.tan(t.leftDegrees*Math.PI/180),s=Math.tan(t.rightDegrees*Math.PI/180),u=2/(a+s),c=2/(i+o);return e[0]=u,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=c,e[6]=0,e[7]=0,e[8]=-(a-s)*u*.5,e[9]=(i-o)*c*.5,e[10]=n/(r-n),e[11]=-1,e[12]=0,e[13]=0,e[14]=n*r/(r-n),e[15]=0,e}function Pt(e,t,r,n,i,o,a){var s=1/(t-r),u=1/(n-i),c=1/(o-a);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+r)*s,e[13]=(i+n)*u,e[14]=(a+o)*c,e[15]=1,e}function Ct(e,t,r,n){var i=void 0,o=void 0,a=void 0,s=void 0,u=void 0,c=void 0,f=void 0,l=void 0,d=void 0,m=void 0,p=t[0],g=t[1],v=t[2],y=n[0],_=n[1],b=n[2],w=r[0],E=r[1],M=r[2];return Math.abs(p-w)<h&&Math.abs(g-E)<h&&Math.abs(v-M)<h?et(e):(f=p-w,l=g-E,d=v-M,i=_*(d*=m=1/Math.sqrt(f*f+l*l+d*d))-b*(l*=m),o=b*(f*=m)-y*d,a=y*l-_*f,(m=Math.sqrt(i*i+o*o+a*a))?(i*=m=1/m,o*=m,a*=m):(i=0,o=0,a=0),s=l*a-d*o,u=d*i-f*a,c=f*o-l*i,(m=Math.sqrt(s*s+u*u+c*c))?(s*=m=1/m,u*=m,c*=m):(s=0,u=0,c=0),e[0]=i,e[1]=s,e[2]=f,e[3]=0,e[4]=o,e[5]=u,e[6]=l,e[7]=0,e[8]=a,e[9]=c,e[10]=d,e[11]=0,e[12]=-(i*p+o*g+a*v),e[13]=-(s*p+u*g+c*v),e[14]=-(f*p+l*g+d*v),e[15]=1,e)}function It(e,t,r,n){var i=t[0],o=t[1],a=t[2],s=n[0],u=n[1],c=n[2],f=i-r[0],l=o-r[1],d=a-r[2],h=f*f+l*l+d*d;h>0&&(f*=h=1/Math.sqrt(h),l*=h,d*=h);var m=u*d-c*l,p=c*f-s*d,g=s*l-u*f;return(h=m*m+p*p+g*g)>0&&(m*=h=1/Math.sqrt(h),p*=h,g*=h),e[0]=m,e[1]=p,e[2]=g,e[3]=0,e[4]=l*g-d*p,e[5]=d*m-f*g,e[6]=f*p-l*m,e[7]=0,e[8]=f,e[9]=l,e[10]=d,e[11]=0,e[12]=i,e[13]=o,e[14]=a,e[15]=1,e}function Lt(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}function Dt(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+Math.pow(e[6],2)+Math.pow(e[7],2)+Math.pow(e[8],2)+Math.pow(e[9],2)+Math.pow(e[10],2)+Math.pow(e[11],2)+Math.pow(e[12],2)+Math.pow(e[13],2)+Math.pow(e[14],2)+Math.pow(e[15],2))}function Bt(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e[8]=t[8]+r[8],e[9]=t[9]+r[9],e[10]=t[10]+r[10],e[11]=t[11]+r[11],e[12]=t[12]+r[12],e[13]=t[13]+r[13],e[14]=t[14]+r[14],e[15]=t[15]+r[15],e}function Ft(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e[6]=t[6]-r[6],e[7]=t[7]-r[7],e[8]=t[8]-r[8],e[9]=t[9]-r[9],e[10]=t[10]-r[10],e[11]=t[11]-r[11],e[12]=t[12]-r[12],e[13]=t[13]-r[13],e[14]=t[14]-r[14],e[15]=t[15]-r[15],e}function Rt(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*r,e[9]=t[9]*r,e[10]=t[10]*r,e[11]=t[11]*r,e[12]=t[12]*r,e[13]=t[13]*r,e[14]=t[14]*r,e[15]=t[15]*r,e}function Ot(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e[4]=t[4]+r[4]*n,e[5]=t[5]+r[5]*n,e[6]=t[6]+r[6]*n,e[7]=t[7]+r[7]*n,e[8]=t[8]+r[8]*n,e[9]=t[9]+r[9]*n,e[10]=t[10]+r[10]*n,e[11]=t[11]+r[11]*n,e[12]=t[12]+r[12]*n,e[13]=t[13]+r[13]*n,e[14]=t[14]+r[14]*n,e[15]=t[15]+r[15]*n,e}function Nt(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function Ut(e,t){var r=e[0],n=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],f=e[8],l=e[9],d=e[10],m=e[11],p=e[12],g=e[13],v=e[14],y=e[15],_=t[0],b=t[1],w=t[2],E=t[3],M=t[4],x=t[5],A=t[6],T=t[7],k=t[8],S=t[9],P=t[10],C=t[11],I=t[12],L=t[13],D=t[14],B=t[15];return Math.abs(r-_)<=h*Math.max(1,Math.abs(r),Math.abs(_))&&Math.abs(n-b)<=h*Math.max(1,Math.abs(n),Math.abs(b))&&Math.abs(i-w)<=h*Math.max(1,Math.abs(i),Math.abs(w))&&Math.abs(o-E)<=h*Math.max(1,Math.abs(o),Math.abs(E))&&Math.abs(a-M)<=h*Math.max(1,Math.abs(a),Math.abs(M))&&Math.abs(s-x)<=h*Math.max(1,Math.abs(s),Math.abs(x))&&Math.abs(u-A)<=h*Math.max(1,Math.abs(u),Math.abs(A))&&Math.abs(c-T)<=h*Math.max(1,Math.abs(c),Math.abs(T))&&Math.abs(f-k)<=h*Math.max(1,Math.abs(f),Math.abs(k))&&Math.abs(l-S)<=h*Math.max(1,Math.abs(l),Math.abs(S))&&Math.abs(d-P)<=h*Math.max(1,Math.abs(d),Math.abs(P))&&Math.abs(m-C)<=h*Math.max(1,Math.abs(m),Math.abs(C))&&Math.abs(p-I)<=h*Math.max(1,Math.abs(p),Math.abs(I))&&Math.abs(g-L)<=h*Math.max(1,Math.abs(g),Math.abs(L))&&Math.abs(v-D)<=h*Math.max(1,Math.abs(v),Math.abs(D))&&Math.abs(y-B)<=h*Math.max(1,Math.abs(y),Math.abs(B))}var Vt=ot,Gt=Ft;function jt(){var e=new m(3);return m!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function qt(e){var t=new m(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function Wt(e){var t=e[0],r=e[1],n=e[2];return Math.sqrt(t*t+r*r+n*n)}function zt(e,t,r){var n=new m(3);return n[0]=e,n[1]=t,n[2]=r,n}function $t(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function Yt(e,t,r,n){return e[0]=t,e[1]=r,e[2]=n,e}function Ht(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e}function Xt(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e}function Kt(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e}function Qt(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e}function Zt(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e}function Jt(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e}function er(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e}function tr(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e}function rr(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e}function nr(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e}function ir(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e}function or(e,t){var r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2];return Math.sqrt(r*r+n*n+i*i)}function ar(e,t){var r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2];return r*r+n*n+i*i}function sr(e){var t=e[0],r=e[1],n=e[2];return t*t+r*r+n*n}function ur(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function cr(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}function fr(e,t){var r=t[0],n=t[1],i=t[2],o=r*r+n*n+i*i;return o>0&&(o=1/Math.sqrt(o),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o),e}function lr(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function dr(e,t,r){var n=t[0],i=t[1],o=t[2],a=r[0],s=r[1],u=r[2];return e[0]=i*u-o*s,e[1]=o*a-n*u,e[2]=n*s-i*a,e}function hr(e,t,r,n){var i=t[0],o=t[1],a=t[2];return e[0]=i+n*(r[0]-i),e[1]=o+n*(r[1]-o),e[2]=a+n*(r[2]-a),e}function mr(e,t,r,n,i,o){var a=o*o,s=a*(2*o-3)+1,u=a*(o-2)+o,c=a*(o-1),f=a*(3-2*o);return e[0]=t[0]*s+r[0]*u+n[0]*c+i[0]*f,e[1]=t[1]*s+r[1]*u+n[1]*c+i[1]*f,e[2]=t[2]*s+r[2]*u+n[2]*c+i[2]*f,e}function pr(e,t,r,n,i,o){var a=1-o,s=a*a,u=o*o,c=s*a,f=3*o*s,l=3*u*a,d=u*o;return e[0]=t[0]*c+r[0]*f+n[0]*l+i[0]*d,e[1]=t[1]*c+r[1]*f+n[1]*l+i[1]*d,e[2]=t[2]*c+r[2]*f+n[2]*l+i[2]*d,e}function gr(e,t){t=t||1;var r=2*p()*Math.PI,n=2*p()-1,i=Math.sqrt(1-n*n)*t;return e[0]=Math.cos(r)*i,e[1]=Math.sin(r)*i,e[2]=n*t,e}function vr(e,t,r){var n=t[0],i=t[1],o=t[2],a=r[3]*n+r[7]*i+r[11]*o+r[15];return a=a||1,e[0]=(r[0]*n+r[4]*i+r[8]*o+r[12])/a,e[1]=(r[1]*n+r[5]*i+r[9]*o+r[13])/a,e[2]=(r[2]*n+r[6]*i+r[10]*o+r[14])/a,e}function yr(e,t,r){var n=t[0],i=t[1],o=t[2];return e[0]=n*r[0]+i*r[3]+o*r[6],e[1]=n*r[1]+i*r[4]+o*r[7],e[2]=n*r[2]+i*r[5]+o*r[8],e}function _r(e,t,r){var n=r[0],i=r[1],o=r[2],a=r[3],s=t[0],u=t[1],c=t[2],f=i*c-o*u,l=o*s-n*c,d=n*u-i*s,h=i*d-o*l,m=o*f-n*d,p=n*l-i*f,g=2*a;return f*=g,l*=g,d*=g,h*=2,m*=2,p*=2,e[0]=s+f+h,e[1]=u+l+m,e[2]=c+d+p,e}function br(e,t,r,n){var i=[],o=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],o[0]=i[0],o[1]=i[1]*Math.cos(n)-i[2]*Math.sin(n),o[2]=i[1]*Math.sin(n)+i[2]*Math.cos(n),e[0]=o[0]+r[0],e[1]=o[1]+r[1],e[2]=o[2]+r[2],e}function wr(e,t,r,n){var i=[],o=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],o[0]=i[2]*Math.sin(n)+i[0]*Math.cos(n),o[1]=i[1],o[2]=i[2]*Math.cos(n)-i[0]*Math.sin(n),e[0]=o[0]+r[0],e[1]=o[1]+r[1],e[2]=o[2]+r[2],e}function Er(e,t,r,n){var i=[],o=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],o[0]=i[0]*Math.cos(n)-i[1]*Math.sin(n),o[1]=i[0]*Math.sin(n)+i[1]*Math.cos(n),o[2]=i[2],e[0]=o[0]+r[0],e[1]=o[1]+r[1],e[2]=o[2]+r[2],e}function Mr(e,t){var r=zt(e[0],e[1],e[2]),n=zt(t[0],t[1],t[2]);fr(r,r),fr(n,n);var i=lr(r,n);return i>1?0:i<-1?Math.PI:Math.acos(i)}function xr(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"}function Ar(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function Tr(e,t){var r=e[0],n=e[1],i=e[2],o=t[0],a=t[1],s=t[2];return Math.abs(r-o)<=h*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(n-a)<=h*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(i-s)<=h*Math.max(1,Math.abs(i),Math.abs(s))}var kr,Sr=Xt,Pr=Kt,Cr=Qt,Ir=or,Lr=ar,Dr=Wt,Br=sr,Fr=(kr=jt(),function(e,t,r,n,i,o){var a=void 0,s=void 0;for(t||(t=3),r||(r=0),s=n?Math.min(n*t+r,e.length):e.length,a=r;a<s;a+=t)kr[0]=e[a],kr[1]=e[a+1],kr[2]=e[a+2],i(kr,kr,o),e[a]=kr[0],e[a+1]=kr[1],e[a+2]=kr[2];return e});function Rr(){var e=new m(4);return m!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function Or(e){var t=new m(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function Nr(e,t,r,n){var i=new m(4);return i[0]=e,i[1]=t,i[2]=r,i[3]=n,i}function Ur(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function Vr(e,t,r,n,i){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e}function Gr(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e}function jr(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e}function qr(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e[3]=t[3]*r[3],e}function Wr(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e[3]=t[3]/r[3],e}function zr(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e}function $r(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e}function Yr(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e[3]=Math.min(t[3],r[3]),e}function Hr(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e[3]=Math.max(t[3],r[3]),e}function Xr(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e}function Kr(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e}function Qr(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e}function Zr(e,t){var r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2],o=t[3]-e[3];return Math.sqrt(r*r+n*n+i*i+o*o)}function Jr(e,t){var r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2],o=t[3]-e[3];return r*r+n*n+i*i+o*o}function en(e){var t=e[0],r=e[1],n=e[2],i=e[3];return Math.sqrt(t*t+r*r+n*n+i*i)}function tn(e){var t=e[0],r=e[1],n=e[2],i=e[3];return t*t+r*r+n*n+i*i}function rn(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e}function nn(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e}function on(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],a=r*r+n*n+i*i+o*o;return a>0&&(a=1/Math.sqrt(a),e[0]=r*a,e[1]=n*a,e[2]=i*a,e[3]=o*a),e}function an(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function sn(e,t,r,n){var i=t[0],o=t[1],a=t[2],s=t[3];return e[0]=i+n*(r[0]-i),e[1]=o+n*(r[1]-o),e[2]=a+n*(r[2]-a),e[3]=s+n*(r[3]-s),e}function un(e,t){var r,n,i,o,a,s;t=t||1;do{a=(r=2*p()-1)*r+(n=2*p()-1)*n}while(a>=1);do{s=(i=2*p()-1)*i+(o=2*p()-1)*o}while(s>=1);var u=Math.sqrt((1-a)/s);return e[0]=t*r,e[1]=t*n,e[2]=t*i*u,e[3]=t*o*u,e}function cn(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3];return e[0]=r[0]*n+r[4]*i+r[8]*o+r[12]*a,e[1]=r[1]*n+r[5]*i+r[9]*o+r[13]*a,e[2]=r[2]*n+r[6]*i+r[10]*o+r[14]*a,e[3]=r[3]*n+r[7]*i+r[11]*o+r[15]*a,e}function fn(e,t,r){var n=t[0],i=t[1],o=t[2],a=r[0],s=r[1],u=r[2],c=r[3],f=c*n+s*o-u*i,l=c*i+u*n-a*o,d=c*o+a*i-s*n,h=-a*n-s*i-u*o;return e[0]=f*c+h*-a+l*-u-d*-s,e[1]=l*c+h*-s+d*-a-f*-u,e[2]=d*c+h*-u+f*-s-l*-a,e[3]=t[3],e}function ln(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}function dn(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function hn(e,t){var r=e[0],n=e[1],i=e[2],o=e[3],a=t[0],s=t[1],u=t[2],c=t[3];return Math.abs(r-a)<=h*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(n-s)<=h*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(i-u)<=h*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(o-c)<=h*Math.max(1,Math.abs(o),Math.abs(c))}var mn=jr,pn=qr,gn=Wr,vn=Zr,yn=Jr,_n=en,bn=tn,wn=function(){var e=Rr();return function(t,r,n,i,o,a){var s=void 0,u=void 0;for(r||(r=4),n||(n=0),u=i?Math.min(i*r+n,t.length):t.length,s=n;s<u;s+=r)e[0]=t[s],e[1]=t[s+1],e[2]=t[s+2],e[3]=t[s+3],o(e,e,a),t[s]=e[0],t[s+1]=e[1],t[s+2]=e[2],t[s+3]=e[3];return t}}();function En(){var e=new m(4);return m!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function Mn(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e}function xn(e,t,r){r*=.5;var n=Math.sin(r);return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=Math.cos(r),e}function An(e,t){var r=2*Math.acos(t[3]),n=Math.sin(r/2);return n>h?(e[0]=t[0]/n,e[1]=t[1]/n,e[2]=t[2]/n):(e[0]=1,e[1]=0,e[2]=0),r}function Tn(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],s=r[0],u=r[1],c=r[2],f=r[3];return e[0]=n*f+a*s+i*c-o*u,e[1]=i*f+a*u+o*s-n*c,e[2]=o*f+a*c+n*u-i*s,e[3]=a*f-n*s-i*u-o*c,e}function kn(e,t,r){r*=.5;var n=t[0],i=t[1],o=t[2],a=t[3],s=Math.sin(r),u=Math.cos(r);return e[0]=n*u+a*s,e[1]=i*u+o*s,e[2]=o*u-i*s,e[3]=a*u-n*s,e}function Sn(e,t,r){r*=.5;var n=t[0],i=t[1],o=t[2],a=t[3],s=Math.sin(r),u=Math.cos(r);return e[0]=n*u-o*s,e[1]=i*u+a*s,e[2]=o*u+n*s,e[3]=a*u-i*s,e}function Pn(e,t,r){r*=.5;var n=t[0],i=t[1],o=t[2],a=t[3],s=Math.sin(r),u=Math.cos(r);return e[0]=n*u+i*s,e[1]=i*u-n*s,e[2]=o*u+a*s,e[3]=a*u-o*s,e}function Cn(e,t){var r=t[0],n=t[1],i=t[2];return e[0]=r,e[1]=n,e[2]=i,e[3]=Math.sqrt(Math.abs(1-r*r-n*n-i*i)),e}function In(e,t,r,n){var i=t[0],o=t[1],a=t[2],s=t[3],u=r[0],c=r[1],f=r[2],l=r[3],d=void 0,m=void 0,p=void 0,g=void 0,v=void 0;return(m=i*u+o*c+a*f+s*l)<0&&(m=-m,u=-u,c=-c,f=-f,l=-l),1-m>h?(d=Math.acos(m),p=Math.sin(d),g=Math.sin((1-n)*d)/p,v=Math.sin(n*d)/p):(g=1-n,v=n),e[0]=g*i+v*u,e[1]=g*o+v*c,e[2]=g*a+v*f,e[3]=g*s+v*l,e}function Ln(e){var t=p(),r=p(),n=p(),i=Math.sqrt(1-t),o=Math.sqrt(t);return e[0]=i*Math.sin(2*Math.PI*r),e[1]=i*Math.cos(2*Math.PI*r),e[2]=o*Math.sin(2*Math.PI*n),e[3]=o*Math.cos(2*Math.PI*n),e}function Dn(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],a=r*r+n*n+i*i+o*o,s=a?1/a:0;return e[0]=-r*s,e[1]=-n*s,e[2]=-i*s,e[3]=o*s,e}function Bn(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e}function Fn(e,t){var r=t[0]+t[4]+t[8],n=void 0;if(r>0)n=Math.sqrt(r+1),e[3]=.5*n,n=.5/n,e[0]=(t[5]-t[7])*n,e[1]=(t[6]-t[2])*n,e[2]=(t[1]-t[3])*n;else{var i=0;t[4]>t[0]&&(i=1),t[8]>t[3*i+i]&&(i=2);var o=(i+1)%3,a=(i+2)%3;n=Math.sqrt(t[3*i+i]-t[3*o+o]-t[3*a+a]+1),e[i]=.5*n,n=.5/n,e[3]=(t[3*o+a]-t[3*a+o])*n,e[o]=(t[3*o+i]+t[3*i+o])*n,e[a]=(t[3*a+i]+t[3*i+a])*n}return e}function Rn(e,t,r,n){var i=.5*Math.PI/180;t*=i,r*=i,n*=i;var o=Math.sin(t),a=Math.cos(t),s=Math.sin(r),u=Math.cos(r),c=Math.sin(n),f=Math.cos(n);return e[0]=o*u*f-a*s*c,e[1]=a*s*f+o*u*c,e[2]=a*u*c-o*s*f,e[3]=a*u*f+o*s*c,e}function On(e){return"quat("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}var Nn,Un,Vn,Gn,jn,qn,Wn=Or,zn=Nr,$n=Ur,Yn=Vr,Hn=Gr,Xn=Tn,Kn=Kr,Qn=an,Zn=sn,Jn=en,ei=Jn,ti=tn,ri=ti,ni=on,ii=dn,oi=hn,ai=(Nn=jt(),Un=zt(1,0,0),Vn=zt(0,1,0),function(e,t,r){var n=lr(t,r);return n<-.999999?(dr(Nn,Un,t),Dr(Nn)<1e-6&&dr(Nn,Vn,t),fr(Nn,Nn),xn(e,Nn,Math.PI),e):n>.999999?(e[0]=0,e[1]=0,e[2]=0,e[3]=1,e):(dr(Nn,t,r),e[0]=Nn[0],e[1]=Nn[1],e[2]=Nn[2],e[3]=1+n,ni(e,e))}),si=(Gn=En(),jn=En(),function(e,t,r,n,i,o){return In(Gn,t,i,o),In(jn,r,n,o),In(e,Gn,jn,2*o*(1-o)),e}),ui=(qn=ve(),function(e,t,r,n){return qn[0]=r[0],qn[3]=r[1],qn[6]=r[2],qn[1]=n[0],qn[4]=n[1],qn[7]=n[2],qn[2]=-t[0],qn[5]=-t[1],qn[8]=-t[2],ni(e,Fn(e,qn))});function ci(){var e=new m(8);return m!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[4]=0,e[5]=0,e[6]=0,e[7]=0),e[3]=1,e}function fi(e){var t=new m(8);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t}function li(e,t,r,n,i,o,a,s){var u=new m(8);return u[0]=e,u[1]=t,u[2]=r,u[3]=n,u[4]=i,u[5]=o,u[6]=a,u[7]=s,u}function di(e,t,r,n,i,o,a){var s=new m(8);s[0]=e,s[1]=t,s[2]=r,s[3]=n;var u=.5*i,c=.5*o,f=.5*a;return s[4]=u*n+c*r-f*t,s[5]=c*n+f*e-u*r,s[6]=f*n+u*t-c*e,s[7]=-u*e-c*t-f*r,s}function hi(e,t,r){var n=.5*r[0],i=.5*r[1],o=.5*r[2],a=t[0],s=t[1],u=t[2],c=t[3];return e[0]=a,e[1]=s,e[2]=u,e[3]=c,e[4]=n*c+i*u-o*s,e[5]=i*c+o*a-n*u,e[6]=o*c+n*s-i*a,e[7]=-n*a-i*s-o*u,e}function mi(e,t){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e[4]=.5*t[0],e[5]=.5*t[1],e[6]=.5*t[2],e[7]=0,e}function pi(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=0,e[5]=0,e[6]=0,e[7]=0,e}function gi(e,t){var r=En();Et(r,t);var n=new m(3);return bt(n,t),hi(e,r,n),e}function vi(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e}function yi(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e[6]=0,e[7]=0,e}function _i(e,t,r,n,i,o,a,s,u){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e[4]=o,e[5]=a,e[6]=s,e[7]=u,e}var bi=$n;function wi(e,t){return e[0]=t[4],e[1]=t[5],e[2]=t[6],e[3]=t[7],e}var Ei=$n;function Mi(e,t){return e[4]=t[0],e[5]=t[1],e[6]=t[2],e[7]=t[3],e}function xi(e,t){var r=t[4],n=t[5],i=t[6],o=t[7],a=-t[0],s=-t[1],u=-t[2],c=t[3];return e[0]=2*(r*c+o*a+n*u-i*s),e[1]=2*(n*c+o*s+i*a-r*u),e[2]=2*(i*c+o*u+r*s-n*a),e}function Ai(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],s=.5*r[0],u=.5*r[1],c=.5*r[2],f=t[4],l=t[5],d=t[6],h=t[7];return e[0]=n,e[1]=i,e[2]=o,e[3]=a,e[4]=a*s+i*c-o*u+f,e[5]=a*u+o*s-n*c+l,e[6]=a*c+n*u-i*s+d,e[7]=-n*s-i*u-o*c+h,e}function Ti(e,t,r){var n=-t[0],i=-t[1],o=-t[2],a=t[3],s=t[4],u=t[5],c=t[6],f=t[7],l=s*a+f*n+u*o-c*i,d=u*a+f*i+c*n-s*o,h=c*a+f*o+s*i-u*n,m=f*a-s*n-u*i-c*o;return kn(e,t,r),n=e[0],i=e[1],o=e[2],a=e[3],e[4]=l*a+m*n+d*o-h*i,e[5]=d*a+m*i+h*n-l*o,e[6]=h*a+m*o+l*i-d*n,e[7]=m*a-l*n-d*i-h*o,e}function ki(e,t,r){var n=-t[0],i=-t[1],o=-t[2],a=t[3],s=t[4],u=t[5],c=t[6],f=t[7],l=s*a+f*n+u*o-c*i,d=u*a+f*i+c*n-s*o,h=c*a+f*o+s*i-u*n,m=f*a-s*n-u*i-c*o;return Sn(e,t,r),n=e[0],i=e[1],o=e[2],a=e[3],e[4]=l*a+m*n+d*o-h*i,e[5]=d*a+m*i+h*n-l*o,e[6]=h*a+m*o+l*i-d*n,e[7]=m*a-l*n-d*i-h*o,e}function Si(e,t,r){var n=-t[0],i=-t[1],o=-t[2],a=t[3],s=t[4],u=t[5],c=t[6],f=t[7],l=s*a+f*n+u*o-c*i,d=u*a+f*i+c*n-s*o,h=c*a+f*o+s*i-u*n,m=f*a-s*n-u*i-c*o;return Pn(e,t,r),n=e[0],i=e[1],o=e[2],a=e[3],e[4]=l*a+m*n+d*o-h*i,e[5]=d*a+m*i+h*n-l*o,e[6]=h*a+m*o+l*i-d*n,e[7]=m*a-l*n-d*i-h*o,e}function Pi(e,t,r){var n=r[0],i=r[1],o=r[2],a=r[3],s=t[0],u=t[1],c=t[2],f=t[3];return e[0]=s*a+f*n+u*o-c*i,e[1]=u*a+f*i+c*n-s*o,e[2]=c*a+f*o+s*i-u*n,e[3]=f*a-s*n-u*i-c*o,s=t[4],u=t[5],c=t[6],f=t[7],e[4]=s*a+f*n+u*o-c*i,e[5]=u*a+f*i+c*n-s*o,e[6]=c*a+f*o+s*i-u*n,e[7]=f*a-s*n-u*i-c*o,e}function Ci(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],s=r[0],u=r[1],c=r[2],f=r[3];return e[0]=n*f+a*s+i*c-o*u,e[1]=i*f+a*u+o*s-n*c,e[2]=o*f+a*c+n*u-i*s,e[3]=a*f-n*s-i*u-o*c,s=r[4],u=r[5],c=r[6],f=r[7],e[4]=n*f+a*s+i*c-o*u,e[5]=i*f+a*u+o*s-n*c,e[6]=o*f+a*c+n*u-i*s,e[7]=a*f-n*s-i*u-o*c,e}function Ii(e,t,r,n){if(Math.abs(n)<h)return vi(e,t);var i=Math.sqrt(r[0]*r[0]+r[1]*r[1]+r[2]*r[2]);n*=.5;var o=Math.sin(n),a=o*r[0]/i,s=o*r[1]/i,u=o*r[2]/i,c=Math.cos(n),f=t[0],l=t[1],d=t[2],m=t[3];e[0]=f*c+m*a+l*u-d*s,e[1]=l*c+m*s+d*a-f*u,e[2]=d*c+m*u+f*s-l*a,e[3]=m*c-f*a-l*s-d*u;var p=t[4],g=t[5],v=t[6],y=t[7];return e[4]=p*c+y*a+g*u-v*s,e[5]=g*c+y*s+v*a-p*u,e[6]=v*c+y*u+p*s-g*a,e[7]=y*c-p*a-g*s-v*u,e}function Li(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e}function Di(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],s=r[4],u=r[5],c=r[6],f=r[7],l=t[4],d=t[5],h=t[6],m=t[7],p=r[0],g=r[1],v=r[2],y=r[3];return e[0]=n*y+a*p+i*v-o*g,e[1]=i*y+a*g+o*p-n*v,e[2]=o*y+a*v+n*g-i*p,e[3]=a*y-n*p-i*g-o*v,e[4]=n*f+a*s+i*c-o*u+l*y+m*p+d*v-h*g,e[5]=i*f+a*u+o*s-n*c+d*y+m*g+h*p-l*v,e[6]=o*f+a*c+n*u-i*s+h*y+m*v+l*g-d*p,e[7]=a*f-n*s-i*u-o*c+m*y-l*p-d*g-h*v,e}var Bi=Di;function Fi(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e}var Ri=Qn;function Oi(e,t,r,n){var i=1-n;return Ri(t,r)<0&&(n=-n),e[0]=t[0]*i+r[0]*n,e[1]=t[1]*i+r[1]*n,e[2]=t[2]*i+r[2]*n,e[3]=t[3]*i+r[3]*n,e[4]=t[4]*i+r[4]*n,e[5]=t[5]*i+r[5]*n,e[6]=t[6]*i+r[6]*n,e[7]=t[7]*i+r[7]*n,e}function Ni(e,t){var r=ji(t);return e[0]=-t[0]/r,e[1]=-t[1]/r,e[2]=-t[2]/r,e[3]=t[3]/r,e[4]=-t[4]/r,e[5]=-t[5]/r,e[6]=-t[6]/r,e[7]=t[7]/r,e}function Ui(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e[4]=-t[4],e[5]=-t[5],e[6]=-t[6],e[7]=t[7],e}var Vi=Jn,Gi=Vi,ji=ti,qi=ji;function Wi(e,t){var r=ji(t);if(r>0){r=Math.sqrt(r);var n=t[0]/r,i=t[1]/r,o=t[2]/r,a=t[3]/r,s=t[4],u=t[5],c=t[6],f=t[7],l=n*s+i*u+o*c+a*f;e[0]=n,e[1]=i,e[2]=o,e[3]=a,e[4]=(s-n*l)/r,e[5]=(u-i*l)/r,e[6]=(c-o*l)/r,e[7]=(f-a*l)/r}return e}function zi(e){return"quat2("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+")"}function $i(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]}function Yi(e,t){var r=e[0],n=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],f=t[0],l=t[1],d=t[2],m=t[3],p=t[4],g=t[5],v=t[6],y=t[7];return Math.abs(r-f)<=h*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(n-l)<=h*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(i-d)<=h*Math.max(1,Math.abs(i),Math.abs(d))&&Math.abs(o-m)<=h*Math.max(1,Math.abs(o),Math.abs(m))&&Math.abs(a-p)<=h*Math.max(1,Math.abs(a),Math.abs(p))&&Math.abs(s-g)<=h*Math.max(1,Math.abs(s),Math.abs(g))&&Math.abs(u-v)<=h*Math.max(1,Math.abs(u),Math.abs(v))&&Math.abs(c-y)<=h*Math.max(1,Math.abs(c),Math.abs(y))}function Hi(){var e=new m(2);return m!=Float32Array&&(e[0]=0,e[1]=0),e}function Xi(e){var t=new m(2);return t[0]=e[0],t[1]=e[1],t}function Ki(e,t){var r=new m(2);return r[0]=e,r[1]=t,r}function Qi(e,t){return e[0]=t[0],e[1]=t[1],e}function Zi(e,t,r){return e[0]=t,e[1]=r,e}function Ji(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e}function eo(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e}function to(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e}function ro(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e}function no(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e}function io(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e}function oo(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e}function ao(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e}function so(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e}function uo(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e}function co(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e}function fo(e,t){var r=t[0]-e[0],n=t[1]-e[1];return Math.sqrt(r*r+n*n)}function lo(e,t){var r=t[0]-e[0],n=t[1]-e[1];return r*r+n*n}function ho(e){var t=e[0],r=e[1];return Math.sqrt(t*t+r*r)}function mo(e){var t=e[0],r=e[1];return t*t+r*r}function po(e,t){return e[0]=-t[0],e[1]=-t[1],e}function go(e,t){return e[0]=1/t[0],e[1]=1/t[1],e}function vo(e,t){var r=t[0],n=t[1],i=r*r+n*n;return i>0&&(i=1/Math.sqrt(i),e[0]=t[0]*i,e[1]=t[1]*i),e}function yo(e,t){return e[0]*t[0]+e[1]*t[1]}function _o(e,t,r){var n=t[0]*r[1]-t[1]*r[0];return e[0]=e[1]=0,e[2]=n,e}function bo(e,t,r,n){var i=t[0],o=t[1];return e[0]=i+n*(r[0]-i),e[1]=o+n*(r[1]-o),e}function wo(e,t){t=t||1;var r=2*p()*Math.PI;return e[0]=Math.cos(r)*t,e[1]=Math.sin(r)*t,e}function Eo(e,t,r){var n=t[0],i=t[1];return e[0]=r[0]*n+r[2]*i,e[1]=r[1]*n+r[3]*i,e}function Mo(e,t,r){var n=t[0],i=t[1];return e[0]=r[0]*n+r[2]*i+r[4],e[1]=r[1]*n+r[3]*i+r[5],e}function xo(e,t,r){var n=t[0],i=t[1];return e[0]=r[0]*n+r[3]*i+r[6],e[1]=r[1]*n+r[4]*i+r[7],e}function Ao(e,t,r){var n=t[0],i=t[1];return e[0]=r[0]*n+r[4]*i+r[12],e[1]=r[1]*n+r[5]*i+r[13],e}function To(e,t,r,n){var i=t[0]-r[0],o=t[1]-r[1],a=Math.sin(n),s=Math.cos(n);return e[0]=i*s-o*a+r[0],e[1]=i*a+o*s+r[1],e}function ko(e,t){var r=e[0],n=e[1],i=t[0],o=t[1],a=r*r+n*n;a>0&&(a=1/Math.sqrt(a));var s=i*i+o*o;s>0&&(s=1/Math.sqrt(s));var u=(r*i+n*o)*a*s;return u>1?0:u<-1?Math.PI:Math.acos(u)}function So(e){return"vec2("+e[0]+", "+e[1]+")"}function Po(e,t){return e[0]===t[0]&&e[1]===t[1]}function Co(e,t){var r=e[0],n=e[1],i=t[0],o=t[1];return Math.abs(r-i)<=h*Math.max(1,Math.abs(r),Math.abs(i))&&Math.abs(n-o)<=h*Math.max(1,Math.abs(n),Math.abs(o))}var Io=ho,Lo=eo,Do=to,Bo=ro,Fo=fo,Ro=lo,Oo=mo,No=function(){var e=Hi();return function(t,r,n,i,o,a){var s=void 0,u=void 0;for(r||(r=2),n||(n=0),u=i?Math.min(i*r+n,t.length):t.length,s=n;s<u;s+=r)e[0]=t[s],e[1]=t[s+1],o(e,e,a),t[s]=e[0],t[s+1]=e[1];return t}}();r.d(t,"glMatrix",function(){return n}),r.d(t,"mat2",function(){return i}),r.d(t,"mat2d",function(){return o}),r.d(t,"mat3",function(){return a}),r.d(t,"mat4",function(){return s}),r.d(t,"quat",function(){return f}),r.d(t,"quat2",function(){return l}),r.d(t,"vec2",function(){return d}),r.d(t,"vec3",function(){return u}),r.d(t,"vec4",function(){return c})},function(e,t,r){(function(t,n,i,o){var a=function(e){var a,s=void 0!==(e=e||{})?e:{},u={};for(a in s)s.hasOwnProperty(a)&&(u[a]=s[a]);s.arguments=[],s.thisProgram="./this.program",s.quit=function(e,t){throw t},s.preRun=[],s.postRun=[];var c,f=!1,l=!1,d=!1;f="object"==typeof window,l="function"==typeof importScripts,d="object"==typeof t&&!f&&!l,c=!f&&!d&&!l;var h,m,p="";function g(e){return s.locateFile?s.locateFile(e,p):p+e}d?(p=n+"/",s.read=function(e,t){var n;return h||(h=r(4)),m||(m=r(5)),e=m.normalize(e),n=h.readFileSync(e),t?n:n.toString()},s.readBinary=function(e){var t=s.read(e,!0);return t.buffer||(t=new Uint8Array(t)),T(t.buffer),t},t.argv.length>1&&(s.thisProgram=t.argv[1].replace(/\\/g,"/")),s.arguments=t.argv.slice(2),t.on("uncaughtException",function(e){if(!(e instanceof an))throw e}),t.on("unhandledRejection",function(e,r){t.exit(1)}),s.quit=function(e){t.exit(e)},s.inspect=function(){return"[Emscripten Module object]"}):c?("undefined"!=typeof read&&(s.read=function(e){return read(e)}),s.readBinary=function(e){var t;return"function"==typeof readbuffer?new Uint8Array(readbuffer(e)):(T("object"==typeof(t=read(e,"binary"))),t)},"undefined"!=typeof scriptArgs?s.arguments=scriptArgs:void 0!==arguments&&(s.arguments=arguments),"function"==typeof quit&&(s.quit=function(e){quit(e)})):(f||l)&&(f?document.currentScript&&(p=document.currentScript.src):p=self.location.href,p=0!==p.indexOf("blob:")?p.split("/").slice(0,-1).join("/")+"/":"",s.read=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},l&&(s.readBinary=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),s.readAsync=function(e,t,r){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=function(){200==n.status||0==n.status&&n.response?t(n.response):r()},n.onerror=r,n.send(null)},s.setWindowTitle=function(e){document.title=e});var v=s.print||("undefined"!=typeof console?console.log.bind(console):"undefined"!=typeof print?print:null),y=s.printErr||("undefined"!=typeof printErr?printErr:"undefined"!=typeof console&&console.warn.bind(console)||v);for(a in u)u.hasOwnProperty(a)&&(s[a]=u[a]);u=void 0;var _=16;function b(e){var t=X;return X=X+e+15&-16,t}function w(e){var t=z[ee>>2],r=t+e+15&-16;if((z[ee>>2]=r,r>=fe)&&!ue())return z[ee>>2]=t,0;return t}function E(e,t){return t||(t=_),e=Math.ceil(e/t)*t}function M(e){switch(e){case"i1":case"i8":return 1;case"i16":return 2;case"i32":return 4;case"i64":return 8;case"float":return 4;case"double":return 8;default:if("*"===e[e.length-1])return 4;if("i"===e[0]){var t=parseInt(e.substr(1));return T(t%8==0),t/8}return 0}}var x={"f64-rem":function(e,t){return e%t},debugger:function(){}};new Array(0);var A=0;function T(e,t){e||un("Assertion failed: "+t)}function k(e,t,r,n){switch("*"===(r=r||"i8").charAt(r.length-1)&&(r="i32"),r){case"i1":case"i8":G[e>>0]=t;break;case"i16":q[e>>1]=t;break;case"i32":z[e>>2]=t;break;case"i64":tempI64=[t>>>0,(tempDouble=t,+ye(tempDouble)>=1?tempDouble>0?(0|we(+be(tempDouble/4294967296),4294967295))>>>0:~~+_e((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],z[e>>2]=tempI64[0],z[e+4>>2]=tempI64[1];break;case"float":Y[e>>2]=t;break;case"double":H[e>>3]=t;break;default:un("invalid type for setValue: "+r)}}var S=0,P=2,C=4;function I(e,t,r,n){var i,o;"number"==typeof e?(i=!0,o=e):(i=!1,o=e.length);var a,s="string"==typeof t?t:null;if(a=r==C?n:["function"==typeof en?en:b,rn,b,w][void 0===r?P:r](Math.max(o,s?1:t.length)),i){var u;for(n=a,T(0==(3&a)),u=a+(-4&o);n<u;n+=4)z[n>>2]=0;for(u=a+o;n<u;)G[n++>>0]=0;return a}if("i8"===s)return e.subarray||e.slice?j.set(e,a):j.set(new Uint8Array(e),a),a;for(var c,f,l,d=0;d<o;){var h=e[d];0!==(c=s||t[d])?("i64"==c&&(c="i32"),k(a+d,h,c),l!==c&&(f=M(c),l=c),d+=f):d++}return a}function L(e,t){if(0===t||!e)return"";for(var r,n=0,i=0;n|=r=j[e+i>>0],(0!=r||t)&&(i++,!t||i!=t););t||(t=i);var o="";if(n<128){for(var a;t>0;)a=String.fromCharCode.apply(String,j.subarray(e,e+Math.min(t,1024))),o=o?o+a:a,e+=1024,t-=1024;return o}return F(e)}var D="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function B(e,t){for(var r=t;e[r];)++r;if(r-t>16&&e.subarray&&D)return D.decode(e.subarray(t,r));for(var n,i,o,a,s,u="";;){if(!(n=e[t++]))return u;if(128&n)if(i=63&e[t++],192!=(224&n))if(o=63&e[t++],224==(240&n)?n=(15&n)<<12|i<<6|o:(a=63&e[t++],240==(248&n)?n=(7&n)<<18|i<<12|o<<6|a:(s=63&e[t++],n=248==(252&n)?(3&n)<<24|i<<18|o<<12|a<<6|s:(1&n)<<30|i<<24|o<<18|a<<12|s<<6|63&e[t++])),n<65536)u+=String.fromCharCode(n);else{var c=n-65536;u+=String.fromCharCode(55296|c>>10,56320|1023&c)}else u+=String.fromCharCode((31&n)<<6|i);else u+=String.fromCharCode(n)}}function F(e){return B(j,e)}function R(e,t,r,n){if(!(n>0))return 0;for(var i=r,o=r+n-1,a=0;a<e.length;++a){var s=e.charCodeAt(a);if(s>=55296&&s<=57343)s=65536+((1023&s)<<10)|1023&e.charCodeAt(++a);if(s<=127){if(r>=o)break;t[r++]=s}else if(s<=2047){if(r+1>=o)break;t[r++]=192|s>>6,t[r++]=128|63&s}else if(s<=65535){if(r+2>=o)break;t[r++]=224|s>>12,t[r++]=128|s>>6&63,t[r++]=128|63&s}else if(s<=2097151){if(r+3>=o)break;t[r++]=240|s>>18,t[r++]=128|s>>12&63,t[r++]=128|s>>6&63,t[r++]=128|63&s}else if(s<=67108863){if(r+4>=o)break;t[r++]=248|s>>24,t[r++]=128|s>>18&63,t[r++]=128|s>>12&63,t[r++]=128|s>>6&63,t[r++]=128|63&s}else{if(r+5>=o)break;t[r++]=252|s>>30,t[r++]=128|s>>24&63,t[r++]=128|s>>18&63,t[r++]=128|s>>12&63,t[r++]=128|s>>6&63,t[r++]=128|63&s}}return t[r]=0,r-i}function O(e,t,r){return R(e,j,t,r)}function N(e){for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);n>=55296&&n<=57343&&(n=65536+((1023&n)<<10)|1023&e.charCodeAt(++r)),n<=127?++t:t+=n<=2047?2:n<=65535?3:n<=2097151?4:n<=67108863?5:6}return t}"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le");function U(){var e=function(){var e=new Error;if(!e.stack){try{throw new Error(0)}catch(t){e=t}if(!e.stack)return"(no stack trace available)"}return e.stack.toString()}();return s.extraStackTrace&&(e+="\n"+s.extraStackTrace()),e.replace(/__Z[\w\d_]+/g,function(e){var t=e;return e===t?e:e+" ["+t+"]"})}var V,G,j,q,W,z,$,Y,H,X,K,Q,Z,J,ee,te=16384,re=65536,ne=16777216,ie=16777216;function oe(e,t){return e%t>0&&(e+=t-e%t),e}function ae(e){s.buffer=V=e}function se(){s.HEAP8=G=new Int8Array(V),s.HEAP16=q=new Int16Array(V),s.HEAP32=z=new Int32Array(V),s.HEAPU8=j=new Uint8Array(V),s.HEAPU16=W=new Uint16Array(V),s.HEAPU32=$=new Uint32Array(V),s.HEAPF32=Y=new Float32Array(V),s.HEAPF64=H=new Float64Array(V)}function ue(){var e=s.usingWasm?re:ne,t=2147483648-e;if(z[ee>>2]>t)return!1;var r=fe;for(fe=Math.max(fe,ie);fe<z[ee>>2];)fe=fe<=536870912?oe(2*fe,e):Math.min(oe((3*fe+2147483648)/4,e),t);var n=s.reallocBuffer(fe);return n&&n.byteLength==fe?(ae(n),se(),!0):(fe=r,!1)}X=ee=0,s.reallocBuffer||(s.reallocBuffer=function(e){var t;try{if(ArrayBuffer.transfer)t=ArrayBuffer.transfer(V,e);else{var r=G;t=new ArrayBuffer(e),new Int8Array(t).set(r)}}catch(e){return!1}return!!Zr(t)&&t});try{Function.prototype.call.bind(Object.getOwnPropertyDescriptor(ArrayBuffer.prototype,"byteLength").get)(new ArrayBuffer(4))}catch(e){(function(e){return e.byteLength})}var ce=s.TOTAL_STACK||5242880,fe=s.TOTAL_MEMORY||16777216;function le(e){for(;e.length>0;){var t=e.shift();if("function"!=typeof t){var r=t.func;"number"==typeof r?void 0===t.arg?s.dynCall_v(r):s.dynCall_vi(r,t.arg):r(void 0===t.arg?null:t.arg)}else t()}}fe<ce&&y("TOTAL_MEMORY should be larger than TOTAL_STACK, was "+fe+"! (TOTAL_STACK="+ce+")"),s.buffer?V=s.buffer:("object"==typeof WebAssembly&&"function"==typeof WebAssembly.Memory?(s.wasmMemory=new WebAssembly.Memory({initial:fe/re}),V=s.wasmMemory.buffer):V=new ArrayBuffer(fe),s.buffer=V),se();var de=[],he=[],me=[],pe=[],ge=[],ve=!1;var ye=Math.abs,_e=Math.ceil,be=Math.floor,we=Math.min,Ee=Math.clz32,Me=0,xe=null,Ae=null;function Te(e){return e}function ke(e){Me++,s.monitorRunDependencies&&s.monitorRunDependencies(Me)}function Se(e){if(Me--,s.monitorRunDependencies&&s.monitorRunDependencies(Me),0==Me&&(null!==xe&&(clearInterval(xe),xe=null),Ae)){var t=Ae;Ae=null,t()}}s.preloadedImages={},s.preloadedAudios={};var Pe="data:application/octet-stream;base64,";function Ce(e){return String.prototype.startsWith?e.startsWith(Pe):0===e.indexOf(Pe)}!function(){var e="filament.wast",t="filament.wasm",r="filament.temp.asm.js";Ce(e)||(e=g(e)),Ce(t)||(t=g(t)),Ce(r)||(r=g(r));var n={global:null,env:null,asm2wasm:x,parent:s},i=null;function o(){try{if(s.wasmBinary)return new Uint8Array(s.wasmBinary);if(s.readBinary)return s.readBinary(t);throw"both async and sync fetching of the wasm failed"}catch(e){un(e)}}function a(e,r,a){if("object"!=typeof WebAssembly)return y("no native wasm support detected"),!1;if(!(s.wasmMemory instanceof WebAssembly.Memory))return y("no native wasm Memory in use"),!1;function u(e,t){(i=e.exports).memory&&function(e){var t=s.buffer;e.byteLength<t.byteLength&&y("the new buffer in mergeMemory is smaller than the previous one. in native wasm, we should grow memory here");var r=new Int8Array(t);new Int8Array(e).set(r),ae(e),se()}(i.memory),s.asm=i,s.usingWasm=!0,Se()}if(r.memory=s.wasmMemory,n.global={NaN:NaN,Infinity:1/0},n["global.Math"]=Math,n.env=r,ke(),s.instantiateWasm)try{return s.instantiateWasm(n,u)}catch(e){return y("Module.instantiateWasm callback failed with error: "+e),!1}function c(e){u(e.instance,e.module)}function d(e){(s.wasmBinary||!f&&!l||"function"!=typeof fetch?new Promise(function(e,t){e(o())}):fetch(t,{credentials:"same-origin"}).then(function(e){if(!e.ok)throw"failed to load wasm binary file at '"+t+"'";return e.arrayBuffer()}).catch(function(){return o()})).then(function(e){return WebAssembly.instantiate(e,n)}).then(e).catch(function(e){y("failed to asynchronously prepare wasm: "+e),un(e)})}return s.wasmBinary||"function"!=typeof WebAssembly.instantiateStreaming||Ce(t)||"function"!=typeof fetch?d(c):WebAssembly.instantiateStreaming(fetch(t,{credentials:"same-origin"}),n).then(c).catch(function(e){y("wasm streaming compile failed: "+e),y("falling back to ArrayBuffer instantiation"),d(c)}),{}}s.asmPreload=s.asm;var u=s.reallocBuffer;s.reallocBuffer=function(e){return"asmjs"===c?u(e):function(e){e=oe(e,s.usingWasm?re:ne);var t=s.buffer.byteLength;if(s.usingWasm)try{return-1!==s.wasmMemory.grow((e-t)/65536)?s.buffer=s.wasmMemory.buffer:null}catch(e){return null}}(e)};var c="";s.asm=function(e,t,r){var n;if(!(t=t).table){var i=s.wasmTableSize;void 0===i&&(i=1024);var o=s.wasmMaxTableSize;"object"==typeof WebAssembly&&"function"==typeof WebAssembly.Table?t.table=void 0!==o?new WebAssembly.Table({initial:i,maximum:o,element:"anyfunc"}):new WebAssembly.Table({initial:i,element:"anyfunc"}):t.table=new Array(i),s.wasmTable=t.table}return t.memoryBase||(t.memoryBase=s.STATIC_BASE),t.tableBase||(t.tableBase=0),T(n=a(0,t),"no binaryen method succeeded."),n}}(),X=117872,he.push({func:function(){Xr()}},{func:function(){Hr()}},{func:function(){zr()}},{func:function(){Yr()}},{func:function(){$r()}});s.STATIC_BASE=1024,s.STATIC_BUMP=116848;var Ie=X;function Le(){return!!Le.uncaught_exception}X+=16;var De={last:0,caught:[],infos:{},deAdjust:function(e){if(!e||De.infos[e])return e;for(var t in De.infos){var r=+t;if(De.infos[r].adjusted===e)return r}return e},addRef:function(e){e&&De.infos[e].refcount++},decRef:function(e){if(e){var t=De.infos[e];T(t.refcount>0),t.refcount--,0!==t.refcount||t.rethrown||(t.destructor&&s.dynCall_vi(t.destructor,e),delete De.infos[e],___cxa_free_exception(e))}},clearRef:function(e){e&&(De.infos[e].refcount=0)}};var Be={EPERM:1,ENOENT:2,ESRCH:3,EINTR:4,EIO:5,ENXIO:6,E2BIG:7,ENOEXEC:8,EBADF:9,ECHILD:10,EAGAIN:11,EWOULDBLOCK:11,ENOMEM:12,EACCES:13,EFAULT:14,ENOTBLK:15,EBUSY:16,EEXIST:17,EXDEV:18,ENODEV:19,ENOTDIR:20,EISDIR:21,EINVAL:22,ENFILE:23,EMFILE:24,ENOTTY:25,ETXTBSY:26,EFBIG:27,ENOSPC:28,ESPIPE:29,EROFS:30,EMLINK:31,EPIPE:32,EDOM:33,ERANGE:34,ENOMSG:42,EIDRM:43,ECHRNG:44,EL2NSYNC:45,EL3HLT:46,EL3RST:47,ELNRNG:48,EUNATCH:49,ENOCSI:50,EL2HLT:51,EDEADLK:35,ENOLCK:37,EBADE:52,EBADR:53,EXFULL:54,ENOANO:55,EBADRQC:56,EBADSLT:57,EDEADLOCK:35,EBFONT:59,ENOSTR:60,ENODATA:61,ETIME:62,ENOSR:63,ENONET:64,ENOPKG:65,EREMOTE:66,ENOLINK:67,EADV:68,ESRMNT:69,ECOMM:70,EPROTO:71,EMULTIHOP:72,EDOTDOT:73,EBADMSG:74,ENOTUNIQ:76,EBADFD:77,EREMCHG:78,ELIBACC:79,ELIBBAD:80,ELIBSCN:81,ELIBMAX:82,ELIBEXEC:83,ENOSYS:38,ENOTEMPTY:39,ENAMETOOLONG:36,ELOOP:40,EOPNOTSUPP:95,EPFNOSUPPORT:96,ECONNRESET:104,ENOBUFS:105,EAFNOSUPPORT:97,EPROTOTYPE:91,ENOTSOCK:88,ENOPROTOOPT:92,ESHUTDOWN:108,ECONNREFUSED:111,EADDRINUSE:98,ECONNABORTED:103,ENETUNREACH:101,ENETDOWN:100,ETIMEDOUT:110,EHOSTDOWN:112,EHOSTUNREACH:113,EINPROGRESS:115,EALREADY:114,EDESTADDRREQ:89,EMSGSIZE:90,EPROTONOSUPPORT:93,ESOCKTNOSUPPORT:94,EADDRNOTAVAIL:99,ENETRESET:102,EISCONN:106,ENOTCONN:107,ETOOMANYREFS:109,EUSERS:87,EDQUOT:122,ESTALE:116,ENOTSUP:95,ENOMEDIUM:123,EILSEQ:84,EOVERFLOW:75,ECANCELED:125,ENOTRECOVERABLE:131,EOWNERDEAD:130,ESTRPIPE:86},Fe={0:"Success",1:"Not super-user",2:"No such file or directory",3:"No such process",4:"Interrupted system call",5:"I/O error",6:"No such device or address",7:"Arg list too long",8:"Exec format error",9:"Bad file number",10:"No children",11:"No more processes",12:"Not enough core",13:"Permission denied",14:"Bad address",15:"Block device required",16:"Mount device busy",17:"File exists",18:"Cross-device link",19:"No such device",20:"Not a directory",21:"Is a directory",22:"Invalid argument",23:"Too many open files in system",24:"Too many open files",25:"Not a typewriter",26:"Text file busy",27:"File too large",28:"No space left on device",29:"Illegal seek",30:"Read only file system",31:"Too many links",32:"Broken pipe",33:"Math arg out of domain of func",34:"Math result not representable",35:"File locking deadlock error",36:"File or path name too long",37:"No record locks available",38:"Function not implemented",39:"Directory not empty",40:"Too many symbolic links",42:"No message of desired type",43:"Identifier removed",44:"Channel number out of range",45:"Level 2 not synchronized",46:"Level 3 halted",47:"Level 3 reset",48:"Link number out of range",49:"Protocol driver not attached",50:"No CSI structure available",51:"Level 2 halted",52:"Invalid exchange",53:"Invalid request descriptor",54:"Exchange full",55:"No anode",56:"Invalid request code",57:"Invalid slot",59:"Bad font file fmt",60:"Device not a stream",61:"No data (for no delay io)",62:"Timer expired",63:"Out of streams resources",64:"Machine is not on the network",65:"Package not installed",66:"The object is remote",67:"The link has been severed",68:"Advertise error",69:"Srmount error",70:"Communication error on send",71:"Protocol error",72:"Multihop attempted",73:"Cross mount point (not really error)",74:"Trying to read unreadable message",75:"Value too large for defined data type",76:"Given log. name not unique",77:"f.d. invalid for this operation",78:"Remote address changed",79:"Can   access a needed shared lib",80:"Accessing a corrupted shared lib",81:".lib section in a.out corrupted",82:"Attempting to link in too many libs",83:"Attempting to exec a shared library",84:"Illegal byte sequence",86:"Streams pipe error",87:"Too many users",88:"Socket operation on non-socket",89:"Destination address required",90:"Message too long",91:"Protocol wrong type for socket",92:"Protocol not available",93:"Unknown protocol",94:"Socket type not supported",95:"Not supported",96:"Protocol family not supported",97:"Address family not supported by protocol family",98:"Address already in use",99:"Address not available",100:"Network interface is not configured",101:"Network is unreachable",102:"Connection reset by network",103:"Connection aborted",104:"Connection reset by peer",105:"No buffer space available",106:"Socket is already connected",107:"Socket is not connected",108:"Can't send after socket shutdown",109:"Too many references",110:"Connection timed out",111:"Connection refused",112:"Host is down",113:"Host is unreachable",114:"Socket already connected",115:"Connection already in progress",116:"Stale file handle",122:"Quota exceeded",123:"No medium (in tape drive)",125:"Operation canceled",130:"Previous owner died",131:"State not recoverable"};function Re(e){return s.___errno_location&&(z[s.___errno_location()>>2]=e),e}var Oe={splitPath:function(e){return/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1)},normalizeArray:function(e,t){for(var r=0,n=e.length-1;n>=0;n--){var i=e[n];"."===i?e.splice(n,1):".."===i?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r;r--)e.unshift("..");return e},normalize:function(e){var t="/"===e.charAt(0),r="/"===e.substr(-1);return(e=Oe.normalizeArray(e.split("/").filter(function(e){return!!e}),!t).join("/"))||t||(e="."),e&&r&&(e+="/"),(t?"/":"")+e},dirname:function(e){var t=Oe.splitPath(e),r=t[0],n=t[1];return r||n?(n&&(n=n.substr(0,n.length-1)),r+n):"."},basename:function(e){if("/"===e)return"/";var t=e.lastIndexOf("/");return-1===t?e:e.substr(t+1)},extname:function(e){return Oe.splitPath(e)[3]},join:function(){var e=Array.prototype.slice.call(arguments,0);return Oe.normalize(e.join("/"))},join2:function(e,t){return Oe.normalize(e+"/"+t)},resolve:function(){for(var e="",t=!1,r=arguments.length-1;r>=-1&&!t;r--){var n=r>=0?arguments[r]:qe.cwd();if("string"!=typeof n)throw new TypeError("Arguments to path.resolve must be strings");if(!n)return"";e=n+"/"+e,t="/"===n.charAt(0)}return(t?"/":"")+(e=Oe.normalizeArray(e.split("/").filter(function(e){return!!e}),!t).join("/"))||"."},relative:function(e,t){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var r=e.length-1;r>=0&&""===e[r];r--);return t>r?[]:e.slice(t,r-t+1)}e=Oe.resolve(e).substr(1),t=Oe.resolve(t).substr(1);for(var n=r(e.split("/")),i=r(t.split("/")),o=Math.min(n.length,i.length),a=o,s=0;s<o;s++)if(n[s]!==i[s]){a=s;break}var u=[];for(s=a;s<n.length;s++)u.push("..");return(u=u.concat(i.slice(a))).join("/")}},Ne={ttys:[],init:function(){},shutdown:function(){},register:function(e,t){Ne.ttys[e]={input:[],output:[],ops:t},qe.registerDevice(e,Ne.stream_ops)},stream_ops:{open:function(e){var t=Ne.ttys[e.node.rdev];if(!t)throw new qe.ErrnoError(Be.ENODEV);e.tty=t,e.seekable=!1},close:function(e){e.tty.ops.flush(e.tty)},flush:function(e){e.tty.ops.flush(e.tty)},read:function(e,t,r,n,i){if(!e.tty||!e.tty.ops.get_char)throw new qe.ErrnoError(Be.ENXIO);for(var o=0,a=0;a<n;a++){var s;try{s=e.tty.ops.get_char(e.tty)}catch(e){throw new qe.ErrnoError(Be.EIO)}if(void 0===s&&0===o)throw new qe.ErrnoError(Be.EAGAIN);if(null==s)break;o++,t[r+a]=s}return o&&(e.node.timestamp=Date.now()),o},write:function(e,t,r,n,i){if(!e.tty||!e.tty.ops.put_char)throw new qe.ErrnoError(Be.ENXIO);for(var o=0;o<n;o++)try{e.tty.ops.put_char(e.tty,t[r+o])}catch(e){throw new qe.ErrnoError(Be.EIO)}return n&&(e.node.timestamp=Date.now()),o}},default_tty_ops:{get_char:function(e){if(!e.input.length){var r=null;if(d){var n=new i(256),o=0,a="win32"!=t.platform,s=t.stdin.fd;if(a){var u=!1;try{s=Gr.openSync("/dev/stdin","r"),u=!0}catch(e){}}try{o=Gr.readSync(s,n,0,256,null)}catch(e){if(-1==e.toString().indexOf("EOF"))throw e;o=0}u&&Gr.closeSync(s),r=o>0?n.slice(0,o).toString("utf-8"):null}else"undefined"!=typeof window&&"function"==typeof window.prompt?null!==(r=window.prompt("Input: "))&&(r+="\n"):"function"==typeof readline&&null!==(r=readline())&&(r+="\n");if(!r)return null;e.input=qr(r,!0)}return e.input.shift()},put_char:function(e,t){null===t||10===t?(v(B(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&e.output.length>0&&(v(B(e.output,0)),e.output=[])}},default_tty1_ops:{put_char:function(e,t){null===t||10===t?(y(B(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&e.output.length>0&&(y(B(e.output,0)),e.output=[])}}},Ue={ops_table:null,mount:function(e){return Ue.createNode(null,"/",16895,0)},createNode:function(e,t,r,n){if(qe.isBlkdev(r)||qe.isFIFO(r))throw new qe.ErrnoError(Be.EPERM);Ue.ops_table||(Ue.ops_table={dir:{node:{getattr:Ue.node_ops.getattr,setattr:Ue.node_ops.setattr,lookup:Ue.node_ops.lookup,mknod:Ue.node_ops.mknod,rename:Ue.node_ops.rename,unlink:Ue.node_ops.unlink,rmdir:Ue.node_ops.rmdir,readdir:Ue.node_ops.readdir,symlink:Ue.node_ops.symlink},stream:{llseek:Ue.stream_ops.llseek}},file:{node:{getattr:Ue.node_ops.getattr,setattr:Ue.node_ops.setattr},stream:{llseek:Ue.stream_ops.llseek,read:Ue.stream_ops.read,write:Ue.stream_ops.write,allocate:Ue.stream_ops.allocate,mmap:Ue.stream_ops.mmap,msync:Ue.stream_ops.msync}},link:{node:{getattr:Ue.node_ops.getattr,setattr:Ue.node_ops.setattr,readlink:Ue.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Ue.node_ops.getattr,setattr:Ue.node_ops.setattr},stream:qe.chrdev_stream_ops}});var i=qe.createNode(e,t,r,n);return qe.isDir(i.mode)?(i.node_ops=Ue.ops_table.dir.node,i.stream_ops=Ue.ops_table.dir.stream,i.contents={}):qe.isFile(i.mode)?(i.node_ops=Ue.ops_table.file.node,i.stream_ops=Ue.ops_table.file.stream,i.usedBytes=0,i.contents=null):qe.isLink(i.mode)?(i.node_ops=Ue.ops_table.link.node,i.stream_ops=Ue.ops_table.link.stream):qe.isChrdev(i.mode)&&(i.node_ops=Ue.ops_table.chrdev.node,i.stream_ops=Ue.ops_table.chrdev.stream),i.timestamp=Date.now(),e&&(e.contents[t]=i),i},getFileDataAsRegularArray:function(e){if(e.contents&&e.contents.subarray){for(var t=[],r=0;r<e.usedBytes;++r)t.push(e.contents[r]);return t}return e.contents},getFileDataAsTypedArray:function(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array},expandFileStorage:function(e,t){if(e.contents&&e.contents.subarray&&t>e.contents.length&&(e.contents=Ue.getFileDataAsRegularArray(e),e.usedBytes=e.contents.length),!e.contents||e.contents.subarray){var r=e.contents?e.contents.length:0;if(r>=t)return;t=Math.max(t,r*(r<1048576?2:1.125)|0),0!=r&&(t=Math.max(t,256));var n=e.contents;return e.contents=new Uint8Array(t),void(e.usedBytes>0&&e.contents.set(n.subarray(0,e.usedBytes),0))}for(!e.contents&&t>0&&(e.contents=[]);e.contents.length<t;)e.contents.push(0)},resizeFileStorage:function(e,t){if(e.usedBytes!=t){if(0==t)return e.contents=null,void(e.usedBytes=0);if(!e.contents||e.contents.subarray){var r=e.contents;return e.contents=new Uint8Array(new ArrayBuffer(t)),r&&e.contents.set(r.subarray(0,Math.min(t,e.usedBytes))),void(e.usedBytes=t)}if(e.contents||(e.contents=[]),e.contents.length>t)e.contents.length=t;else for(;e.contents.length<t;)e.contents.push(0);e.usedBytes=t}},node_ops:{getattr:function(e){var t={};return t.dev=qe.isChrdev(e.mode)?e.id:1,t.ino=e.id,t.mode=e.mode,t.nlink=1,t.uid=0,t.gid=0,t.rdev=e.rdev,qe.isDir(e.mode)?t.size=4096:qe.isFile(e.mode)?t.size=e.usedBytes:qe.isLink(e.mode)?t.size=e.link.length:t.size=0,t.atime=new Date(e.timestamp),t.mtime=new Date(e.timestamp),t.ctime=new Date(e.timestamp),t.blksize=4096,t.blocks=Math.ceil(t.size/t.blksize),t},setattr:function(e,t){void 0!==t.mode&&(e.mode=t.mode),void 0!==t.timestamp&&(e.timestamp=t.timestamp),void 0!==t.size&&Ue.resizeFileStorage(e,t.size)},lookup:function(e,t){throw qe.genericErrors[Be.ENOENT]},mknod:function(e,t,r,n){return Ue.createNode(e,t,r,n)},rename:function(e,t,r){if(qe.isDir(e.mode)){var n;try{n=qe.lookupNode(t,r)}catch(e){}if(n)for(var i in n.contents)throw new qe.ErrnoError(Be.ENOTEMPTY)}delete e.parent.contents[e.name],e.name=r,t.contents[r]=e,e.parent=t},unlink:function(e,t){delete e.contents[t]},rmdir:function(e,t){var r=qe.lookupNode(e,t);for(var n in r.contents)throw new qe.ErrnoError(Be.ENOTEMPTY);delete e.contents[t]},readdir:function(e){var t=[".",".."];for(var r in e.contents)e.contents.hasOwnProperty(r)&&t.push(r);return t},symlink:function(e,t,r){var n=Ue.createNode(e,t,41471,0);return n.link=r,n},readlink:function(e){if(!qe.isLink(e.mode))throw new qe.ErrnoError(Be.EINVAL);return e.link}},stream_ops:{read:function(e,t,r,n,i){var o=e.node.contents;if(i>=e.node.usedBytes)return 0;var a=Math.min(e.node.usedBytes-i,n);if(T(a>=0),a>8&&o.subarray)t.set(o.subarray(i,i+a),r);else for(var s=0;s<a;s++)t[r+s]=o[i+s];return a},write:function(e,t,r,n,i,o){if(!n)return 0;var a=e.node;if(a.timestamp=Date.now(),t.subarray&&(!a.contents||a.contents.subarray)){if(o)return a.contents=t.subarray(r,r+n),a.usedBytes=n,n;if(0===a.usedBytes&&0===i)return a.contents=new Uint8Array(t.subarray(r,r+n)),a.usedBytes=n,n;if(i+n<=a.usedBytes)return a.contents.set(t.subarray(r,r+n),i),n}if(Ue.expandFileStorage(a,i+n),a.contents.subarray&&t.subarray)a.contents.set(t.subarray(r,r+n),i);else for(var s=0;s<n;s++)a.contents[i+s]=t[r+s];return a.usedBytes=Math.max(a.usedBytes,i+n),n},llseek:function(e,t,r){var n=t;if(1===r?n+=e.position:2===r&&qe.isFile(e.node.mode)&&(n+=e.node.usedBytes),n<0)throw new qe.ErrnoError(Be.EINVAL);return n},allocate:function(e,t,r){Ue.expandFileStorage(e.node,t+r),e.node.usedBytes=Math.max(e.node.usedBytes,t+r)},mmap:function(e,t,r,n,i,o,a){if(!qe.isFile(e.node.mode))throw new qe.ErrnoError(Be.ENODEV);var s,u,c=e.node.contents;if(2&a||c.buffer!==t&&c.buffer!==t.buffer){if((i>0||i+n<e.node.usedBytes)&&(c=c.subarray?c.subarray(i,i+n):Array.prototype.slice.call(c,i,i+n)),u=!0,!(s=en(n)))throw new qe.ErrnoError(Be.ENOMEM);t.set(c,s)}else u=!1,s=c.byteOffset;return{ptr:s,allocated:u}},msync:function(e,t,r,n,i){if(!qe.isFile(e.node.mode))throw new qe.ErrnoError(Be.ENODEV);if(2&i)return 0;Ue.stream_ops.write(e,t,0,n,r,!1);return 0}}},Ve={dbs:{},indexedDB:function(){if("undefined"!=typeof indexedDB)return indexedDB;var e=null;return"object"==typeof window&&(e=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB),T(e,"IDBFS used, but indexedDB not supported"),e},DB_VERSION:21,DB_STORE_NAME:"FILE_DATA",mount:function(e){return Ue.mount.apply(null,arguments)},syncfs:function(e,t,r){Ve.getLocalSet(e,function(n,i){if(n)return r(n);Ve.getRemoteSet(e,function(e,n){if(e)return r(e);var o=t?n:i,a=t?i:n;Ve.reconcile(o,a,r)})})},getDB:function(e,t){var r,n=Ve.dbs[e];if(n)return t(null,n);try{r=Ve.indexedDB().open(e,Ve.DB_VERSION)}catch(e){return t(e)}if(!r)return t("Unable to connect to IndexedDB");r.onupgradeneeded=function(e){var t,r=e.target.result,n=e.target.transaction;(t=r.objectStoreNames.contains(Ve.DB_STORE_NAME)?n.objectStore(Ve.DB_STORE_NAME):r.createObjectStore(Ve.DB_STORE_NAME)).indexNames.contains("timestamp")||t.createIndex("timestamp","timestamp",{unique:!1})},r.onsuccess=function(){n=r.result,Ve.dbs[e]=n,t(null,n)},r.onerror=function(e){t(this.error),e.preventDefault()}},getLocalSet:function(e,t){var r={};function n(e){return"."!==e&&".."!==e}function i(e){return function(t){return Oe.join2(e,t)}}for(var o=qe.readdir(e.mountpoint).filter(n).map(i(e.mountpoint));o.length;){var a,s=o.pop();try{a=qe.stat(s)}catch(e){return t(e)}qe.isDir(a.mode)&&o.push.apply(o,qe.readdir(s).filter(n).map(i(s))),r[s]={timestamp:a.mtime}}return t(null,{type:"local",entries:r})},getRemoteSet:function(e,t){var r={};Ve.getDB(e.mountpoint,function(e,n){if(e)return t(e);try{var i=n.transaction([Ve.DB_STORE_NAME],"readonly");i.onerror=function(e){t(this.error),e.preventDefault()},i.objectStore(Ve.DB_STORE_NAME).index("timestamp").openKeyCursor().onsuccess=function(e){var i=e.target.result;if(!i)return t(null,{type:"remote",db:n,entries:r});r[i.primaryKey]={timestamp:i.key},i.continue()}}catch(e){return t(e)}})},loadLocalEntry:function(e,t){var r,n;try{n=qe.lookupPath(e).node,r=qe.stat(e)}catch(e){return t(e)}return qe.isDir(r.mode)?t(null,{timestamp:r.mtime,mode:r.mode}):qe.isFile(r.mode)?(n.contents=Ue.getFileDataAsTypedArray(n),t(null,{timestamp:r.mtime,mode:r.mode,contents:n.contents})):t(new Error("node type not supported"))},storeLocalEntry:function(e,t,r){try{if(qe.isDir(t.mode))qe.mkdir(e,t.mode);else{if(!qe.isFile(t.mode))return r(new Error("node type not supported"));qe.writeFile(e,t.contents,{canOwn:!0})}qe.chmod(e,t.mode),qe.utime(e,t.timestamp,t.timestamp)}catch(e){return r(e)}r(null)},removeLocalEntry:function(e,t){try{qe.lookupPath(e);var r=qe.stat(e);qe.isDir(r.mode)?qe.rmdir(e):qe.isFile(r.mode)&&qe.unlink(e)}catch(e){return t(e)}t(null)},loadRemoteEntry:function(e,t,r){var n=e.get(t);n.onsuccess=function(e){r(null,e.target.result)},n.onerror=function(e){r(this.error),e.preventDefault()}},storeRemoteEntry:function(e,t,r,n){var i=e.put(r,t);i.onsuccess=function(){n(null)},i.onerror=function(e){n(this.error),e.preventDefault()}},removeRemoteEntry:function(e,t,r){var n=e.delete(t);n.onsuccess=function(){r(null)},n.onerror=function(e){r(this.error),e.preventDefault()}},reconcile:function(e,t,r){var n=0,i=[];Object.keys(e.entries).forEach(function(r){var o=e.entries[r],a=t.entries[r];(!a||o.timestamp>a.timestamp)&&(i.push(r),n++)});var o=[];if(Object.keys(t.entries).forEach(function(r){t.entries[r];e.entries[r]||(o.push(r),n++)}),!n)return r(null);var a=0,s=("remote"===e.type?e.db:t.db).transaction([Ve.DB_STORE_NAME],"readwrite"),u=s.objectStore(Ve.DB_STORE_NAME);function c(e){return e?c.errored?void 0:(c.errored=!0,r(e)):++a>=n?r(null):void 0}s.onerror=function(e){c(this.error),e.preventDefault()},i.sort().forEach(function(e){"local"===t.type?Ve.loadRemoteEntry(u,e,function(t,r){if(t)return c(t);Ve.storeLocalEntry(e,r,c)}):Ve.loadLocalEntry(e,function(t,r){if(t)return c(t);Ve.storeRemoteEntry(u,e,r,c)})}),o.sort().reverse().forEach(function(e){"local"===t.type?Ve.removeLocalEntry(e,c):Ve.removeRemoteEntry(u,e,c)})}},Ge={isWindows:!1,staticInit:function(){Ge.isWindows=!!t.platform.match(/^win/);var e=t.binding("constants");e.fs&&(e=e.fs),Ge.flagsForNodeMap={1024:e.O_APPEND,64:e.O_CREAT,128:e.O_EXCL,0:e.O_RDONLY,2:e.O_RDWR,4096:e.O_SYNC,512:e.O_TRUNC,1:e.O_WRONLY}},bufferFrom:function(e){return i.alloc?i.from(e):new i(e)},mount:function(e){return T(d),Ge.createNode(null,"/",Ge.getMode(e.opts.root),0)},createNode:function(e,t,r,n){if(!qe.isDir(r)&&!qe.isFile(r)&&!qe.isLink(r))throw new qe.ErrnoError(Be.EINVAL);var i=qe.createNode(e,t,r);return i.node_ops=Ge.node_ops,i.stream_ops=Ge.stream_ops,i},getMode:function(e){var t;try{t=Gr.lstatSync(e),Ge.isWindows&&(t.mode=t.mode|(292&t.mode)>>2)}catch(e){if(!e.code)throw e;throw new qe.ErrnoError(Be[e.code])}return t.mode},realPath:function(e){for(var t=[];e.parent!==e;)t.push(e.name),e=e.parent;return t.push(e.mount.opts.root),t.reverse(),Oe.join.apply(null,t)},flagsForNode:function(e){e&=-2097153,e&=-2049,e&=-32769,e&=-524289;var t=0;for(var r in Ge.flagsForNodeMap)e&r&&(t|=Ge.flagsForNodeMap[r],e^=r);if(e)throw new qe.ErrnoError(Be.EINVAL);return t},node_ops:{getattr:function(e){var t,r=Ge.realPath(e);try{t=Gr.lstatSync(r)}catch(e){if(!e.code)throw e;throw new qe.ErrnoError(Be[e.code])}return Ge.isWindows&&!t.blksize&&(t.blksize=4096),Ge.isWindows&&!t.blocks&&(t.blocks=(t.size+t.blksize-1)/t.blksize|0),{dev:t.dev,ino:t.ino,mode:t.mode,nlink:t.nlink,uid:t.uid,gid:t.gid,rdev:t.rdev,size:t.size,atime:t.atime,mtime:t.mtime,ctime:t.ctime,blksize:t.blksize,blocks:t.blocks}},setattr:function(e,t){var r=Ge.realPath(e);try{if(void 0!==t.mode&&(Gr.chmodSync(r,t.mode),e.mode=t.mode),void 0!==t.timestamp){var n=new Date(t.timestamp);Gr.utimesSync(r,n,n)}void 0!==t.size&&Gr.truncateSync(r,t.size)}catch(e){if(!e.code)throw e;throw new qe.ErrnoError(Be[e.code])}},lookup:function(e,t){var r=Oe.join2(Ge.realPath(e),t),n=Ge.getMode(r);return Ge.createNode(e,t,n)},mknod:function(e,t,r,n){var i=Ge.createNode(e,t,r,n),o=Ge.realPath(i);try{qe.isDir(i.mode)?Gr.mkdirSync(o,i.mode):Gr.writeFileSync(o,"",{mode:i.mode})}catch(e){if(!e.code)throw e;throw new qe.ErrnoError(Be[e.code])}return i},rename:function(e,t,r){var n=Ge.realPath(e),i=Oe.join2(Ge.realPath(t),r);try{Gr.renameSync(n,i)}catch(e){if(!e.code)throw e;throw new qe.ErrnoError(Be[e.code])}},unlink:function(e,t){var r=Oe.join2(Ge.realPath(e),t);try{Gr.unlinkSync(r)}catch(e){if(!e.code)throw e;throw new qe.ErrnoError(Be[e.code])}},rmdir:function(e,t){var r=Oe.join2(Ge.realPath(e),t);try{Gr.rmdirSync(r)}catch(e){if(!e.code)throw e;throw new qe.ErrnoError(Be[e.code])}},readdir:function(e){var t=Ge.realPath(e);try{return Gr.readdirSync(t)}catch(e){if(!e.code)throw e;throw new qe.ErrnoError(Be[e.code])}},symlink:function(e,t,r){var n=Oe.join2(Ge.realPath(e),t);try{Gr.symlinkSync(r,n)}catch(e){if(!e.code)throw e;throw new qe.ErrnoError(Be[e.code])}},readlink:function(e){var t=Ge.realPath(e);try{return t=Gr.readlinkSync(t),t=jr.relative(jr.resolve(e.mount.opts.root),t)}catch(e){if(!e.code)throw e;throw new qe.ErrnoError(Be[e.code])}}},stream_ops:{open:function(e){var t=Ge.realPath(e.node);try{qe.isFile(e.node.mode)&&(e.nfd=Gr.openSync(t,Ge.flagsForNode(e.flags)))}catch(e){if(!e.code)throw e;throw new qe.ErrnoError(Be[e.code])}},close:function(e){try{qe.isFile(e.node.mode)&&e.nfd&&Gr.closeSync(e.nfd)}catch(e){if(!e.code)throw e;throw new qe.ErrnoError(Be[e.code])}},read:function(e,t,r,n,i){if(0===n)return 0;try{return Gr.readSync(e.nfd,Ge.bufferFrom(t.buffer),r,n,i)}catch(e){throw new qe.ErrnoError(Be[e.code])}},write:function(e,t,r,n,i){try{return Gr.writeSync(e.nfd,Ge.bufferFrom(t.buffer),r,n,i)}catch(e){throw new qe.ErrnoError(Be[e.code])}},llseek:function(e,t,r){var n=t;if(1===r)n+=e.position;else if(2===r&&qe.isFile(e.node.mode))try{n+=Gr.fstatSync(e.nfd).size}catch(e){throw new qe.ErrnoError(Be[e.code])}if(n<0)throw new qe.ErrnoError(Be.EINVAL);return n}}},je={DIR_MODE:16895,FILE_MODE:33279,reader:null,mount:function(e){T(l),je.reader||(je.reader=new FileReaderSync);var t=je.createNode(null,"/",je.DIR_MODE,0),r={};function n(e){for(var n=e.split("/"),i=t,o=0;o<n.length-1;o++){var a=n.slice(0,o+1).join("/");r[a]||(r[a]=je.createNode(i,n[o],je.DIR_MODE,0)),i=r[a]}return i}function i(e){var t=e.split("/");return t[t.length-1]}return Array.prototype.forEach.call(e.opts.files||[],function(e){je.createNode(n(e.name),i(e.name),je.FILE_MODE,0,e,e.lastModifiedDate)}),(e.opts.blobs||[]).forEach(function(e){je.createNode(n(e.name),i(e.name),je.FILE_MODE,0,e.data)}),(e.opts.packages||[]).forEach(function(e){e.metadata.files.forEach(function(t){var r=t.filename.substr(1);je.createNode(n(r),i(r),je.FILE_MODE,0,e.blob.slice(t.start,t.end))})}),t},createNode:function(e,t,r,n,i,o){var a=qe.createNode(e,t,r);return a.mode=r,a.node_ops=je.node_ops,a.stream_ops=je.stream_ops,a.timestamp=(o||new Date).getTime(),T(je.FILE_MODE!==je.DIR_MODE),r===je.FILE_MODE?(a.size=i.size,a.contents=i):(a.size=4096,a.contents={}),e&&(e.contents[t]=a),a},node_ops:{getattr:function(e){return{dev:1,ino:void 0,mode:e.mode,nlink:1,uid:0,gid:0,rdev:void 0,size:e.size,atime:new Date(e.timestamp),mtime:new Date(e.timestamp),ctime:new Date(e.timestamp),blksize:4096,blocks:Math.ceil(e.size/4096)}},setattr:function(e,t){void 0!==t.mode&&(e.mode=t.mode),void 0!==t.timestamp&&(e.timestamp=t.timestamp)},lookup:function(e,t){throw new qe.ErrnoError(Be.ENOENT)},mknod:function(e,t,r,n){throw new qe.ErrnoError(Be.EPERM)},rename:function(e,t,r){throw new qe.ErrnoError(Be.EPERM)},unlink:function(e,t){throw new qe.ErrnoError(Be.EPERM)},rmdir:function(e,t){throw new qe.ErrnoError(Be.EPERM)},readdir:function(e){var t=[".",".."];for(var r in e.contents)e.contents.hasOwnProperty(r)&&t.push(r);return t},symlink:function(e,t,r){throw new qe.ErrnoError(Be.EPERM)},readlink:function(e){throw new qe.ErrnoError(Be.EPERM)}},stream_ops:{read:function(e,t,r,n,i){if(i>=e.node.size)return 0;var o=e.node.contents.slice(i,i+n),a=je.reader.readAsArrayBuffer(o);return t.set(new Uint8Array(a),r),o.size},write:function(e,t,r,n,i){throw new qe.ErrnoError(Be.EIO)},llseek:function(e,t,r){var n=t;if(1===r?n+=e.position:2===r&&qe.isFile(e.node.mode)&&(n+=e.node.size),n<0)throw new qe.ErrnoError(Be.EINVAL);return n}}};X+=16,X+=16,X+=16;var qe={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,handleFSError:function(e){if(!(e instanceof qe.ErrnoError))throw e+" : "+U();return Re(e.errno)},lookupPath:function(e,t){if(t=t||{},!(e=Oe.resolve(qe.cwd(),e)))return{path:"",node:null};var r={follow_mount:!0,recurse_count:0};for(var n in r)void 0===t[n]&&(t[n]=r[n]);if(t.recurse_count>8)throw new qe.ErrnoError(Be.ELOOP);for(var i=Oe.normalizeArray(e.split("/").filter(function(e){return!!e}),!1),o=qe.root,a="/",s=0;s<i.length;s++){var u=s===i.length-1;if(u&&t.parent)break;if(o=qe.lookupNode(o,i[s]),a=Oe.join2(a,i[s]),qe.isMountpoint(o)&&(!u||u&&t.follow_mount)&&(o=o.mounted.root),!u||t.follow)for(var c=0;qe.isLink(o.mode);){var f=qe.readlink(a);if(a=Oe.resolve(Oe.dirname(a),f),o=qe.lookupPath(a,{recurse_count:t.recurse_count}).node,c++>40)throw new qe.ErrnoError(Be.ELOOP)}}return{path:a,node:o}},getPath:function(e){for(var t;;){if(qe.isRoot(e)){var r=e.mount.mountpoint;return t?"/"!==r[r.length-1]?r+"/"+t:r+t:r}t=t?e.name+"/"+t:e.name,e=e.parent}},hashName:function(e,t){for(var r=0,n=0;n<t.length;n++)r=(r<<5)-r+t.charCodeAt(n)|0;return(e+r>>>0)%qe.nameTable.length},hashAddNode:function(e){var t=qe.hashName(e.parent.id,e.name);e.name_next=qe.nameTable[t],qe.nameTable[t]=e},hashRemoveNode:function(e){var t=qe.hashName(e.parent.id,e.name);if(qe.nameTable[t]===e)qe.nameTable[t]=e.name_next;else for(var r=qe.nameTable[t];r;){if(r.name_next===e){r.name_next=e.name_next;break}r=r.name_next}},lookupNode:function(e,t){var r=qe.mayLookup(e);if(r)throw new qe.ErrnoError(r,e);for(var n=qe.hashName(e.id,t),i=qe.nameTable[n];i;i=i.name_next){var o=i.name;if(i.parent.id===e.id&&o===t)return i}return qe.lookup(e,t)},createNode:function(e,t,r,n){if(!qe.FSNode){qe.FSNode=function(e,t,r,n){e||(e=this),this.parent=e,this.mount=e.mount,this.mounted=null,this.id=qe.nextInode++,this.name=t,this.mode=r,this.node_ops={},this.stream_ops={},this.rdev=n},qe.FSNode.prototype={};Object.defineProperties(qe.FSNode.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(e){e?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(e){e?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return qe.isDir(this.mode)}},isDevice:{get:function(){return qe.isChrdev(this.mode)}}})}var i=new qe.FSNode(e,t,r,n);return qe.hashAddNode(i),i},destroyNode:function(e){qe.hashRemoveNode(e)},isRoot:function(e){return e===e.parent},isMountpoint:function(e){return!!e.mounted},isFile:function(e){return 32768==(61440&e)},isDir:function(e){return 16384==(61440&e)},isLink:function(e){return 40960==(61440&e)},isChrdev:function(e){return 8192==(61440&e)},isBlkdev:function(e){return 24576==(61440&e)},isFIFO:function(e){return 4096==(61440&e)},isSocket:function(e){return 49152==(49152&e)},flagModes:{r:0,rs:1052672,"r+":2,w:577,wx:705,xw:705,"w+":578,"wx+":706,"xw+":706,a:1089,ax:1217,xa:1217,"a+":1090,"ax+":1218,"xa+":1218},modeStringToFlags:function(e){var t=qe.flagModes[e];if(void 0===t)throw new Error("Unknown file open mode: "+e);return t},flagsToPermissionString:function(e){var t=["r","w","rw"][3&e];return 512&e&&(t+="w"),t},nodePermissions:function(e,t){return qe.ignorePermissions?0:(-1===t.indexOf("r")||292&e.mode)&&(-1===t.indexOf("w")||146&e.mode)&&(-1===t.indexOf("x")||73&e.mode)?0:Be.EACCES},mayLookup:function(e){var t=qe.nodePermissions(e,"x");return t||(e.node_ops.lookup?0:Be.EACCES)},mayCreate:function(e,t){try{qe.lookupNode(e,t);return Be.EEXIST}catch(e){}return qe.nodePermissions(e,"wx")},mayDelete:function(e,t,r){var n;try{n=qe.lookupNode(e,t)}catch(e){return e.errno}var i=qe.nodePermissions(e,"wx");if(i)return i;if(r){if(!qe.isDir(n.mode))return Be.ENOTDIR;if(qe.isRoot(n)||qe.getPath(n)===qe.cwd())return Be.EBUSY}else if(qe.isDir(n.mode))return Be.EISDIR;return 0},mayOpen:function(e,t){return e?qe.isLink(e.mode)?Be.ELOOP:qe.isDir(e.mode)&&("r"!==qe.flagsToPermissionString(t)||512&t)?Be.EISDIR:qe.nodePermissions(e,qe.flagsToPermissionString(t)):Be.ENOENT},MAX_OPEN_FDS:4096,nextfd:function(e,t){e=e||0,t=t||qe.MAX_OPEN_FDS;for(var r=e;r<=t;r++)if(!qe.streams[r])return r;throw new qe.ErrnoError(Be.EMFILE)},getStream:function(e){return qe.streams[e]},createStream:function(e,t,r){qe.FSStream||(qe.FSStream=function(){},qe.FSStream.prototype={},Object.defineProperties(qe.FSStream.prototype,{object:{get:function(){return this.node},set:function(e){this.node=e}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}}}));var n=new qe.FSStream;for(var i in e)n[i]=e[i];e=n;var o=qe.nextfd(t,r);return e.fd=o,qe.streams[o]=e,e},closeStream:function(e){qe.streams[e]=null},chrdev_stream_ops:{open:function(e){var t=qe.getDevice(e.node.rdev);e.stream_ops=t.stream_ops,e.stream_ops.open&&e.stream_ops.open(e)},llseek:function(){throw new qe.ErrnoError(Be.ESPIPE)}},major:function(e){return e>>8},minor:function(e){return 255&e},makedev:function(e,t){return e<<8|t},registerDevice:function(e,t){qe.devices[e]={stream_ops:t}},getDevice:function(e){return qe.devices[e]},getMounts:function(e){for(var t=[],r=[e];r.length;){var n=r.pop();t.push(n),r.push.apply(r,n.mounts)}return t},syncfs:function(e,t){"function"==typeof e&&(t=e,e=!1),qe.syncFSRequests++,qe.syncFSRequests>1&&console.log("warning: "+qe.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var r=qe.getMounts(qe.root.mount),n=0;function i(e){return T(qe.syncFSRequests>0),qe.syncFSRequests--,t(e)}function o(e){if(e)return o.errored?void 0:(o.errored=!0,i(e));++n>=r.length&&i(null)}r.forEach(function(t){if(!t.type.syncfs)return o(null);t.type.syncfs(t,e,o)})},mount:function(e,t,r){var n,i="/"===r,o=!r;if(i&&qe.root)throw new qe.ErrnoError(Be.EBUSY);if(!i&&!o){var a=qe.lookupPath(r,{follow_mount:!1});if(r=a.path,n=a.node,qe.isMountpoint(n))throw new qe.ErrnoError(Be.EBUSY);if(!qe.isDir(n.mode))throw new qe.ErrnoError(Be.ENOTDIR)}var s={type:e,opts:t,mountpoint:r,mounts:[]},u=e.mount(s);return u.mount=s,s.root=u,i?qe.root=u:n&&(n.mounted=s,n.mount&&n.mount.mounts.push(s)),u},unmount:function(e){var t=qe.lookupPath(e,{follow_mount:!1});if(!qe.isMountpoint(t.node))throw new qe.ErrnoError(Be.EINVAL);var r=t.node,n=r.mounted,i=qe.getMounts(n);Object.keys(qe.nameTable).forEach(function(e){for(var t=qe.nameTable[e];t;){var r=t.name_next;-1!==i.indexOf(t.mount)&&qe.destroyNode(t),t=r}}),r.mounted=null;var o=r.mount.mounts.indexOf(n);T(-1!==o),r.mount.mounts.splice(o,1)},lookup:function(e,t){return e.node_ops.lookup(e,t)},mknod:function(e,t,r){var n=qe.lookupPath(e,{parent:!0}).node,i=Oe.basename(e);if(!i||"."===i||".."===i)throw new qe.ErrnoError(Be.EINVAL);var o=qe.mayCreate(n,i);if(o)throw new qe.ErrnoError(o);if(!n.node_ops.mknod)throw new qe.ErrnoError(Be.EPERM);return n.node_ops.mknod(n,i,t,r)},create:function(e,t){return t=void 0!==t?t:438,t&=4095,t|=32768,qe.mknod(e,t,0)},mkdir:function(e,t){return t=void 0!==t?t:511,t&=1023,t|=16384,qe.mknod(e,t,0)},mkdirTree:function(e,t){for(var r=e.split("/"),n="",i=0;i<r.length;++i)if(r[i]){n+="/"+r[i];try{qe.mkdir(n,t)}catch(e){if(e.errno!=Be.EEXIST)throw e}}},mkdev:function(e,t,r){return void 0===r&&(r=t,t=438),t|=8192,qe.mknod(e,t,r)},symlink:function(e,t){if(!Oe.resolve(e))throw new qe.ErrnoError(Be.ENOENT);var r=qe.lookupPath(t,{parent:!0}).node;if(!r)throw new qe.ErrnoError(Be.ENOENT);var n=Oe.basename(t),i=qe.mayCreate(r,n);if(i)throw new qe.ErrnoError(i);if(!r.node_ops.symlink)throw new qe.ErrnoError(Be.EPERM);return r.node_ops.symlink(r,n,e)},rename:function(e,t){var r,n,i=Oe.dirname(e),o=Oe.dirname(t),a=Oe.basename(e),s=Oe.basename(t);try{r=qe.lookupPath(e,{parent:!0}).node,n=qe.lookupPath(t,{parent:!0}).node}catch(e){throw new qe.ErrnoError(Be.EBUSY)}if(!r||!n)throw new qe.ErrnoError(Be.ENOENT);if(r.mount!==n.mount)throw new qe.ErrnoError(Be.EXDEV);var u,c=qe.lookupNode(r,a),f=Oe.relative(e,o);if("."!==f.charAt(0))throw new qe.ErrnoError(Be.EINVAL);if("."!==(f=Oe.relative(t,i)).charAt(0))throw new qe.ErrnoError(Be.ENOTEMPTY);try{u=qe.lookupNode(n,s)}catch(e){}if(c!==u){var l=qe.isDir(c.mode),d=qe.mayDelete(r,a,l);if(d)throw new qe.ErrnoError(d);if(d=u?qe.mayDelete(n,s,l):qe.mayCreate(n,s))throw new qe.ErrnoError(d);if(!r.node_ops.rename)throw new qe.ErrnoError(Be.EPERM);if(qe.isMountpoint(c)||u&&qe.isMountpoint(u))throw new qe.ErrnoError(Be.EBUSY);if(n!==r&&(d=qe.nodePermissions(r,"w")))throw new qe.ErrnoError(d);try{qe.trackingDelegate.willMovePath&&qe.trackingDelegate.willMovePath(e,t)}catch(r){console.log("FS.trackingDelegate['willMovePath']('"+e+"', '"+t+"') threw an exception: "+r.message)}qe.hashRemoveNode(c);try{r.node_ops.rename(c,n,s)}catch(e){throw e}finally{qe.hashAddNode(c)}try{qe.trackingDelegate.onMovePath&&qe.trackingDelegate.onMovePath(e,t)}catch(r){console.log("FS.trackingDelegate['onMovePath']('"+e+"', '"+t+"') threw an exception: "+r.message)}}},rmdir:function(e){var t=qe.lookupPath(e,{parent:!0}).node,r=Oe.basename(e),n=qe.lookupNode(t,r),i=qe.mayDelete(t,r,!0);if(i)throw new qe.ErrnoError(i);if(!t.node_ops.rmdir)throw new qe.ErrnoError(Be.EPERM);if(qe.isMountpoint(n))throw new qe.ErrnoError(Be.EBUSY);try{qe.trackingDelegate.willDeletePath&&qe.trackingDelegate.willDeletePath(e)}catch(t){console.log("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+t.message)}t.node_ops.rmdir(t,r),qe.destroyNode(n);try{qe.trackingDelegate.onDeletePath&&qe.trackingDelegate.onDeletePath(e)}catch(t){console.log("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+t.message)}},readdir:function(e){var t=qe.lookupPath(e,{follow:!0}).node;if(!t.node_ops.readdir)throw new qe.ErrnoError(Be.ENOTDIR);return t.node_ops.readdir(t)},unlink:function(e){var t=qe.lookupPath(e,{parent:!0}).node,r=Oe.basename(e),n=qe.lookupNode(t,r),i=qe.mayDelete(t,r,!1);if(i)throw new qe.ErrnoError(i);if(!t.node_ops.unlink)throw new qe.ErrnoError(Be.EPERM);if(qe.isMountpoint(n))throw new qe.ErrnoError(Be.EBUSY);try{qe.trackingDelegate.willDeletePath&&qe.trackingDelegate.willDeletePath(e)}catch(t){console.log("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+t.message)}t.node_ops.unlink(t,r),qe.destroyNode(n);try{qe.trackingDelegate.onDeletePath&&qe.trackingDelegate.onDeletePath(e)}catch(t){console.log("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+t.message)}},readlink:function(e){var t=qe.lookupPath(e).node;if(!t)throw new qe.ErrnoError(Be.ENOENT);if(!t.node_ops.readlink)throw new qe.ErrnoError(Be.EINVAL);return Oe.resolve(qe.getPath(t.parent),t.node_ops.readlink(t))},stat:function(e,t){var r=qe.lookupPath(e,{follow:!t}).node;if(!r)throw new qe.ErrnoError(Be.ENOENT);if(!r.node_ops.getattr)throw new qe.ErrnoError(Be.EPERM);return r.node_ops.getattr(r)},lstat:function(e){return qe.stat(e,!0)},chmod:function(e,t,r){var n;"string"==typeof e?n=qe.lookupPath(e,{follow:!r}).node:n=e;if(!n.node_ops.setattr)throw new qe.ErrnoError(Be.EPERM);n.node_ops.setattr(n,{mode:4095&t|-4096&n.mode,timestamp:Date.now()})},lchmod:function(e,t){qe.chmod(e,t,!0)},fchmod:function(e,t){var r=qe.getStream(e);if(!r)throw new qe.ErrnoError(Be.EBADF);qe.chmod(r.node,t)},chown:function(e,t,r,n){var i;"string"==typeof e?i=qe.lookupPath(e,{follow:!n}).node:i=e;if(!i.node_ops.setattr)throw new qe.ErrnoError(Be.EPERM);i.node_ops.setattr(i,{timestamp:Date.now()})},lchown:function(e,t,r){qe.chown(e,t,r,!0)},fchown:function(e,t,r){var n=qe.getStream(e);if(!n)throw new qe.ErrnoError(Be.EBADF);qe.chown(n.node,t,r)},truncate:function(e,t){if(t<0)throw new qe.ErrnoError(Be.EINVAL);var r;"string"==typeof e?r=qe.lookupPath(e,{follow:!0}).node:r=e;if(!r.node_ops.setattr)throw new qe.ErrnoError(Be.EPERM);if(qe.isDir(r.mode))throw new qe.ErrnoError(Be.EISDIR);if(!qe.isFile(r.mode))throw new qe.ErrnoError(Be.EINVAL);var n=qe.nodePermissions(r,"w");if(n)throw new qe.ErrnoError(n);r.node_ops.setattr(r,{size:t,timestamp:Date.now()})},ftruncate:function(e,t){var r=qe.getStream(e);if(!r)throw new qe.ErrnoError(Be.EBADF);if(0==(2097155&r.flags))throw new qe.ErrnoError(Be.EINVAL);qe.truncate(r.node,t)},utime:function(e,t,r){var n=qe.lookupPath(e,{follow:!0}).node;n.node_ops.setattr(n,{timestamp:Math.max(t,r)})},open:function(e,t,r,n,i){if(""===e)throw new qe.ErrnoError(Be.ENOENT);var o;if(r=void 0===r?438:r,r=64&(t="string"==typeof t?qe.modeStringToFlags(t):t)?4095&r|32768:0,"object"==typeof e)o=e;else{e=Oe.normalize(e);try{o=qe.lookupPath(e,{follow:!(131072&t)}).node}catch(e){}}var a=!1;if(64&t)if(o){if(128&t)throw new qe.ErrnoError(Be.EEXIST)}else o=qe.mknod(e,r,0),a=!0;if(!o)throw new qe.ErrnoError(Be.ENOENT);if(qe.isChrdev(o.mode)&&(t&=-513),65536&t&&!qe.isDir(o.mode))throw new qe.ErrnoError(Be.ENOTDIR);if(!a){var u=qe.mayOpen(o,t);if(u)throw new qe.ErrnoError(u)}512&t&&qe.truncate(o,0),t&=-641;var c=qe.createStream({node:o,path:qe.getPath(o),flags:t,seekable:!0,position:0,stream_ops:o.stream_ops,ungotten:[],error:!1},n,i);c.stream_ops.open&&c.stream_ops.open(c),!s.logReadFiles||1&t||(qe.readFiles||(qe.readFiles={}),e in qe.readFiles||(qe.readFiles[e]=1,u("read file: "+e)));try{if(qe.trackingDelegate.onOpenFile){var f=0;1!=(2097155&t)&&(f|=qe.tracking.openFlags.READ),0!=(2097155&t)&&(f|=qe.tracking.openFlags.WRITE),qe.trackingDelegate.onOpenFile(e,f)}}catch(t){console.log("FS.trackingDelegate['onOpenFile']('"+e+"', flags) threw an exception: "+t.message)}return c},close:function(e){if(qe.isClosed(e))throw new qe.ErrnoError(Be.EBADF);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(e){throw e}finally{qe.closeStream(e.fd)}e.fd=null},isClosed:function(e){return null===e.fd},llseek:function(e,t,r){if(qe.isClosed(e))throw new qe.ErrnoError(Be.EBADF);if(!e.seekable||!e.stream_ops.llseek)throw new qe.ErrnoError(Be.ESPIPE);return e.position=e.stream_ops.llseek(e,t,r),e.ungotten=[],e.position},read:function(e,t,r,n,i){if(n<0||i<0)throw new qe.ErrnoError(Be.EINVAL);if(qe.isClosed(e))throw new qe.ErrnoError(Be.EBADF);if(1==(2097155&e.flags))throw new qe.ErrnoError(Be.EBADF);if(qe.isDir(e.node.mode))throw new qe.ErrnoError(Be.EISDIR);if(!e.stream_ops.read)throw new qe.ErrnoError(Be.EINVAL);var o=void 0!==i;if(o){if(!e.seekable)throw new qe.ErrnoError(Be.ESPIPE)}else i=e.position;var a=e.stream_ops.read(e,t,r,n,i);return o||(e.position+=a),a},write:function(e,t,r,n,i,o){if(n<0||i<0)throw new qe.ErrnoError(Be.EINVAL);if(qe.isClosed(e))throw new qe.ErrnoError(Be.EBADF);if(0==(2097155&e.flags))throw new qe.ErrnoError(Be.EBADF);if(qe.isDir(e.node.mode))throw new qe.ErrnoError(Be.EISDIR);if(!e.stream_ops.write)throw new qe.ErrnoError(Be.EINVAL);1024&e.flags&&qe.llseek(e,0,2);var a=void 0!==i;if(a){if(!e.seekable)throw new qe.ErrnoError(Be.ESPIPE)}else i=e.position;var s=e.stream_ops.write(e,t,r,n,i,o);a||(e.position+=s);try{e.path&&qe.trackingDelegate.onWriteToFile&&qe.trackingDelegate.onWriteToFile(e.path)}catch(e){console.log("FS.trackingDelegate['onWriteToFile']('"+path+"') threw an exception: "+e.message)}return s},allocate:function(e,t,r){if(qe.isClosed(e))throw new qe.ErrnoError(Be.EBADF);if(t<0||r<=0)throw new qe.ErrnoError(Be.EINVAL);if(0==(2097155&e.flags))throw new qe.ErrnoError(Be.EBADF);if(!qe.isFile(e.node.mode)&&!qe.isDir(e.node.mode))throw new qe.ErrnoError(Be.ENODEV);if(!e.stream_ops.allocate)throw new qe.ErrnoError(Be.EOPNOTSUPP);e.stream_ops.allocate(e,t,r)},mmap:function(e,t,r,n,i,o,a){if(1==(2097155&e.flags))throw new qe.ErrnoError(Be.EACCES);if(!e.stream_ops.mmap)throw new qe.ErrnoError(Be.ENODEV);return e.stream_ops.mmap(e,t,r,n,i,o,a)},msync:function(e,t,r,n,i){return e&&e.stream_ops.msync?e.stream_ops.msync(e,t,r,n,i):0},munmap:function(e){return 0},ioctl:function(e,t,r){if(!e.stream_ops.ioctl)throw new qe.ErrnoError(Be.ENOTTY);return e.stream_ops.ioctl(e,t,r)},readFile:function(e,t){if((t=t||{}).flags=t.flags||"r",t.encoding=t.encoding||"binary","utf8"!==t.encoding&&"binary"!==t.encoding)throw new Error('Invalid encoding type "'+t.encoding+'"');var r,n=qe.open(e,t.flags),i=qe.stat(e).size,o=new Uint8Array(i);return qe.read(n,o,0,i,0),"utf8"===t.encoding?r=B(o,0):"binary"===t.encoding&&(r=o),qe.close(n),r},writeFile:function(e,t,r){(r=r||{}).flags=r.flags||"w";var n=qe.open(e,r.flags,r.mode);if("string"==typeof t){var i=new Uint8Array(N(t)+1),o=R(t,i,0,i.length);qe.write(n,i,0,o,void 0,r.canOwn)}else{if(!ArrayBuffer.isView(t))throw new Error("Unsupported data type");qe.write(n,t,0,t.byteLength,void 0,r.canOwn)}qe.close(n)},cwd:function(){return qe.currentPath},chdir:function(e){var t=qe.lookupPath(e,{follow:!0});if(null===t.node)throw new qe.ErrnoError(Be.ENOENT);if(!qe.isDir(t.node.mode))throw new qe.ErrnoError(Be.ENOTDIR);var r=qe.nodePermissions(t.node,"x");if(r)throw new qe.ErrnoError(r);qe.currentPath=t.path},createDefaultDirectories:function(){qe.mkdir("/tmp"),qe.mkdir("/home"),qe.mkdir("/home/web_user")},createDefaultDevices:function(){var e;if(qe.mkdir("/dev"),qe.registerDevice(qe.makedev(1,3),{read:function(){return 0},write:function(e,t,r,n,i){return n}}),qe.mkdev("/dev/null",qe.makedev(1,3)),Ne.register(qe.makedev(5,0),Ne.default_tty_ops),Ne.register(qe.makedev(6,0),Ne.default_tty1_ops),qe.mkdev("/dev/tty",qe.makedev(5,0)),qe.mkdev("/dev/tty1",qe.makedev(6,0)),"undefined"!=typeof crypto){var t=new Uint8Array(1);e=function(){return crypto.getRandomValues(t),t[0]}}else e=d?function(){return r(15).randomBytes(1)[0]}:function(){return 256*Math.random()|0};qe.createDevice("/dev","random",e),qe.createDevice("/dev","urandom",e),qe.mkdir("/dev/shm"),qe.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){qe.mkdir("/proc"),qe.mkdir("/proc/self"),qe.mkdir("/proc/self/fd"),qe.mount({mount:function(){var e=qe.createNode("/proc/self","fd",16895,73);return e.node_ops={lookup:function(e,t){var r=+t,n=qe.getStream(r);if(!n)throw new qe.ErrnoError(Be.EBADF);var i={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return n.path}}};return i.parent=i,i}},e}},{},"/proc/self/fd")},createStandardStreams:function(){s.stdin?qe.createDevice("/dev","stdin",s.stdin):qe.symlink("/dev/tty","/dev/stdin"),s.stdout?qe.createDevice("/dev","stdout",null,s.stdout):qe.symlink("/dev/tty","/dev/stdout"),s.stderr?qe.createDevice("/dev","stderr",null,s.stderr):qe.symlink("/dev/tty1","/dev/stderr");var e=qe.open("/dev/stdin","r");T(0===e.fd,"invalid handle for stdin ("+e.fd+")");var t=qe.open("/dev/stdout","w");T(1===t.fd,"invalid handle for stdout ("+t.fd+")");var r=qe.open("/dev/stderr","w");T(2===r.fd,"invalid handle for stderr ("+r.fd+")")},ensureErrnoError:function(){qe.ErrnoError||(qe.ErrnoError=function(e,t){this.node=t,this.setErrno=function(e){for(var t in this.errno=e,Be)if(Be[t]===e){this.code=t;break}},this.setErrno(e),this.message=Fe[e],this.stack&&Object.defineProperty(this,"stack",{value:(new Error).stack,writable:!0})},qe.ErrnoError.prototype=new Error,qe.ErrnoError.prototype.constructor=qe.ErrnoError,[Be.ENOENT].forEach(function(e){qe.genericErrors[e]=new qe.ErrnoError(e),qe.genericErrors[e].stack="<generic error, no stack>"}))},staticInit:function(){qe.ensureErrnoError(),qe.nameTable=new Array(4096),qe.mount(Ue,{},"/"),qe.createDefaultDirectories(),qe.createDefaultDevices(),qe.createSpecialDirectories(),qe.filesystems={MEMFS:Ue,IDBFS:Ve,NODEFS:Ge,WORKERFS:je}},init:function(e,t,r){T(!qe.init.initialized,"FS.init was previously called. If you want to initialize later with custom parameters, remove any earlier calls (note that one is automatically added to the generated code)"),qe.init.initialized=!0,qe.ensureErrnoError(),s.stdin=e||s.stdin,s.stdout=t||s.stdout,s.stderr=r||s.stderr,qe.createStandardStreams()},quit:function(){qe.init.initialized=!1;var e=s._fflush;e&&e(0);for(var t=0;t<qe.streams.length;t++){var r=qe.streams[t];r&&qe.close(r)}},getMode:function(e,t){var r=0;return e&&(r|=365),t&&(r|=146),r},joinPath:function(e,t){var r=Oe.join.apply(null,e);return t&&"/"==r[0]&&(r=r.substr(1)),r},absolutePath:function(e,t){return Oe.resolve(t,e)},standardizePath:function(e){return Oe.normalize(e)},findObject:function(e,t){var r=qe.analyzePath(e,t);return r.exists?r.object:(Re(r.error),null)},analyzePath:function(e,t){try{e=(n=qe.lookupPath(e,{follow:!t})).path}catch(e){}var r={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var n=qe.lookupPath(e,{parent:!0});r.parentExists=!0,r.parentPath=n.path,r.parentObject=n.node,r.name=Oe.basename(e),n=qe.lookupPath(e,{follow:!t}),r.exists=!0,r.path=n.path,r.object=n.node,r.name=n.node.name,r.isRoot="/"===n.path}catch(e){r.error=e.errno}return r},createFolder:function(e,t,r,n){var i=Oe.join2("string"==typeof e?e:qe.getPath(e),t),o=qe.getMode(r,n);return qe.mkdir(i,o)},createPath:function(e,t,r,n){e="string"==typeof e?e:qe.getPath(e);for(var i=t.split("/").reverse();i.length;){var o=i.pop();if(o){var a=Oe.join2(e,o);try{qe.mkdir(a)}catch(e){}e=a}}return a},createFile:function(e,t,r,n,i){var o=Oe.join2("string"==typeof e?e:qe.getPath(e),t),a=qe.getMode(n,i);return qe.create(o,a)},createDataFile:function(e,t,r,n,i,o){var a=t?Oe.join2("string"==typeof e?e:qe.getPath(e),t):e,s=qe.getMode(n,i),u=qe.create(a,s);if(r){if("string"==typeof r){for(var c=new Array(r.length),f=0,l=r.length;f<l;++f)c[f]=r.charCodeAt(f);r=c}qe.chmod(u,146|s);var d=qe.open(u,"w");qe.write(d,r,0,r.length,0,o),qe.close(d),qe.chmod(u,s)}return u},createDevice:function(e,t,r,n){var i=Oe.join2("string"==typeof e?e:qe.getPath(e),t),o=qe.getMode(!!r,!!n);qe.createDevice.major||(qe.createDevice.major=64);var a=qe.makedev(qe.createDevice.major++,0);return qe.registerDevice(a,{open:function(e){e.seekable=!1},close:function(e){n&&n.buffer&&n.buffer.length&&n(10)},read:function(e,t,n,i,o){for(var a=0,s=0;s<i;s++){var u;try{u=r()}catch(e){throw new qe.ErrnoError(Be.EIO)}if(void 0===u&&0===a)throw new qe.ErrnoError(Be.EAGAIN);if(null==u)break;a++,t[n+s]=u}return a&&(e.node.timestamp=Date.now()),a},write:function(e,t,r,i,o){for(var a=0;a<i;a++)try{n(t[r+a])}catch(e){throw new qe.ErrnoError(Be.EIO)}return i&&(e.node.timestamp=Date.now()),a}}),qe.mkdev(i,o,a)},createLink:function(e,t,r,n,i){var o=Oe.join2("string"==typeof e?e:qe.getPath(e),t);return qe.symlink(r,o)},forceLoadFile:function(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;var t=!0;if("undefined"!=typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!s.read)throw new Error("Cannot load without read() or XMLHttpRequest.");try{e.contents=qr(s.read(e.url),!0),e.usedBytes=e.contents.length}catch(e){t=!1}return t||Re(Be.EIO),t},createLazyFile:function(e,t,r,n,i){function o(){this.lengthKnown=!1,this.chunks=[]}if(o.prototype.get=function(e){if(!(e>this.length-1||e<0)){var t=e%this.chunkSize,r=e/this.chunkSize|0;return this.getter(r)[t]}},o.prototype.setDataGetter=function(e){this.getter=e},o.prototype.cacheLength=function(){var e=new XMLHttpRequest;if(e.open("HEAD",r,!1),e.send(null),!(e.status>=200&&e.status<300||304===e.status))throw new Error("Couldn't load "+r+". Status: "+e.status);var t,n=Number(e.getResponseHeader("Content-length")),i=(t=e.getResponseHeader("Accept-Ranges"))&&"bytes"===t,o=(t=e.getResponseHeader("Content-Encoding"))&&"gzip"===t,a=1048576;i||(a=n);var s=this;s.setDataGetter(function(e){var t=e*a,i=(e+1)*a-1;if(i=Math.min(i,n-1),void 0===s.chunks[e]&&(s.chunks[e]=function(e,t){if(e>t)throw new Error("invalid range ("+e+", "+t+") or no bytes requested!");if(t>n-1)throw new Error("only "+n+" bytes available! programmer error!");var i=new XMLHttpRequest;if(i.open("GET",r,!1),n!==a&&i.setRequestHeader("Range","bytes="+e+"-"+t),"undefined"!=typeof Uint8Array&&(i.responseType="arraybuffer"),i.overrideMimeType&&i.overrideMimeType("text/plain; charset=x-user-defined"),i.send(null),!(i.status>=200&&i.status<300||304===i.status))throw new Error("Couldn't load "+r+". Status: "+i.status);return void 0!==i.response?new Uint8Array(i.response||[]):qr(i.responseText||"",!0)}(t,i)),void 0===s.chunks[e])throw new Error("doXHR failed!");return s.chunks[e]}),!o&&n||(a=n=1,n=this.getter(0).length,a=n,console.log("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=n,this._chunkSize=a,this.lengthKnown=!0},"undefined"!=typeof XMLHttpRequest){if(!l)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var a=new o;Object.defineProperties(a,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var s={isDevice:!1,contents:a}}else s={isDevice:!1,url:r};var u=qe.createFile(e,t,s,n,i);s.contents?u.contents=s.contents:s.url&&(u.contents=null,u.url=s.url),Object.defineProperties(u,{usedBytes:{get:function(){return this.contents.length}}});var c={};return Object.keys(u.stream_ops).forEach(function(e){var t=u.stream_ops[e];c[e]=function(){if(!qe.forceLoadFile(u))throw new qe.ErrnoError(Be.EIO);return t.apply(null,arguments)}}),c.read=function(e,t,r,n,i){if(!qe.forceLoadFile(u))throw new qe.ErrnoError(Be.EIO);var o=e.node.contents;if(i>=o.length)return 0;var a=Math.min(o.length-i,n);if(T(a>=0),o.slice)for(var s=0;s<a;s++)t[r+s]=o[i+s];else for(s=0;s<a;s++)t[r+s]=o.get(i+s);return a},u.stream_ops=c,u},createPreloadedFile:function(e,t,r,n,i,o,a,u,c,f){Er.init();var l=t?Oe.resolve(Oe.join2(e,t)):e;Te("cp "+l);function d(r){function d(r){f&&f(),u||qe.createDataFile(e,t,r,n,i,c),o&&o(),Se()}var h=!1;s.preloadPlugins.forEach(function(e){h||e.canHandle(l)&&(e.handle(r,l,d,function(){a&&a(),Se()}),h=!0)}),h||d(r)}ke(),"string"==typeof r?Er.asyncLoad(r,function(e){d(e)},a):d(r)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(e,t,r){t=t||function(){},r=r||function(){};var n=qe.indexedDB();try{var i=n.open(qe.DB_NAME(),qe.DB_VERSION)}catch(e){return r(e)}i.onupgradeneeded=function(){console.log("creating db"),i.result.createObjectStore(qe.DB_STORE_NAME)},i.onsuccess=function(){var n=i.result.transaction([qe.DB_STORE_NAME],"readwrite"),o=n.objectStore(qe.DB_STORE_NAME),a=0,s=0,u=e.length;function c(){0==s?t():r()}e.forEach(function(e){var t=o.put(qe.analyzePath(e).object.contents,e);t.onsuccess=function(){++a+s==u&&c()},t.onerror=function(){a+ ++s==u&&c()}}),n.onerror=r},i.onerror=r},loadFilesFromDB:function(e,t,r){t=t||function(){},r=r||function(){};var n=qe.indexedDB();try{var i=n.open(qe.DB_NAME(),qe.DB_VERSION)}catch(e){return r(e)}i.onupgradeneeded=r,i.onsuccess=function(){var n=i.result;try{var o=n.transaction([qe.DB_STORE_NAME],"readonly")}catch(e){return void r(e)}var a=o.objectStore(qe.DB_STORE_NAME),s=0,u=0,c=e.length;function f(){0==u?t():r()}e.forEach(function(e){var t=a.get(e);t.onsuccess=function(){qe.analyzePath(e).exists&&qe.unlink(e),qe.createDataFile(Oe.dirname(e),Oe.basename(e),t.result,!0,!0,!0),++s+u==c&&f()},t.onerror=function(){s+ ++u==c&&f()}}),o.onerror=r},i.onerror=r}},We={DEFAULT_POLLMASK:5,mappings:{},umask:511,calculateAt:function(e,t){if("/"!==t[0]){var r;if(-100===e)r=qe.cwd();else{var n=qe.getStream(e);if(!n)throw new qe.ErrnoError(Be.EBADF);r=n.path}t=Oe.join2(r,t)}return t},doStat:function(e,t,r){try{var n=e(t)}catch(e){if(e&&e.node&&Oe.normalize(t)!==Oe.normalize(qe.getPath(e.node)))return-Be.ENOTDIR;throw e}return z[r>>2]=n.dev,z[r+4>>2]=0,z[r+8>>2]=n.ino,z[r+12>>2]=n.mode,z[r+16>>2]=n.nlink,z[r+20>>2]=n.uid,z[r+24>>2]=n.gid,z[r+28>>2]=n.rdev,z[r+32>>2]=0,z[r+36>>2]=n.size,z[r+40>>2]=4096,z[r+44>>2]=n.blocks,z[r+48>>2]=n.atime.getTime()/1e3|0,z[r+52>>2]=0,z[r+56>>2]=n.mtime.getTime()/1e3|0,z[r+60>>2]=0,z[r+64>>2]=n.ctime.getTime()/1e3|0,z[r+68>>2]=0,z[r+72>>2]=n.ino,0},doMsync:function(e,t,r,n){var i=new Uint8Array(j.subarray(e,e+r));qe.msync(t,i,0,r,n)},doMkdir:function(e,t){return"/"===(e=Oe.normalize(e))[e.length-1]&&(e=e.substr(0,e.length-1)),qe.mkdir(e,t,0),0},doMknod:function(e,t,r){switch(61440&t){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-Be.EINVAL}return qe.mknod(e,t,r),0},doReadlink:function(e,t,r){if(r<=0)return-Be.EINVAL;var n=qe.readlink(e),i=Math.min(r,N(n)),o=G[t+i];return O(n,t,r+1),G[t+i]=o,i},doAccess:function(e,t){if(-8&t)return-Be.EINVAL;var r;r=qe.lookupPath(e,{follow:!0}).node;var n="";return 4&t&&(n+="r"),2&t&&(n+="w"),1&t&&(n+="x"),n&&qe.nodePermissions(r,n)?-Be.EACCES:0},doDup:function(e,t,r){var n=qe.getStream(r);return n&&qe.close(n),qe.open(e,t,0,r,r).fd},doReadv:function(e,t,r,n){for(var i=0,o=0;o<r;o++){var a=z[t+8*o>>2],s=z[t+(8*o+4)>>2],u=qe.read(e,G,a,s,n);if(u<0)return-1;if(i+=u,u<s)break}return i},doWritev:function(e,t,r,n){for(var i=0,o=0;o<r;o++){var a=z[t+8*o>>2],s=z[t+(8*o+4)>>2],u=qe.write(e,G,a,s,n);if(u<0)return-1;i+=u}return i},varargs:0,get:function(e){return We.varargs+=4,z[We.varargs-4>>2]},getStr:function(){return L(We.get())},getStreamFromFD:function(){var e=qe.getStream(We.get());if(!e)throw new qe.ErrnoError(Be.EBADF);return e},getSocketFromFD:function(){var e=SOCKFS.getSocket(We.get());if(!e)throw new qe.ErrnoError(Be.EBADF);return e},getSocketAddress:function(e){var t=We.get(),r=We.get();if(e&&0===t)return null;var n=__read_sockaddr(t,r);if(n.errno)throw new qe.ErrnoError(n.errno);return n.addr=DNS.lookup_addr(n.addr)||n.addr,n},get64:function(){var e=We.get(),t=We.get();return T(e>=0?0===t:-1===t),e},getZero:function(){T(0===We.get())}};var ze={};function $e(e){for(;e.length;){var t=e.pop();e.pop()(t)}}function Ye(e){return this.fromWireType($[e>>2])}var He={},Xe={},Ke={},Qe=48,Ze=57;function Je(e){if(void 0===e)return"_unknown";var t=(e=e.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return t>=Qe&&t<=Ze?"_"+e:e}function et(e,t){return e=Je(e),new Function("body","return function "+e+'() {\n    "use strict";    return body.apply(this, arguments);\n};\n')(t)}function tt(e,t){var r=et(t,function(e){this.name=t,this.message=e;var r=new Error(e).stack;void 0!==r&&(this.stack=this.toString()+"\n"+r.replace(/^Error(:[^\n]*)?\n/,""))});return r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.prototype.toString=function(){return void 0===this.message?this.name:this.name+": "+this.message},r}var rt=void 0;function nt(e){throw new rt(e)}function it(e,t,r){function n(t){var n=r(t);n.length!==e.length&&nt("Mismatched type converter count");for(var i=0;i<e.length;++i)lt(e[i],n[i])}e.forEach(function(e){Ke[e]=t});var i=new Array(t.length),o=[],a=0;t.forEach(function(e,t){Xe.hasOwnProperty(e)?i[t]=Xe[e]:(o.push(e),He.hasOwnProperty(e)||(He[e]=[]),He[e].push(function(){i[t]=Xe[e],++a===o.length&&n(i)}))}),0===o.length&&n(i)}function ot(e){switch(e){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+e)}}function at(){for(var e=new Array(256),t=0;t<256;++t)e[t]=String.fromCharCode(t);st=e}var st=void 0;function ut(e){for(var t="",r=e;j[r];)t+=st[j[r++]];return t}var ct=void 0;function ft(e){throw new ct(e)}function lt(e,t,r){if(r=r||{},!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");var n=t.name;if(e||ft('type "'+n+'" must have a positive integer typeid pointer'),Xe.hasOwnProperty(e)){if(r.ignoreDuplicateRegistrations)return;ft("Cannot register type '"+n+"' twice")}if(Xe[e]=t,delete Ke[e],He.hasOwnProperty(e)){var i=He[e];delete He[e],i.forEach(function(e){e()})}}function dt(e){if(!(this instanceof xt))return!1;if(!(e instanceof xt))return!1;for(var t=this.$$.ptrType.registeredClass,r=this.$$.ptr,n=e.$$.ptrType.registeredClass,i=e.$$.ptr;t.baseClass;)r=t.upcast(r),t=t.baseClass;for(;n.baseClass;)i=n.upcast(i),n=n.baseClass;return t===n&&r===i}function ht(e){return{count:e.count,deleteScheduled:e.deleteScheduled,preservePointerOnDelete:e.preservePointerOnDelete,ptr:e.ptr,ptrType:e.ptrType,smartPtr:e.smartPtr,smartPtrType:e.smartPtrType}}function mt(e){ft(e.$$.ptrType.registeredClass.name+" instance already deleted")}function pt(){if(this.$$.ptr||mt(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var e=Object.create(Object.getPrototypeOf(this),{$$:{value:ht(this.$$)}});return e.$$.count.value+=1,e.$$.deleteScheduled=!1,e}function gt(e){var t=e.$$;t.smartPtr?t.smartPtrType.rawDestructor(t.smartPtr):t.ptrType.registeredClass.rawDestructor(t.ptr)}function vt(){this.$$.ptr||mt(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&ft("Object already scheduled for deletion"),this.$$.count.value-=1,0===this.$$.count.value&&gt(this),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)}function yt(){return!this.$$.ptr}var _t=void 0,bt=[];function wt(){for(;bt.length;){var e=bt.pop();e.$$.deleteScheduled=!1,e.delete()}}function Et(){return this.$$.ptr||mt(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&ft("Object already scheduled for deletion"),bt.push(this),1===bt.length&&_t&&_t(wt),this.$$.deleteScheduled=!0,this}function Mt(){xt.prototype.isAliasOf=dt,xt.prototype.clone=pt,xt.prototype.delete=vt,xt.prototype.isDeleted=yt,xt.prototype.deleteLater=Et}function xt(){}var At={};function Tt(e,t,r){if(void 0===e[t].overloadTable){var n=e[t];e[t]=function(){return e[t].overloadTable.hasOwnProperty(arguments.length)||ft("Function '"+r+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+e[t].overloadTable+")!"),e[t].overloadTable[arguments.length].apply(this,arguments)},e[t].overloadTable=[],e[t].overloadTable[n.argCount]=n}}function kt(e,t,r){s.hasOwnProperty(e)?((void 0===r||void 0!==s[e].overloadTable&&void 0!==s[e].overloadTable[r])&&ft("Cannot register public name '"+e+"' twice"),Tt(s,e,e),s.hasOwnProperty(r)&&ft("Cannot register multiple overloads of a function with the same number of arguments ("+r+")!"),s[e].overloadTable[r]=t):(s[e]=t,void 0!==r&&(s[e].numArguments=r))}function St(e,t,r,n,i,o,a,s){this.name=e,this.constructor=t,this.instancePrototype=r,this.rawDestructor=n,this.baseClass=i,this.getActualType=o,this.upcast=a,this.downcast=s,this.pureVirtualFunctions=[]}function Pt(e,t,r){for(;t!==r;)t.upcast||ft("Expected null or instance of "+r.name+", got an instance of "+t.name),e=t.upcast(e),t=t.baseClass;return e}function Ct(e,t){if(null===t)return this.isReference&&ft("null is not a valid "+this.name),0;t.$$||ft('Cannot pass "'+dr(t)+'" as a '+this.name),t.$$.ptr||ft("Cannot pass deleted object as a pointer of type "+this.name);var r=t.$$.ptrType.registeredClass;return Pt(t.$$.ptr,r,this.registeredClass)}function It(e,t){var r;if(null===t)return this.isReference&&ft("null is not a valid "+this.name),this.isSmartPointer?(r=this.rawConstructor(),null!==e&&e.push(this.rawDestructor,r),r):0;t.$$||ft('Cannot pass "'+dr(t)+'" as a '+this.name),t.$$.ptr||ft("Cannot pass deleted object as a pointer of type "+this.name),!this.isConst&&t.$$.ptrType.isConst&&ft("Cannot convert argument of type "+(t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name)+" to parameter type "+this.name);var n=t.$$.ptrType.registeredClass;if(r=Pt(t.$$.ptr,n,this.registeredClass),this.isSmartPointer)switch(void 0===t.$$.smartPtr&&ft("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:t.$$.smartPtrType===this?r=t.$$.smartPtr:ft("Cannot convert argument of type "+(t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name)+" to parameter type "+this.name);break;case 1:r=t.$$.smartPtr;break;case 2:if(t.$$.smartPtrType===this)r=t.$$.smartPtr;else{var i=t.clone();r=this.rawShare(r,cr(function(){i.delete()})),null!==e&&e.push(this.rawDestructor,r)}break;default:ft("Unsupporting sharing policy")}return r}function Lt(e,t){if(null===t)return this.isReference&&ft("null is not a valid "+this.name),0;t.$$||ft('Cannot pass "'+dr(t)+'" as a '+this.name),t.$$.ptr||ft("Cannot pass deleted object as a pointer of type "+this.name),t.$$.ptrType.isConst&&ft("Cannot convert argument of type "+t.$$.ptrType.name+" to parameter type "+this.name);var r=t.$$.ptrType.registeredClass;return Pt(t.$$.ptr,r,this.registeredClass)}function Dt(e){return this.rawGetPointee&&(e=this.rawGetPointee(e)),e}function Bt(e){this.rawDestructor&&this.rawDestructor(e)}function Ft(e){null!==e&&e.delete()}function Rt(e,t,r){if(t===r)return e;if(void 0===r.baseClass)return null;var n=Rt(e,t,r.baseClass);return null===n?null:r.downcast(n)}function Ot(){return Object.keys(Gt).length}function Nt(){var e=[];for(var t in Gt)Gt.hasOwnProperty(t)&&e.push(Gt[t]);return e}function Ut(e){_t=e,bt.length&&_t&&_t(wt)}function Vt(){s.getInheritedInstanceCount=Ot,s.getLiveInheritedInstances=Nt,s.flushPendingDeletes=wt,s.setDelayFunction=Ut}var Gt={};function jt(e,t){for(void 0===t&&ft("ptr should not be undefined");e.baseClass;)t=e.upcast(t),e=e.baseClass;return t}function qt(e,t){return t=jt(e,t),Gt[t]}function Wt(e,t){return t.ptrType&&t.ptr||nt("makeClassHandle requires ptr and ptrType"),!!t.smartPtrType!==!!t.smartPtr&&nt("Both smartPtrType and smartPtr must be specified"),t.count={value:1},Object.create(e,{$$:{value:t}})}function zt(e){var t=this.getPointee(e);if(!t)return this.destructor(e),null;var r=qt(this.registeredClass,t);if(void 0!==r){if(0===r.$$.count.value)return r.$$.ptr=t,r.$$.smartPtr=e,r.clone();var n=r.clone();return this.destructor(e),n}function i(){return this.isSmartPointer?Wt(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:t,smartPtrType:this,smartPtr:e}):Wt(this.registeredClass.instancePrototype,{ptrType:this,ptr:e})}var o,a=this.registeredClass.getActualType(t),s=At[a];if(!s)return i.call(this);o=this.isConst?s.constPointerType:s.pointerType;var u=Rt(t,this.registeredClass,o.registeredClass);return null===u?i.call(this):this.isSmartPointer?Wt(o.registeredClass.instancePrototype,{ptrType:o,ptr:u,smartPtrType:this,smartPtr:e}):Wt(o.registeredClass.instancePrototype,{ptrType:o,ptr:u})}function $t(){Yt.prototype.getPointee=Dt,Yt.prototype.destructor=Bt,Yt.prototype.argPackAdvance=8,Yt.prototype.readValueFromPointer=Ye,Yt.prototype.deleteObject=Ft,Yt.prototype.fromWireType=zt}function Yt(e,t,r,n,i,o,a,s,u,c,f){this.name=e,this.registeredClass=t,this.isReference=r,this.isConst=n,this.isSmartPointer=i,this.pointeeType=o,this.sharingPolicy=a,this.rawGetPointee=s,this.rawConstructor=u,this.rawShare=c,this.rawDestructor=f,i||void 0!==t.baseClass?this.toWireType=It:n?(this.toWireType=Ct,this.destructorFunction=null):(this.toWireType=Lt,this.destructorFunction=null)}function Ht(e,t,r){s.hasOwnProperty(e)||nt("Replacing nonexistant public symbol"),void 0!==s[e].overloadTable&&void 0!==r?s[e].overloadTable[r]=t:(s[e]=t,s[e].argCount=r)}function Xt(e,t){var r;if(e=ut(e),void 0!==s["FUNCTION_TABLE_"+e])r=s["FUNCTION_TABLE_"+e][t];else if("undefined"!=typeof FUNCTION_TABLE)r=FUNCTION_TABLE[t];else{var n=s.asm["dynCall_"+e];void 0===n&&void 0===(n=s.asm["dynCall_"+e.replace(/f/g,"d")])&&ft("No dynCall invoker for signature: "+e),r=function(r){for(var n=[],i=1;i<e.length;++i)n.push("a"+i);var o="return function dynCall_"+e+"_"+t+"("+n.join(", ")+") {\n";return o+="    return dynCall(rawFunction"+(n.length?", ":"")+n.join(", ")+");\n",o+="};\n",new Function("dynCall","rawFunction",o)(r,t)}(n)}return"function"!=typeof r&&ft("unknown function pointer with signature "+e+": "+t),r}var Kt=void 0;function Qt(e){var t=Kr(e),r=ut(t);return Jr(t),r}function Zt(e,t){var r=[],n={};throw t.forEach(function e(t){n[t]||Xe[t]||(Ke[t]?Ke[t].forEach(e):(r.push(t),n[t]=!0))}),new Kt(e+": "+r.map(Qt).join([", "]))}function Jt(e,t){if(!(e instanceof Function))throw new TypeError("new_ called with constructor type "+typeof e+" which is not a function");var r=et(e.name||"unknownFunctionName",function(){});r.prototype=e.prototype;var n=new r,i=e.apply(n,t);return i instanceof Object?i:n}function er(e,t,r,n,i){var o=t.length;o<2&&ft("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var a=null!==t[1]&&null!==r,s=!1,u=1;u<t.length;++u)if(null!==t[u]&&void 0===t[u].destructorFunction){s=!0;break}var c="void"!==t[0].name,f="",l="";for(u=0;u<o-2;++u)f+=(0!==u?", ":"")+"arg"+u,l+=(0!==u?", ":"")+"arg"+u+"Wired";var d="return function "+Je(e)+"("+f+") {\nif (arguments.length !== "+(o-2)+") {\nthrowBindingError('function "+e+" called with ' + arguments.length + ' arguments, expected "+(o-2)+" args!');\n}\n";s&&(d+="var destructors = [];\n");var h=s?"destructors":"null",m=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],p=[ft,n,i,$e,t[0],t[1]];a&&(d+="var thisWired = classParam.toWireType("+h+", this);\n");for(u=0;u<o-2;++u)d+="var arg"+u+"Wired = argType"+u+".toWireType("+h+", arg"+u+"); // "+t[u+2].name+"\n",m.push("argType"+u),p.push(t[u+2]);if(a&&(l="thisWired"+(l.length>0?", ":"")+l),d+=(c?"var rv = ":"")+"invoker(fn"+(l.length>0?", ":"")+l+");\n",s)d+="runDestructors(destructors);\n";else for(u=a?1:2;u<t.length;++u){var g=1===u?"thisWired":"arg"+(u-2)+"Wired";null!==t[u].destructorFunction&&(d+=g+"_dtor("+g+"); // "+t[u].name+"\n",m.push(g+"_dtor"),p.push(t[u].destructorFunction))}return c&&(d+="var ret = retType.fromWireType(rv);\nreturn ret;\n"),d+="}\n",m.push(d),Jt(Function,m).apply(null,p)}function tr(e,t){for(var r=[],n=0;n<e;n++)r.push(z[(t>>2)+n]);return r}function rr(e,t,r){return e instanceof Object||ft(r+' with invalid "this": '+e),e instanceof t.registeredClass.constructor||ft(r+' incompatible with "this" of type '+e.constructor.name),e.$$.ptr||ft("cannot call emscripten binding method "+r+" on deleted object"),Pt(e.$$.ptr,e.$$.ptrType.registeredClass,t.registeredClass)}var nr=[],ir=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function or(e){e>4&&0==--ir[e].refcount&&(ir[e]=void 0,nr.push(e))}function ar(){for(var e=0,t=5;t<ir.length;++t)void 0!==ir[t]&&++e;return e}function sr(){for(var e=5;e<ir.length;++e)if(void 0!==ir[e])return ir[e];return null}function ur(){s.count_emval_handles=ar,s.get_first_emval=sr}function cr(e){switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var t=nr.length?nr.pop():ir.length;return ir[t]={refcount:1,value:e},t}}function fr(e,t,r){switch(t){case 0:return function(e){var t=r?G:j;return this.fromWireType(t[e])};case 1:return function(e){var t=r?q:W;return this.fromWireType(t[e>>1])};case 2:return function(e){var t=r?z:$;return this.fromWireType(t[e>>2])};default:throw new TypeError("Unknown integer type: "+e)}}function lr(e,t){var r=Xe[e];return void 0===r&&ft(t+" has unknown type "+Qt(e)),r}function dr(e){if(null===e)return"null";var t=typeof e;return"object"===t||"array"===t||"function"===t?e.toString():""+e}function hr(e,t){switch(t){case 2:return function(e){return this.fromWireType(Y[e>>2])};case 3:return function(e){return this.fromWireType(H[e>>3])};default:throw new TypeError("Unknown float type: "+e)}}function mr(e,t,r){switch(t){case 0:return r?function(e){return G[e]}:function(e){return j[e]};case 1:return r?function(e){return q[e>>1]}:function(e){return W[e>>1]};case 2:return r?function(e){return z[e>>2]}:function(e){return $[e>>2]};default:throw new TypeError("Unknown integer type: "+e)}}function pr(e){return e||ft("Cannot use deleted val. handle = "+e),ir[e].value}var gr={};function vr(e){var t=gr[e];return void 0===t?ut(e):t}function yr(){un()}function _r(){return d||"undefined"!=typeof dateNow||(f||l)&&self.performance&&self.performance.now}function br(e,t){if(Er.mainLoop.timingMode=e,Er.mainLoop.timingValue=t,!Er.mainLoop.func)return 1;if(0==e)Er.mainLoop.scheduler=function(){var e=0|Math.max(0,Er.mainLoop.tickStartTime+t-yr());setTimeout(Er.mainLoop.runner,e)},Er.mainLoop.method="timeout";else if(1==e)Er.mainLoop.scheduler=function(){Er.requestAnimationFrame(Er.mainLoop.runner)},Er.mainLoop.method="rAF";else if(2==e){if(void 0===o){var r=[],n="setimmediate";addEventListener("message",function(e){e.data!==n&&e.data.target!==n||(e.stopPropagation(),r.shift()())},!0),o=function(e){r.push(e),l?(void 0===s.setImmediates&&(s.setImmediates=[]),s.setImmediates.push(e),postMessage({target:n})):postMessage(n,"*")}}Er.mainLoop.scheduler=function(){o(Er.mainLoop.runner)},Er.mainLoop.method="immediate"}return 0}function wr(e,t,r,n,i){var o;s.noExitRuntime=!0,T(!Er.mainLoop.func,"emscripten_set_main_loop: there can only be one main loop function at once: call emscripten_cancel_main_loop to cancel the previous one before setting a new one with different parameters."),Er.mainLoop.func=e,Er.mainLoop.arg=n,o=void 0!==n?function(){s.dynCall_vi(e,n)}:function(){s.dynCall_v(e)};var a=Er.mainLoop.currentlyRunningMainloop;if(Er.mainLoop.runner=function(){if(!A)if(Er.mainLoop.queue.length>0){var e=Date.now(),t=Er.mainLoop.queue.shift();if(t.func(t.arg),Er.mainLoop.remainingBlockers){var r=Er.mainLoop.remainingBlockers,n=r%1==0?r-1:Math.floor(r);t.counted?Er.mainLoop.remainingBlockers=n:(n+=.5,Er.mainLoop.remainingBlockers=(8*r+n)/9)}if(console.log('main loop blocker "'+t.name+'" took '+(Date.now()-e)+" ms"),Er.mainLoop.updateStatus(),a<Er.mainLoop.currentlyRunningMainloop)return;setTimeout(Er.mainLoop.runner,0)}else a<Er.mainLoop.currentlyRunningMainloop||(Er.mainLoop.currentFrameNumber=Er.mainLoop.currentFrameNumber+1|0,1==Er.mainLoop.timingMode&&Er.mainLoop.timingValue>1&&Er.mainLoop.currentFrameNumber%Er.mainLoop.timingValue!=0?Er.mainLoop.scheduler():(0==Er.mainLoop.timingMode&&(Er.mainLoop.tickStartTime=yr()),"timeout"===Er.mainLoop.method&&s.ctx&&(y("Looks like you are rendering without using requestAnimationFrame for the main loop. You should use 0 for the frame rate in emscripten_set_main_loop in order to use requestAnimationFrame, as that can greatly improve your frame rates!"),Er.mainLoop.method=""),Er.mainLoop.runIter(o),a<Er.mainLoop.currentlyRunningMainloop||("object"==typeof SDL&&SDL.audio&&SDL.audio.queueNewAudioData&&SDL.audio.queueNewAudioData(),Er.mainLoop.scheduler())))},i||(t&&t>0?br(0,1e3/t):br(1,1),Er.mainLoop.scheduler()),r)throw"SimulateInfiniteLoop"}var Er={mainLoop:{scheduler:null,method:"",currentlyRunningMainloop:0,func:null,arg:0,timingMode:0,timingValue:0,currentFrameNumber:0,queue:[],pause:function(){Er.mainLoop.scheduler=null,Er.mainLoop.currentlyRunningMainloop++},resume:function(){Er.mainLoop.currentlyRunningMainloop++;var e=Er.mainLoop.timingMode,t=Er.mainLoop.timingValue,r=Er.mainLoop.func;Er.mainLoop.func=null,wr(r,0,!1,Er.mainLoop.arg,!0),br(e,t),Er.mainLoop.scheduler()},updateStatus:function(){if(s.setStatus){var e=s.statusMessage||"Please wait...",t=Er.mainLoop.remainingBlockers,r=Er.mainLoop.expectedBlockers;t?t<r?s.setStatus(e+" ("+(r-t)+"/"+r+")"):s.setStatus(e):s.setStatus("")}},runIter:function(e){if(!A){if(s.preMainLoop)if(!1===s.preMainLoop())return;try{e()}catch(e){if(e instanceof an)return;throw e&&"object"==typeof e&&e.stack&&y("exception thrown: "+[e,e.stack]),e}s.postMainLoop&&s.postMainLoop()}}},isFullscreen:!1,pointerLock:!1,moduleContextCreatedCallbacks:[],workers:[],init:function(){if(s.preloadPlugins||(s.preloadPlugins=[]),!Er.initted){Er.initted=!0;try{new Blob,Er.hasBlobConstructor=!0}catch(e){Er.hasBlobConstructor=!1,console.log("warning: no blob constructor, cannot create blobs with mimetypes")}Er.BlobBuilder="undefined"!=typeof MozBlobBuilder?MozBlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:Er.hasBlobConstructor?null:console.log("warning: no BlobBuilder"),Er.URLObject="undefined"!=typeof window?window.URL?window.URL:window.webkitURL:void 0,s.noImageDecoding||void 0!==Er.URLObject||(console.log("warning: Browser does not support creating object URLs. Built-in browser image decoding will not be available."),s.noImageDecoding=!0);var e={canHandle:function(e){return!s.noImageDecoding&&/\.(jpg|jpeg|png|bmp)$/i.test(e)}};e.handle=function(e,t,r,n){var i=null;if(Er.hasBlobConstructor)try{(i=new Blob([e],{type:Er.getMimetype(t)})).size!==e.length&&(i=new Blob([new Uint8Array(e).buffer],{type:Er.getMimetype(t)}))}catch(e){!function e(t){e.shown||(e.shown={}),e.shown[t]||(e.shown[t]=1,y(t))}("Blob constructor present but fails: "+e+"; falling back to blob builder")}if(!i){var o=new Er.BlobBuilder;o.append(new Uint8Array(e).buffer),i=o.getBlob()}var a=Er.URLObject.createObjectURL(i),u=new Image;u.onload=function(){T(u.complete,"Image "+t+" could not be decoded");var n=document.createElement("canvas");n.width=u.width,n.height=u.height,n.getContext("2d").drawImage(u,0,0),s.preloadedImages[t]=n,Er.URLObject.revokeObjectURL(a),r&&r(e)},u.onerror=function(e){console.log("Image "+a+" could not be decoded"),n&&n()},u.src=a},s.preloadPlugins.push(e);var t={canHandle:function(e){return!s.noAudioDecoding&&e.substr(-4)in{".ogg":1,".wav":1,".mp3":1}},handle:function(e,t,r,n){var i=!1;function o(n){i||(i=!0,s.preloadedAudios[t]=n,r&&r(e))}function a(){i||(i=!0,s.preloadedAudios[t]=new Audio,n&&n())}if(!Er.hasBlobConstructor)return a();try{var u=new Blob([e],{type:Er.getMimetype(t)})}catch(e){return a()}var c=Er.URLObject.createObjectURL(u),f=new Audio;f.addEventListener("canplaythrough",function(){o(f)},!1),f.onerror=function(r){i||(console.log("warning: browser could not fully decode audio "+t+", trying slower base64 approach"),f.src="data:audio/x-"+t.substr(-3)+";base64,"+function(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r="",n=0,i=0,o=0;o<e.length;o++)for(n=n<<8|e[o],i+=8;i>=6;){var a=n>>i-6&63;i-=6,r+=t[a]}return 2==i?(r+=t[(3&n)<<4],r+="=="):4==i&&(r+=t[(15&n)<<2],r+="="),r}(e),o(f))},f.src=c,Er.safeSetTimeout(function(){o(f)},1e4)}};s.preloadPlugins.push(t);var r=s.canvas;r&&(r.requestPointerLock=r.requestPointerLock||r.mozRequestPointerLock||r.webkitRequestPointerLock||r.msRequestPointerLock||function(){},r.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock||document.msExitPointerLock||function(){},r.exitPointerLock=r.exitPointerLock.bind(document),document.addEventListener("pointerlockchange",n,!1),document.addEventListener("mozpointerlockchange",n,!1),document.addEventListener("webkitpointerlockchange",n,!1),document.addEventListener("mspointerlockchange",n,!1),s.elementPointerLock&&r.addEventListener("click",function(e){!Er.pointerLock&&s.canvas.requestPointerLock&&(s.canvas.requestPointerLock(),e.preventDefault())},!1))}function n(){Er.pointerLock=document.pointerLockElement===s.canvas||document.mozPointerLockElement===s.canvas||document.webkitPointerLockElement===s.canvas||document.msPointerLockElement===s.canvas}},createContext:function(e,t,r,n){if(t&&s.ctx&&e==s.canvas)return s.ctx;var i,o;if(t){var a={antialias:!1,alpha:!1};if(n)for(var u in n)a[u]=n[u];(o=Mr.createContext(e,a))&&(i=Mr.getContext(o).GLctx)}else i=e.getContext("2d");return i?(r&&(t||T(void 0===Ur,"cannot set in module if GLctx is used, but we are a non-GL context that would replace it"),s.ctx=i,t&&Mr.makeContextCurrent(o),s.useWebGL=t,Er.moduleContextCreatedCallbacks.forEach(function(e){e()}),Er.init()),i):null},destroyContext:function(e,t,r){},fullscreenHandlersInstalled:!1,lockPointer:void 0,resizeCanvas:void 0,requestFullscreen:function(e,t,r){Er.lockPointer=e,Er.resizeCanvas=t,Er.vrDevice=r,void 0===Er.lockPointer&&(Er.lockPointer=!0),void 0===Er.resizeCanvas&&(Er.resizeCanvas=!1),void 0===Er.vrDevice&&(Er.vrDevice=null);var n=s.canvas;function i(){Er.isFullscreen=!1;var e=n.parentNode;(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===e?(n.exitFullscreen=document.exitFullscreen||document.cancelFullScreen||document.mozCancelFullScreen||document.msExitFullscreen||document.webkitCancelFullScreen||function(){},n.exitFullscreen=n.exitFullscreen.bind(document),Er.lockPointer&&n.requestPointerLock(),Er.isFullscreen=!0,Er.resizeCanvas?Er.setFullscreenCanvasSize():Er.updateCanvasDimensions(n)):(e.parentNode.insertBefore(n,e),e.parentNode.removeChild(e),Er.resizeCanvas?Er.setWindowedCanvasSize():Er.updateCanvasDimensions(n)),s.onFullScreen&&s.onFullScreen(Er.isFullscreen),s.onFullscreen&&s.onFullscreen(Er.isFullscreen)}Er.fullscreenHandlersInstalled||(Er.fullscreenHandlersInstalled=!0,document.addEventListener("fullscreenchange",i,!1),document.addEventListener("mozfullscreenchange",i,!1),document.addEventListener("webkitfullscreenchange",i,!1),document.addEventListener("MSFullscreenChange",i,!1));var o=document.createElement("div");n.parentNode.insertBefore(o,n),o.appendChild(n),o.requestFullscreen=o.requestFullscreen||o.mozRequestFullScreen||o.msRequestFullscreen||(o.webkitRequestFullscreen?function(){o.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}:null)||(o.webkitRequestFullScreen?function(){o.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)}:null),r?o.requestFullscreen({vrDisplay:r}):o.requestFullscreen()},requestFullScreen:function(e,t,r){return y("Browser.requestFullScreen() is deprecated. Please call Browser.requestFullscreen instead."),Er.requestFullScreen=function(e,t,r){return Er.requestFullscreen(e,t,r)},Er.requestFullscreen(e,t,r)},nextRAF:0,fakeRequestAnimationFrame:function(e){var t=Date.now();if(0===Er.nextRAF)Er.nextRAF=t+1e3/60;else for(;t+2>=Er.nextRAF;)Er.nextRAF+=1e3/60;var r=Math.max(Er.nextRAF-t,0);setTimeout(e,r)},requestAnimationFrame:function(e){"undefined"==typeof window?Er.fakeRequestAnimationFrame(e):(window.requestAnimationFrame||(window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||Er.fakeRequestAnimationFrame),window.requestAnimationFrame(e))},safeCallback:function(e){return function(){if(!A)return e.apply(null,arguments)}},allowAsyncCallbacks:!0,queuedAsyncCallbacks:[],pauseAsyncCallbacks:function(){Er.allowAsyncCallbacks=!1},resumeAsyncCallbacks:function(){if(Er.allowAsyncCallbacks=!0,Er.queuedAsyncCallbacks.length>0){var e=Er.queuedAsyncCallbacks;Er.queuedAsyncCallbacks=[],e.forEach(function(e){e()})}},safeRequestAnimationFrame:function(e){return Er.requestAnimationFrame(function(){A||(Er.allowAsyncCallbacks?e():Er.queuedAsyncCallbacks.push(e))})},safeSetTimeout:function(e,t){return s.noExitRuntime=!0,setTimeout(function(){A||(Er.allowAsyncCallbacks?e():Er.queuedAsyncCallbacks.push(e))},t)},safeSetInterval:function(e,t){return s.noExitRuntime=!0,setInterval(function(){A||Er.allowAsyncCallbacks&&e()},t)},getMimetype:function(e){return{jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",bmp:"image/bmp",ogg:"audio/ogg",wav:"audio/wav",mp3:"audio/mpeg"}[e.substr(e.lastIndexOf(".")+1)]},getUserMedia:function(e){window.getUserMedia||(window.getUserMedia=navigator.getUserMedia||navigator.mozGetUserMedia),window.getUserMedia(e)},getMovementX:function(e){return e.movementX||e.mozMovementX||e.webkitMovementX||0},getMovementY:function(e){return e.movementY||e.mozMovementY||e.webkitMovementY||0},getMouseWheelDelta:function(e){var t=0;switch(e.type){case"DOMMouseScroll":t=e.detail;break;case"mousewheel":t=e.wheelDelta;break;case"wheel":t=e.deltaY;break;default:throw"unrecognized mouse wheel event: "+e.type}return t},mouseX:0,mouseY:0,mouseMovementX:0,mouseMovementY:0,touches:{},lastTouches:{},calculateMouseEvent:function(e){if(Er.pointerLock)"mousemove"!=e.type&&"mozMovementX"in e?Er.mouseMovementX=Er.mouseMovementY=0:(Er.mouseMovementX=Er.getMovementX(e),Er.mouseMovementY=Er.getMovementY(e)),"undefined"!=typeof SDL?(Er.mouseX=SDL.mouseX+Er.mouseMovementX,Er.mouseY=SDL.mouseY+Er.mouseMovementY):(Er.mouseX+=Er.mouseMovementX,Er.mouseY+=Er.mouseMovementY);else{var t=s.canvas.getBoundingClientRect(),r=s.canvas.width,n=s.canvas.height,i=void 0!==window.scrollX?window.scrollX:window.pageXOffset,o=void 0!==window.scrollY?window.scrollY:window.pageYOffset;if("touchstart"===e.type||"touchend"===e.type||"touchmove"===e.type){var a=e.touch;if(void 0===a)return;var u=a.pageX-(i+t.left),c=a.pageY-(o+t.top),f={x:u*=r/t.width,y:c*=n/t.height};if("touchstart"===e.type)Er.lastTouches[a.identifier]=f,Er.touches[a.identifier]=f;else if("touchend"===e.type||"touchmove"===e.type){var l=Er.touches[a.identifier];l||(l=f),Er.lastTouches[a.identifier]=l,Er.touches[a.identifier]=f}return}var d=e.pageX-(i+t.left),h=e.pageY-(o+t.top);d*=r/t.width,h*=n/t.height,Er.mouseMovementX=d-Er.mouseX,Er.mouseMovementY=h-Er.mouseY,Er.mouseX=d,Er.mouseY=h}},asyncLoad:function(e,t,r,n){var i=n?"":Te("al "+e);s.readAsync(e,function(r){T(r,'Loading data file "'+e+'" failed (no arrayBuffer).'),t(new Uint8Array(r)),i&&Se()},function(t){if(!r)throw'Loading data file "'+e+'" failed.';r()}),i&&ke()},resizeListeners:[],updateResizeListeners:function(){var e=s.canvas;Er.resizeListeners.forEach(function(t){t(e.width,e.height)})},setCanvasSize:function(e,t,r){var n=s.canvas;Er.updateCanvasDimensions(n,e,t),r||Er.updateResizeListeners()},windowedWidth:0,windowedHeight:0,setFullscreenCanvasSize:function(){if("undefined"!=typeof SDL){var e=$[SDL.screen>>2];e|=8388608,z[SDL.screen>>2]=e}Er.updateCanvasDimensions(s.canvas),Er.updateResizeListeners()},setWindowedCanvasSize:function(){if("undefined"!=typeof SDL){var e=$[SDL.screen>>2];e&=-8388609,z[SDL.screen>>2]=e}Er.updateCanvasDimensions(s.canvas),Er.updateResizeListeners()},updateCanvasDimensions:function(e,t,r){t&&r?(e.widthNative=t,e.heightNative=r):(t=e.widthNative,r=e.heightNative);var n=t,i=r;if(s.forcedAspectRatio&&s.forcedAspectRatio>0&&(n/i<s.forcedAspectRatio?n=Math.round(i*s.forcedAspectRatio):i=Math.round(n/s.forcedAspectRatio)),(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===e.parentNode&&"undefined"!=typeof screen){var o=Math.min(screen.width/n,screen.height/i);n=Math.round(n*o),i=Math.round(i*o)}Er.resizeCanvas?(e.width!=n&&(e.width=n),e.height!=i&&(e.height=i),void 0!==e.style&&(e.style.removeProperty("width"),e.style.removeProperty("height"))):(e.width!=t&&(e.width=t),e.height!=r&&(e.height=r),void 0!==e.style&&(n!=t||i!=r?(e.style.setProperty("width",n+"px","important"),e.style.setProperty("height",i+"px","important")):(e.style.removeProperty("width"),e.style.removeProperty("height"))))},wgetRequests:{},nextWgetRequestHandle:0,getNextWgetRequestHandle:function(){var e=Er.nextWgetRequestHandle;return Er.nextWgetRequestHandle++,e}};var Mr={counter:1,lastError:0,buffers:[],mappedBuffers:{},programs:[],framebuffers:[],renderbuffers:[],textures:[],uniforms:[],shaders:[],vaos:[],contexts:[],currentContext:null,offscreenCanvases:{},timerQueriesEXT:[],queries:[],samplers:[],transformFeedbacks:[],syncs:[],byteSizeByTypeRoot:5120,byteSizeByType:[1,1,2,2,4,4,4,2,3,4,8],programInfos:{},stringCache:{},stringiCache:{},tempFixedLengthArray:[],packAlignment:4,unpackAlignment:4,init:function(){Mr.miniTempBuffer=new Float32Array(Mr.MINI_TEMP_BUFFER_SIZE);for(var e=0;e<Mr.MINI_TEMP_BUFFER_SIZE;e++)Mr.miniTempBufferViews[e]=Mr.miniTempBuffer.subarray(0,e+1);for(e=0;e<32;e++)Mr.tempFixedLengthArray.push(new Array(e))},recordError:function(e){Mr.lastError||(Mr.lastError=e)},getNewId:function(e){for(var t=Mr.counter++,r=e.length;r<t;r++)e[r]=null;return t},MINI_TEMP_BUFFER_SIZE:256,miniTempBuffer:null,miniTempBufferViews:[0],getSource:function(e,t,r,n){for(var i="",o=0;o<t;++o){var a;if(n){var s=z[n+4*o>>2];a=s<0?L(z[r+4*o>>2]):L(z[r+4*o>>2],s)}else a=L(z[r+4*o>>2]);i+=a}return i},createContext:function(e,t){var r;void 0===t.majorVersion&&void 0===t.minorVersion&&("undefined"!=typeof WebGL2RenderingContext?t.majorVersion=2:t.majorVersion=1,t.minorVersion=0);var n="?";function i(e){n=e.statusMessage||n}try{e.addEventListener("webglcontextcreationerror",i,!1);try{if(1==t.majorVersion&&0==t.minorVersion)r=e.getContext("webgl",t)||e.getContext("experimental-webgl",t);else{if(2!=t.majorVersion||0!=t.minorVersion)throw"Unsupported WebGL context version "+majorVersion+"."+minorVersion+"!";r=e.getContext("webgl2",t)}}finally{e.removeEventListener("webglcontextcreationerror",i,!1)}if(!r)throw":("}catch(e){return v("Could not create canvas: "+[n,e,JSON.stringify(t)]),0}return r?Mr.registerContext(r,t):0},registerContext:function(e,t){var r=Mr.getNewId(Mr.contexts),n={handle:r,attributes:t,version:t.majorVersion,GLctx:e};function i(){var e=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);return!!e&&parseInt(e[2],10)}return n.supportsWebGL2EntryPoints=n.version>=2&&(!1===i()||i()>=58),e.canvas&&(e.canvas.GLctxObject=n),Mr.contexts[r]=n,(void 0===t.enableExtensionsByDefault||t.enableExtensionsByDefault)&&Mr.initExtensions(n),r},makeContextCurrent:function(e){var t=Mr.contexts[e];return!!t&&(Ur=s.ctx=t.GLctx,Mr.currentContext=t,!0)},getContext:function(e){return Mr.contexts[e]},deleteContext:function(e){Mr.currentContext===Mr.contexts[e]&&(Mr.currentContext=null),"object"==typeof JSEvents&&JSEvents.removeAllHandlersOnTarget(Mr.contexts[e].GLctx.canvas),Mr.contexts[e]&&Mr.contexts[e].GLctx.canvas&&(Mr.contexts[e].GLctx.canvas.GLctxObject=void 0),Mr.contexts[e]=null},initExtensions:function(e){if(e||(e=Mr.currentContext),!e.initExtensionsDone){e.initExtensionsDone=!0;var t=e.GLctx;if(e.maxVertexAttribs=t.getParameter(t.MAX_VERTEX_ATTRIBS),e.version<2){var r=t.getExtension("ANGLE_instanced_arrays");r&&(t.vertexAttribDivisor=function(e,t){r.vertexAttribDivisorANGLE(e,t)},t.drawArraysInstanced=function(e,t,n,i){r.drawArraysInstancedANGLE(e,t,n,i)},t.drawElementsInstanced=function(e,t,n,i,o){r.drawElementsInstancedANGLE(e,t,n,i,o)});var n=t.getExtension("OES_vertex_array_object");n&&(t.createVertexArray=function(){return n.createVertexArrayOES()},t.deleteVertexArray=function(e){n.deleteVertexArrayOES(e)},t.bindVertexArray=function(e){n.bindVertexArrayOES(e)},t.isVertexArray=function(e){return n.isVertexArrayOES(e)});var i=t.getExtension("WEBGL_draw_buffers");i&&(t.drawBuffers=function(e,t){i.drawBuffersWEBGL(e,t)})}t.disjointTimerQueryExt=t.getExtension("EXT_disjoint_timer_query");var o=["OES_texture_float","OES_texture_half_float","OES_standard_derivatives","OES_vertex_array_object","WEBGL_compressed_texture_s3tc","WEBGL_depth_texture","OES_element_index_uint","EXT_texture_filter_anisotropic","ANGLE_instanced_arrays","OES_texture_float_linear","OES_texture_half_float_linear","WEBGL_compressed_texture_atc","WEBKIT_WEBGL_compressed_texture_pvrtc","WEBGL_compressed_texture_pvrtc","EXT_color_buffer_half_float","WEBGL_color_buffer_float","EXT_frag_depth","EXT_sRGB","WEBGL_draw_buffers","WEBGL_shared_resources","EXT_shader_texture_lod","EXT_color_buffer_float"],a=t.getSupportedExtensions();a&&a.length>0&&t.getSupportedExtensions().forEach(function(e){-1!=o.indexOf(e)&&t.getExtension(e)})}},populateUniformTable:function(e){var t=Mr.programs[e];Mr.programInfos[e]={uniforms:{},maxUniformLength:0,maxAttributeLength:-1,maxUniformBlockNameLength:-1};for(var r=Mr.programInfos[e],n=r.uniforms,i=Ur.getProgramParameter(t,Ur.ACTIVE_UNIFORMS),o=0;o<i;++o){var a=Ur.getActiveUniform(t,o),s=a.name;if(r.maxUniformLength=Math.max(r.maxUniformLength,s.length+1),-1!==s.indexOf("]",s.length-1)){var u=s.lastIndexOf("[");s=s.slice(0,u)}var c=Ur.getUniformLocation(t,s);if(null!=c){var f=Mr.getNewId(Mr.uniforms);n[s]=[a.size,f],Mr.uniforms[f]=c;for(var l=1;l<a.size;++l){var d=s+"["+l+"]";c=Ur.getUniformLocation(t,d),f=Mr.getNewId(Mr.uniforms),Mr.uniforms[f]=c}}}}};function xr(e,t,r,n){Ur.drawElements(e,t,r,n)}function Ar(e,t,r){if(t){var n=void 0;switch(e){case 36346:n=1;break;case 36344:return void("Integer"!==r&&"Integer64"!==r&&Mr.recordError(1280));case 34814:case 36345:n=0;break;case 34466:n=Ur.getParameter(34467).length;break;case 33309:if(Ur.canvas.GLctxObject.version<2)return void Mr.recordError(1282);n=2*Ur.getSupportedExtensions().length;break;case 33307:case 33308:if(Ur.canvas.GLctxObject.version<2)return void Mr.recordError(1280);n=33307==e?3:0}if(void 0===n){var i=Ur.getParameter(e);switch(typeof i){case"number":n=i;break;case"boolean":n=i?1:0;break;case"string":return void Mr.recordError(1280);case"object":if(null===i)switch(e){case 34964:case 35725:case 34965:case 36006:case 36007:case 32873:case 34229:case 35097:case 36389:case 34068:n=0;break;default:return void Mr.recordError(1280)}else{if(i instanceof Float32Array||i instanceof Uint32Array||i instanceof Int32Array||i instanceof Array){for(var o=0;o<i.length;++o)switch(r){case"Integer":z[t+4*o>>2]=i[o];break;case"Float":Y[t+4*o>>2]=i[o];break;case"Boolean":G[t+o>>0]=i[o]?1:0;break;default:throw"internal glGet error, bad type: "+r}return}if(!(i instanceof WebGLBuffer||i instanceof WebGLProgram||i instanceof WebGLFramebuffer||i instanceof WebGLRenderbuffer||i instanceof WebGLQuery||i instanceof WebGLSampler||i instanceof WebGLSync||i instanceof WebGLTransformFeedback||i instanceof WebGLVertexArrayObject||i instanceof WebGLTexture))return void Mr.recordError(1280);n=0|i.name}break;default:return void Mr.recordError(1280)}}switch(r){case"Integer64":tempI64=[n>>>0,(tempDouble=n,+ye(tempDouble)>=1?tempDouble>0?(0|we(+be(tempDouble/4294967296),4294967295))>>>0:~~+_e((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],z[t>>2]=tempI64[0],z[t+4>>2]=tempI64[1];break;case"Integer":z[t>>2]=n;break;case"Float":Y[t>>2]=n;break;case"Boolean":G[t>>0]=n?1:0;break;default:throw"internal glGet error, bad type: "+r}}else Mr.recordError(1281)}function Tr(e,t,r,n){if(r){var i,o=Ur.getIndexedParameter(e,t);switch(typeof o){case"boolean":i=o?1:0;break;case"number":i=o;break;case"object":if(null===o)switch(e){case 35983:case 35368:i=0;break;default:return void Mr.recordError(1280)}else{if(!(o instanceof WebGLBuffer))return void Mr.recordError(1280);i=0|o.name}break;default:return void Mr.recordError(1280)}switch(n){case"Integer64":tempI64=[i>>>0,(tempDouble=i,+ye(tempDouble)>=1?tempDouble>0?(0|we(+be(tempDouble/4294967296),4294967295))>>>0:~~+_e((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],z[r>>2]=tempI64[0],z[r+4>>2]=tempI64[1];break;case"Integer":z[r>>2]=i;break;case"Float":Y[r>>2]=i;break;case"Boolean":G[r>>0]=i?1:0;break;default:throw"internal emscriptenWebGLGetIndexed() error, bad type: "+n}}else Mr.recordError(1281)}function kr(e,t,r,n){if(r){var i=Ur.getUniform(Mr.programs[e],Mr.uniforms[t]);if("number"==typeof i||"boolean"==typeof i)switch(n){case"Integer":z[r>>2]=i;break;case"Float":Y[r>>2]=i;break;default:throw"internal emscriptenWebGLGetUniform() error, bad type: "+n}else for(var o=0;o<i.length;o++)switch(n){case"Integer":z[r+4*o>>2]=i[o];break;case"Float":Y[r+4*o>>2]=i[o];break;default:throw"internal emscriptenWebGLGetUniform() error, bad type: "+n}}else Mr.recordError(1281)}function Sr(e,t,r,n){if(r){var i=Ur.getVertexAttrib(e,t);if(34975==t)z[r>>2]=i.name;else if("number"==typeof i||"boolean"==typeof i)switch(n){case"Integer":z[r>>2]=i;break;case"Float":Y[r>>2]=i;break;case"FloatToInteger":z[r>>2]=Math.fround(i);break;default:throw"internal emscriptenWebGLGetVertexAttrib() error, bad type: "+n}else for(var o=0;o<i.length;o++)switch(n){case"Integer":z[r+4*o>>2]=i[o];break;case"Float":Y[r+4*o>>2]=i[o];break;case"FloatToInteger":z[r+4*o>>2]=Math.fround(i[o]);break;default:throw"internal emscriptenWebGLGetVertexAttrib() error, bad type: "+n}}else Mr.recordError(1281)}function Pr(e,t,r,n){var i,o,a=e*r,s=(i=a,o=n,Math.floor((i+o-1)/o)*o);return t<=0?0:(t-1)*s+a}function Cr(e,t,r,n,i,o){var a,s;switch(t){case 6406:case 6409:case 6402:case 6403:case 36244:s=1;break;case 6410:case 33319:case 33320:s=2;break;case 6407:case 35904:case 36248:s=3;break;case 6408:case 35906:case 36249:s=4;break;default:return Mr.recordError(1280),null}switch(e){case 5121:case 5120:a=1*s;break;case 5123:case 36193:case 5131:case 5122:a=2*s;break;case 5125:case 5126:case 5124:a=4*s;break;case 34042:case 35902:case 33640:case 35899:case 34042:a=4;break;case 33635:case 32819:case 32820:a=2;break;default:return Mr.recordError(1280),null}var u=Pr(r,n,a,Mr.unpackAlignment);switch(e){case 5120:return G.subarray(i,i+u);case 5121:return j.subarray(i,i+u);case 5122:return q.subarray(i>>1,i+u>>1);case 5124:return z.subarray(i>>2,i+u>>2);case 5126:return Y.subarray(i>>2,i+u>>2);case 5125:case 34042:case 35902:case 33640:case 35899:case 34042:return $.subarray(i>>2,i+u>>2);case 5123:case 33635:case 32819:case 32820:case 36193:case 5131:return W.subarray(i>>1,i+u>>1);default:return Mr.recordError(1280),null}}function Ir(e){switch(e){case 5120:return G;case 5121:return j;case 5122:return q;case 5123:case 33635:case 32819:case 32820:case 36193:case 5131:return W;case 5124:return z;case 5125:case 34042:case 35902:case 33640:case 35899:case 34042:return $;case 5126:return Y;default:return null}}function Lr(e){switch(e){case 5120:case 5121:return 0;case 5122:case 5123:case 33635:case 32819:case 32820:case 36193:case 5131:return 1;case 5124:case 5126:case 5125:case 34042:case 35902:case 33640:case 35899:case 34042:return 2;default:return 0}}var Dr=_e;function Br(e){return 0|((e|=0)?31-(0|Ee(e^e-1))|0:32)}function Fr(e){return Math.pow(2,e)}var Rr=ye,Or=be;var Nr={};var Ur,Vr=1;if(qe.staticInit(),he.unshift(function(){s.noFSInit||qe.init.initialized||qe.init()}),me.push(function(){qe.ignorePermissions=!1}),pe.push(function(){qe.quit()}),he.unshift(function(){Ne.init()}),pe.push(function(){Ne.shutdown()}),d){var Gr=r(4),jr=r(5);Ge.staticInit()}rt=s.InternalError=tt(Error,"InternalError"),at(),ct=s.BindingError=tt(Error,"BindingError"),Mt(),$t(),Vt(),Kt=s.UnboundTypeError=tt(Error,"UnboundTypeError"),ur(),yr=d?function(){var e=t.hrtime();return 1e3*e[0]+e[1]/1e6}:"undefined"!=typeof dateNow?dateNow:"object"==typeof self&&self.performance&&"function"==typeof self.performance.now?function(){return self.performance.now()}:"object"==typeof performance&&"function"==typeof performance.now?function(){return performance.now()}:Date.now,s.requestFullScreen=function(e,t,r){y("Module.requestFullScreen is deprecated. Please call Module.requestFullscreen instead."),s.requestFullScreen=s.requestFullscreen,Er.requestFullScreen(e,t,r)},s.requestFullscreen=function(e,t,r){Er.requestFullscreen(e,t,r)},s.requestAnimationFrame=function(e){Er.requestAnimationFrame(e)},s.setCanvasSize=function(e,t,r){Er.setCanvasSize(e,t,r)},s.pauseMainLoop=function(){Er.mainLoop.pause()},s.resumeMainLoop=function(){Er.mainLoop.resume()},s.getUserMedia=function(){Er.getUserMedia()},s.createContext=function(e,t,r,n){return Er.createContext(e,t,r,n)},Mr.init(),ee=b(4),K=Q=E(X),J=E(Z=K+ce),z[ee>>2]=J;function qr(e,t,r){var n=r>0?r:N(e)+1,i=new Array(n),o=R(e,i,0,i.length);return t&&(i.length=o),i}s.wasmTableSize=1252,s.wasmMaxTableSize=1252,s.asmGlobalArg={},s.asmLibraryArg={abort:un,assert:T,enlargeMemory:ue,getTotalMemory:function(){return fe},abortOnCannotGrowMemory:function(){un("Cannot enlarge memory arrays. Either (1) compile with  -s TOTAL_MEMORY=X  with X higher than the current value "+fe+", (2) compile with  -s ALLOW_MEMORY_GROWTH=1  which allows increasing the size at runtime, or (3) if you want malloc to return NULL (0) instead of this abort, compile with  -s ABORTING_MALLOC=0 ")},invoke_fi:function(e,t){var r=on();try{return s.dynCall_fi(e,t)}catch(e){if(nn(r),"number"!=typeof e&&"longjmp"!==e)throw e;s.setThrew(1,0)}},invoke_fii:function(e,t,r){var n=on();try{return s.dynCall_fii(e,t,r)}catch(e){if(nn(n),"number"!=typeof e&&"longjmp"!==e)throw e;s.setThrew(1,0)}},invoke_i:function(e){var t=on();try{return s.dynCall_i(e)}catch(e){if(nn(t),"number"!=typeof e&&"longjmp"!==e)throw e;s.setThrew(1,0)}},invoke_ii:function(e,t){var r=on();try{return s.dynCall_ii(e,t)}catch(e){if(nn(r),"number"!=typeof e&&"longjmp"!==e)throw e;s.setThrew(1,0)}},invoke_iif:function(e,t,r){var n=on();try{return s.dynCall_iif(e,t,r)}catch(e){if(nn(n),"number"!=typeof e&&"longjmp"!==e)throw e;s.setThrew(1,0)}},invoke_iiff:function(e,t,r,n){var i=on();try{return s.dynCall_iiff(e,t,r,n)}catch(e){if(nn(i),"number"!=typeof e&&"longjmp"!==e)throw e;s.setThrew(1,0)}},invoke_iii:function(e,t,r){var n=on();try{return s.dynCall_iii(e,t,r)}catch(e){if(nn(n),"number"!=typeof e&&"longjmp"!==e)throw e;s.setThrew(1,0)}},invoke_iiif:function(e,t,r,n){var i=on();try{return s.dynCall_iiif(e,t,r,n)}catch(e){if(nn(i),"number"!=typeof e&&"longjmp"!==e)throw e;s.setThrew(1,0)}},invoke_iiiff:function(e,t,r,n,i){var o=on();try{return s.dynCall_iiiff(e,t,r,n,i)}catch(e){if(nn(o),"number"!=typeof e&&"longjmp"!==e)throw e;s.setThrew(1,0)}},invoke_iiii:function(e,t,r,n){var i=on();try{return s.dynCall_iiii(e,t,r,n)}catch(e){if(nn(i),"number"!=typeof e&&"longjmp"!==e)throw e;s.setThrew(1,0)}},invoke_iiiii:function(e,t,r,n,i){var o=on();try{return s.dynCall_iiiii(e,t,r,n,i)}catch(e){if(nn(o),"number"!=typeof e&&"longjmp"!==e)throw e;s.setThrew(1,0)}},invoke_iiiiii:function(e,t,r,n,i,o){var a=on();try{return s.dynCall_iiiiii(e,t,r,n,i,o)}catch(e){if(nn(a),"number"!=typeof e&&"longjmp"!==e)throw e;s.setThrew(1,0)}},invoke_iiiiiii:function(e,t,r,n,i,o,a){var u=on();try{return s.dynCall_iiiiiii(e,t,r,n,i,o,a)}catch(e){if(nn(u),"number"!=typeof e&&"longjmp"!==e)throw e;s.setThrew(1,0)}},invoke_iiiiiiii:function(e,t,r,n,i,o,a,u){var c=on();try{return s.dynCall_iiiiiiii(e,t,r,n,i,o,a,u)}catch(e){if(nn(c),"number"!=typeof e&&"longjmp"!==e)throw e;s.setThrew(1,0)}},invoke_iiij:function(e,t,r,n,i){var o=on();try{return s.dynCall_iiij(e,t,r,n,i)}catch(e){if(nn(o),"number"!=typeof e&&"longjmp"!==e)throw e;s.setThrew(1,0)}},invoke_jii:function(e,t,r){var n=on();try{return s.dynCall_jii(e,t,r)}catch(e){if(nn(n),"number"!=typeof e&&"longjmp"!==e)throw e;s.setThrew(1,0)}},invoke_v:function(e){var t=on();try{s.dynCall_v(e)}catch(e){if(nn(t),"number"!=typeof e&&"longjmp"!==e)throw e;s.setThrew(1,0)}},invoke_vd:function(e,t){var r=on();try{s.dynCall_vd(e,t)}catch(e){if(nn(r),"number"!=typeof e&&"longjmp"!==e)throw e;s.setThrew(1,0)}},invoke_vdd:function(e,t,r){var n=on();try{s.dynCall_vdd(e,t,r)}catch(e){if(nn(n),"number"!=typeof e&&"longjmp"!==e)throw e;s.setThrew(1,0)}},invoke_vdddddd:function(e,t,r,n,i,o,a){var u=on();try{s.dynCall_vdddddd(e,t,r,n,i,o,a)}catch(e){if(nn(u),"number"!=typeof e&&"longjmp"!==e)throw e;s.setThrew(1,0)}},invoke_vf:function(e,t){var r=on();try{s.dynCall_vf(e,t)}catch(e){if(nn(r),"number"!=typeof e&&"longjmp"!==e)throw e;s.setThrew(1,0)}},invoke_vff:function(e,t,r){var n=on();try{s.dynCall_vff(e,t,r)}catch(e){if(nn(n),"number"!=typeof e&&"longjmp"!==e)throw e;s.setThrew(1,0)}},invoke_vffff:function(e,t,r,n,i){var o=on();try{s.dynCall_vffff(e,t,r,n,i)}catch(e){if(nn(o),"number"!=typeof e&&"longjmp"!==e)throw e;s.setThrew(1,0)}},invoke_vfi:function(e,t,r){var n=on();try{s.dynCall_vfi(e,t,r)}catch(e){if(nn(n),"number"!=typeof e&&"longjmp"!==e)throw e;s.setThrew(1,0)}},invoke_vi:function(e,t){var r=on();try{s.dynCall_vi(e,t)}catch(e){if(nn(r),"number"!=typeof e&&"longjmp"!==e)throw e;s.setThrew(1,0)}},invoke_viddddi:function(e,t,r,n,i,o,a){var u=on();try{s.dynCall_viddddi(e,t,r,n,i,o,a)}catch(e){if(nn(u),"number"!=typeof e&&"longjmp"!==e)throw e;s.setThrew(1,0)}},invoke_vif:function(e,t,r){var n=on();try{s.dynCall_vif(e,t,r)}catch(e){if(nn(n),"number"!=typeof e&&"longjmp"!==e)throw e;s.setThrew(1,0)}},invoke_viff:function(e,t,r,n){var i=on();try{s.dynCall_viff(e,t,r,n)}catch(e){if(nn(i),"number"!=typeof e&&"longjmp"!==e)throw e;s.setThrew(1,0)}},invoke_vifff:function(e,t,r,n,i){var o=on();try{s.dynCall_vifff(e,t,r,n,i)}catch(e){if(nn(o),"number"!=typeof e&&"longjmp"!==e)throw e;s.setThrew(1,0)}},invoke_viffff:function(e,t,r,n,i,o){var a=on();try{s.dynCall_viffff(e,t,r,n,i,o)}catch(e){if(nn(a),"number"!=typeof e&&"longjmp"!==e)throw e;s.setThrew(1,0)}},invoke_vii:function(e,t,r){var n=on();try{s.dynCall_vii(e,t,r)}catch(e){if(nn(n),"number"!=typeof e&&"longjmp"!==e)throw e;s.setThrew(1,0)}},invoke_viidddddd:function(e,t,r,n,i,o,a,u,c){var f=on();try{s.dynCall_viidddddd(e,t,r,n,i,o,a,u,c)}catch(e){if(nn(f),"number"!=typeof e&&"longjmp"!==e)throw e;s.setThrew(1,0)}},invoke_viiddddi:function(e,t,r,n,i,o,a,u){var c=on();try{s.dynCall_viiddddi(e,t,r,n,i,o,a,u)}catch(e){if(nn(c),"number"!=typeof e&&"longjmp"!==e)throw e;s.setThrew(1,0)}},invoke_viif:function(e,t,r,n){var i=on();try{s.dynCall_viif(e,t,r,n)}catch(e){if(nn(i),"number"!=typeof e&&"longjmp"!==e)throw e;s.setThrew(1,0)}},invoke_viiff:function(e,t,r,n,i){var o=on();try{s.dynCall_viiff(e,t,r,n,i)}catch(e){if(nn(o),"number"!=typeof e&&"longjmp"!==e)throw e;s.setThrew(1,0)}},invoke_viifff:function(e,t,r,n,i,o){var a=on();try{s.dynCall_viifff(e,t,r,n,i,o)}catch(e){if(nn(a),"number"!=typeof e&&"longjmp"!==e)throw e;s.setThrew(1,0)}},invoke_viifi:function(e,t,r,n,i){var o=on();try{s.dynCall_viifi(e,t,r,n,i)}catch(e){if(nn(o),"number"!=typeof e&&"longjmp"!==e)throw e;s.setThrew(1,0)}},invoke_viii:function(e,t,r,n){var i=on();try{s.dynCall_viii(e,t,r,n)}catch(e){if(nn(i),"number"!=typeof e&&"longjmp"!==e)throw e;s.setThrew(1,0)}},invoke_viiidddddd:function(e,t,r,n,i,o,a,u,c,f){var l=on();try{s.dynCall_viiidddddd(e,t,r,n,i,o,a,u,c,f)}catch(e){if(nn(l),"number"!=typeof e&&"longjmp"!==e)throw e;s.setThrew(1,0)}},invoke_viiif:function(e,t,r,n,i){var o=on();try{s.dynCall_viiif(e,t,r,n,i)}catch(e){if(nn(o),"number"!=typeof e&&"longjmp"!==e)throw e;s.setThrew(1,0)}},invoke_viiii:function(e,t,r,n,i){var o=on();try{s.dynCall_viiii(e,t,r,n,i)}catch(e){if(nn(o),"number"!=typeof e&&"longjmp"!==e)throw e;s.setThrew(1,0)}},invoke_viiiii:function(e,t,r,n,i,o){var a=on();try{s.dynCall_viiiii(e,t,r,n,i,o)}catch(e){if(nn(a),"number"!=typeof e&&"longjmp"!==e)throw e;s.setThrew(1,0)}},invoke_viiiiii:function(e,t,r,n,i,o,a){var u=on();try{s.dynCall_viiiiii(e,t,r,n,i,o,a)}catch(e){if(nn(u),"number"!=typeof e&&"longjmp"!==e)throw e;s.setThrew(1,0)}},invoke_viiiiiii:function(e,t,r,n,i,o,a,u){var c=on();try{s.dynCall_viiiiiii(e,t,r,n,i,o,a,u)}catch(e){if(nn(c),"number"!=typeof e&&"longjmp"!==e)throw e;s.setThrew(1,0)}},invoke_viiiiiiii:function(e,t,r,n,i,o,a,u,c){var f=on();try{s.dynCall_viiiiiiii(e,t,r,n,i,o,a,u,c)}catch(e){if(nn(f),"number"!=typeof e&&"longjmp"!==e)throw e;s.setThrew(1,0)}},invoke_viiiiiiiii:function(e,t,r,n,i,o,a,u,c,f){var l=on();try{s.dynCall_viiiiiiiii(e,t,r,n,i,o,a,u,c,f)}catch(e){if(nn(l),"number"!=typeof e&&"longjmp"!==e)throw e;s.setThrew(1,0)}},invoke_viiiiiiiiii:function(e,t,r,n,i,o,a,u,c,f,l){var d=on();try{s.dynCall_viiiiiiiiii(e,t,r,n,i,o,a,u,c,f,l)}catch(e){if(nn(d),"number"!=typeof e&&"longjmp"!==e)throw e;s.setThrew(1,0)}},invoke_viiiiiiiiiii:function(e,t,r,n,i,o,a,u,c,f,l,d){var h=on();try{s.dynCall_viiiiiiiiiii(e,t,r,n,i,o,a,u,c,f,l,d)}catch(e){if(nn(h),"number"!=typeof e&&"longjmp"!==e)throw e;s.setThrew(1,0)}},invoke_vij:function(e,t,r,n){var i=on();try{s.dynCall_vij(e,t,r,n)}catch(e){if(nn(i),"number"!=typeof e&&"longjmp"!==e)throw e;s.setThrew(1,0)}},ClassHandle:xt,ClassHandle_clone:pt,ClassHandle_delete:vt,ClassHandle_deleteLater:Et,ClassHandle_isAliasOf:dt,ClassHandle_isDeleted:yt,RegisteredClass:St,RegisteredPointer:Yt,RegisteredPointer_deleteObject:Ft,RegisteredPointer_destructor:Bt,RegisteredPointer_fromWireType:zt,RegisteredPointer_getPointee:Dt,__ZSt18uncaught_exceptionv:Le,___atomic_compare_exchange_8:function(e,t,r,n,i,o,a){var s=z[e>>2],u=z[e+4>>2],c=z[t>>2],f=z[t+4>>2];return s===c&&u===f?(z[e>>2]=r,z[e+4>>2]=n,1):(z[t>>2]=s,z[t+4>>2]=u,0)},___cxa_begin_catch:function(e){var t=De.infos[e];return t&&!t.caught&&(t.caught=!0,Le.uncaught_exception--),t&&(t.rethrown=!1),De.caught.push(e),De.addRef(De.deAdjust(e)),e},___cxa_find_matching_catch:function e(){var t=De.last;if(!t)return 0|(tn(0),0);var r=De.infos[t],n=r.type;if(!n)return 0|(tn(0),t);var i=Array.prototype.slice.call(arguments);s.___cxa_is_pointer_type(n);e.buffer||(e.buffer=en(4)),z[e.buffer>>2]=t,t=e.buffer;for(var o=0;o<i.length;o++)if(i[o]&&s.___cxa_can_catch(i[o],n,t))return t=z[t>>2],r.adjusted=t,0|(tn(i[o]),t);return t=z[t>>2],0|(tn(n),t)},___cxa_pure_virtual:function(){throw A=!0,"Pure virtual function called!"},___gxx_personality_v0:function(){},___resumeException:function(e){throw De.last||(De.last=e),e+" - Exception catching is disabled, this exception cannot be caught. Compile with -s DISABLE_EXCEPTION_CATCHING=0 or DISABLE_EXCEPTION_CATCHING=2 to catch."},___setErrNo:Re,___syscall140:function(e,t){We.varargs=t;try{var r=We.getStreamFromFD(),n=(We.get(),We.get()),i=We.get(),o=We.get(),a=n;return qe.llseek(r,a,o),z[i>>2]=r.position,r.getdents&&0===a&&0===o&&(r.getdents=null),0}catch(e){return void 0!==qe&&e instanceof qe.ErrnoError||un(e),-e.errno}},___syscall146:function(e,t){We.varargs=t;try{var r=We.getStreamFromFD(),n=We.get(),i=We.get();return We.doWritev(r,n,i)}catch(e){return void 0!==qe&&e instanceof qe.ErrnoError||un(e),-e.errno}},___syscall221:function(e,t){We.varargs=t;try{var r=We.getStreamFromFD();switch(We.get()){case 0:return(n=We.get())<0?-Be.EINVAL:qe.open(r.path,r.flags,0,n).fd;case 1:case 2:return 0;case 3:return r.flags;case 4:var n=We.get();return r.flags|=n,0;case 12:case 12:return n=We.get(),q[n+0>>1]=2,0;case 13:case 14:case 13:case 14:return 0;case 16:case 8:return-Be.EINVAL;case 9:return Re(Be.EINVAL),-1;default:return-Be.EINVAL}}catch(e){return void 0!==qe&&e instanceof qe.ErrnoError||un(e),-e.errno}},___syscall3:function(e,t){We.varargs=t;try{var r=We.getStreamFromFD(),n=We.get(),i=We.get();return qe.read(r,G,n,i)}catch(e){return void 0!==qe&&e instanceof qe.ErrnoError||un(e),-e.errno}},___syscall5:function(e,t){We.varargs=t;try{var r=We.getStr(),n=We.get(),i=We.get();return qe.open(r,n,i).fd}catch(e){return void 0!==qe&&e instanceof qe.ErrnoError||un(e),-e.errno}},___syscall54:function(e,t){We.varargs=t;try{var r=We.getStreamFromFD(),n=We.get();switch(n){case 21509:case 21505:return r.tty?0:-Be.ENOTTY;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return r.tty?0:-Be.ENOTTY;case 21519:if(!r.tty)return-Be.ENOTTY;var i=We.get();return z[i>>2]=0,0;case 21520:return r.tty?-Be.EINVAL:-Be.ENOTTY;case 21531:return i=We.get(),qe.ioctl(r,n,i);case 21523:case 21524:return r.tty?0:-Be.ENOTTY;default:un("bad ioctl syscall "+n)}}catch(e){return void 0!==qe&&e instanceof qe.ErrnoError||un(e),-e.errno}},___syscall6:function(e,t){We.varargs=t;try{var r=We.getStreamFromFD();return qe.close(r),0}catch(e){return void 0!==qe&&e instanceof qe.ErrnoError||un(e),-e.errno}},__embind_finalize_value_array:function(e){var t=ze[e];delete ze[e];var r=t.elements,n=r.length,i=r.map(function(e){return e.getterReturnType}).concat(r.map(function(e){return e.setterArgumentType})),o=t.rawConstructor,a=t.rawDestructor;it([e],i,function(e){return r.forEach(function(t,r){var i=e[r],o=t.getter,a=t.getterContext,s=e[r+n],u=t.setter,c=t.setterContext;t.read=function(e){return i.fromWireType(o(a,e))},t.write=function(e,t){var r=[];u(c,e,s.toWireType(r,t)),$e(r)}}),[{name:t.name,fromWireType:function(e){for(var t=new Array(n),i=0;i<n;++i)t[i]=r[i].read(e);return a(e),t},toWireType:function(e,i){if(n!==i.length)throw new TypeError("Incorrect number of tuple elements for "+t.name+": expected="+n+", actual="+i.length);for(var s=o(),u=0;u<n;++u)r[u].write(s,i[u]);return null!==e&&e.push(a,s),s},argPackAdvance:8,readValueFromPointer:Ye,destructorFunction:a}]})},__embind_register_bool:function(e,t,r,n,i){var o=ot(r);lt(e,{name:t=ut(t),fromWireType:function(e){return!!e},toWireType:function(e,t){return t?n:i},argPackAdvance:8,readValueFromPointer:function(e){var n;if(1===r)n=G;else if(2===r)n=q;else{if(4!==r)throw new TypeError("Unknown boolean type size: "+t);n=z}return this.fromWireType(n[e>>o])},destructorFunction:null})},__embind_register_class:function(e,t,r,n,i,o,a,s,u,c,f,l,d){f=ut(f),o=Xt(i,o),s&&(s=Xt(a,s)),c&&(c=Xt(u,c)),d=Xt(l,d);var h=Je(f);kt(h,function(){Zt("Cannot construct "+f+" due to unbound types",[n])}),it([e,t,r],n?[n]:[],function(t){var r,i;t=t[0],i=n?(r=t.registeredClass).instancePrototype:xt.prototype;var a=et(h,function(){if(Object.getPrototypeOf(this)!==u)throw new ct("Use 'new' to construct "+f);if(void 0===l.constructor_body)throw new ct(f+" has no accessible constructor");var e=l.constructor_body[arguments.length];if(void 0===e)throw new ct("Tried to invoke ctor of "+f+" with invalid number of parameters ("+arguments.length+") - expected ("+Object.keys(l.constructor_body).toString()+") parameters instead!");return e.apply(this,arguments)}),u=Object.create(i,{constructor:{value:a}});a.prototype=u;var l=new St(f,a,u,d,r,o,s,c),m=new Yt(f,l,!0,!1,!1),p=new Yt(f+"*",l,!1,!1,!1),g=new Yt(f+" const*",l,!1,!0,!1);return At[e]={pointerType:p,constPointerType:g},Ht(h,a),[m,p,g]})},__embind_register_class_class_function:function(e,t,r,n,i,o,a){var s=tr(r,n);t=ut(t),o=Xt(i,o),it([],[e],function(e){var n=(e=e[0]).name+"."+t;function i(){Zt("Cannot call "+n+" due to unbound types",s)}var u=e.registeredClass.constructor;return void 0===u[t]?(i.argCount=r-1,u[t]=i):(Tt(u,t,n),u[t].overloadTable[r-1]=i),it([],s,function(e){var i=[e[0],null].concat(e.slice(1)),s=er(n,i,null,o,a);return void 0===u[t].overloadTable?(s.argCount=r-1,u[t]=s):u[t].overloadTable[r-1]=s,[]}),[]})},__embind_register_class_constructor:function(e,t,r,n,i,o){var a=tr(t,r);i=Xt(n,i),it([],[e],function(e){var r="constructor "+(e=e[0]).name;if(void 0===e.registeredClass.constructor_body&&(e.registeredClass.constructor_body=[]),void 0!==e.registeredClass.constructor_body[t-1])throw new ct("Cannot register multiple constructors with identical number of parameters ("+(t-1)+") for class '"+e.name+"'! Overload resolution is currently only performed using the parameter count, not actual type info!");return e.registeredClass.constructor_body[t-1]=function(){Zt("Cannot construct "+e.name+" due to unbound types",a)},it([],a,function(n){return e.registeredClass.constructor_body[t-1]=function(){arguments.length!==t-1&&ft(r+" called with "+arguments.length+" arguments, expected "+(t-1));var e=[],a=new Array(t);a[0]=o;for(var s=1;s<t;++s)a[s]=n[s].toWireType(e,arguments[s-1]);var u=i.apply(null,a);return $e(e),n[0].fromWireType(u)},[]}),[]})},__embind_register_class_function:function(e,t,r,n,i,o,a,s){var u=tr(r,n);t=ut(t),o=Xt(i,o),it([],[e],function(e){var n=(e=e[0]).name+"."+t;function i(){Zt("Cannot call "+n+" due to unbound types",u)}s&&e.registeredClass.pureVirtualFunctions.push(t);var c=e.registeredClass.instancePrototype,f=c[t];return void 0===f||void 0===f.overloadTable&&f.className!==e.name&&f.argCount===r-2?(i.argCount=r-2,i.className=e.name,c[t]=i):(Tt(c,t,n),c[t].overloadTable[r-2]=i),it([],u,function(i){var s=er(n,i,e,o,a);return void 0===c[t].overloadTable?(s.argCount=r-2,c[t]=s):c[t].overloadTable[r-2]=s,[]}),[]})},__embind_register_class_property:function(e,t,r,n,i,o,a,s,u,c){t=ut(t),i=Xt(n,i),it([],[e],function(e){var n=(e=e[0]).name+"."+t,f={get:function(){Zt("Cannot access "+n+" due to unbound types",[r,a])},enumerable:!0,configurable:!0};return f.set=u?function(){Zt("Cannot access "+n+" due to unbound types",[r,a])}:function(e){ft(n+" is a read-only property")},Object.defineProperty(e.registeredClass.instancePrototype,t,f),it([],u?[r,a]:[r],function(r){var a=r[0],f={get:function(){var t=rr(this,e,n+" getter");return a.fromWireType(i(o,t))},enumerable:!0};if(u){u=Xt(s,u);var l=r[1];f.set=function(t){var r=rr(this,e,n+" setter"),i=[];u(c,r,l.toWireType(i,t)),$e(i)}}return Object.defineProperty(e.registeredClass.instancePrototype,t,f),[]}),[]})},__embind_register_emval:function(e,t){lt(e,{name:t=ut(t),fromWireType:function(e){var t=ir[e].value;return or(e),t},toWireType:function(e,t){return cr(t)},argPackAdvance:8,readValueFromPointer:Ye,destructorFunction:null})},__embind_register_enum:function(e,t,r,n){var i=ot(r);function o(){}t=ut(t),o.values={},lt(e,{name:t,constructor:o,fromWireType:function(e){return this.constructor.values[e]},toWireType:function(e,t){return t.value},argPackAdvance:8,readValueFromPointer:fr(t,i,n),destructorFunction:null}),kt(t,o)},__embind_register_enum_value:function(e,t,r){var n=lr(e,"enum");t=ut(t);var i=n.constructor,o=Object.create(n.constructor.prototype,{value:{value:r},constructor:{value:et(n.name+"_"+t,function(){})}});i.values[r]=o,i[t]=o},__embind_register_float:function(e,t,r){var n=ot(r);lt(e,{name:t=ut(t),fromWireType:function(e){return e},toWireType:function(e,t){if("number"!=typeof t&&"boolean"!=typeof t)throw new TypeError('Cannot convert "'+dr(t)+'" to '+this.name);return t},argPackAdvance:8,readValueFromPointer:hr(t,n),destructorFunction:null})},__embind_register_function:function(e,t,r,n,i,o){var a=tr(t,r);e=ut(e),i=Xt(n,i),kt(e,function(){Zt("Cannot call "+e+" due to unbound types",a)},t-1),it([],a,function(r){var n=[r[0],null].concat(r.slice(1));return Ht(e,er(e,n,null,i,o),t-1),[]})},__embind_register_integer:function(e,t,r,n,i){t=ut(t),-1===i&&(i=4294967295);var o=ot(r),a=function(e){return e};if(0===n){var s=32-8*r;a=function(e){return e<<s>>>s}}var u=-1!=t.indexOf("unsigned");lt(e,{name:t,fromWireType:a,toWireType:function(e,r){if("number"!=typeof r&&"boolean"!=typeof r)throw new TypeError('Cannot convert "'+dr(r)+'" to '+this.name);if(r<n||r>i)throw new TypeError('Passing a number "'+dr(r)+'" from JS side to C/C++ side to an argument of type "'+t+'", which is outside the valid range ['+n+", "+i+"]!");return u?r>>>0:0|r},argPackAdvance:8,readValueFromPointer:mr(t,o,0!==n),destructorFunction:null})},__embind_register_memory_view:function(e,t,r){var n=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][t];function i(e){var t=$,r=t[e>>=2],i=t[e+1];return new n(t.buffer,i,r)}lt(e,{name:r=ut(r),fromWireType:i,argPackAdvance:8,readValueFromPointer:i},{ignoreDuplicateRegistrations:!0})},__embind_register_std_string:function(e,t){var r="std::string"===(t=ut(t));lt(e,{name:t,fromWireType:function(e){var t,n=$[e>>2];if(r){var i=j[e+4+n],o=0;0!=i&&(o=i,j[e+4+n]=0);for(var a=e+4,s=0;s<=n;++s){var u=e+4+s;if(0==j[u]){var c=F(a);void 0===t?t=c:(t+=String.fromCharCode(0),t+=c),a=u+1}}0!=o&&(j[e+4+n]=o)}else{var f=new Array(n);for(s=0;s<n;++s)f[s]=String.fromCharCode(j[e+4+s]);t=f.join("")}return Jr(e),t},toWireType:function(e,t){t instanceof ArrayBuffer&&(t=new Uint8Array(t));var n="string"==typeof t;n||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int8Array||ft("Cannot pass non-string to std::string");var i=(r&&n?function(){return N(t)}:function(){return t.length})(),o=en(4+i+1);if($[o>>2]=i,r&&n)O(t,o+4,i+1);else if(n)for(var a=0;a<i;++a){var s=t.charCodeAt(a);s>255&&(Jr(o),ft("String has UTF-16 code units that do not fit in 8 bits")),j[o+4+a]=s}else for(a=0;a<i;++a)j[o+4+a]=t[a];return null!==e&&e.push(Jr,o),o},argPackAdvance:8,readValueFromPointer:Ye,destructorFunction:function(e){Jr(e)}})},__embind_register_std_wstring:function(e,t,r){var n,i;r=ut(r),2===t?(n=function(){return W},i=1):4===t&&(n=function(){return $},i=2),lt(e,{name:r,fromWireType:function(e){for(var t=n(),r=$[e>>2],o=new Array(r),a=e+4>>i,s=0;s<r;++s)o[s]=String.fromCharCode(t[a+s]);return Jr(e),o.join("")},toWireType:function(e,r){var o=n(),a=r.length,s=en(4+a*t);$[s>>2]=a;for(var u=s+4>>i,c=0;c<a;++c)o[u+c]=r.charCodeAt(c);return null!==e&&e.push(Jr,s),s},argPackAdvance:8,readValueFromPointer:Ye,destructorFunction:function(e){Jr(e)}})},__embind_register_value_array:function(e,t,r,n,i,o){ze[e]={name:ut(t),rawConstructor:Xt(r,n),rawDestructor:Xt(i,o),elements:[]}},__embind_register_value_array_element:function(e,t,r,n,i,o,a,s,u){ze[e].elements.push({getterReturnType:t,getter:Xt(r,n),getterContext:i,setterArgumentType:o,setter:Xt(a,s),setterContext:u})},__embind_register_void:function(e,t){lt(e,{isVoid:!0,name:t=ut(t),argPackAdvance:0,fromWireType:function(){},toWireType:function(e,t){}})},__emval_as:function(e,t,r){e=pr(e),t=lr(t,"emval::as");var n=[],i=cr(n);return z[r>>2]=i,t.toWireType(n,e)},__emval_decref:or,__emval_get_property:function(e,t){return cr((e=pr(e))[t=pr(t)])},__emval_incref:function(e){e>4&&(ir[e].refcount+=1)},__emval_new_cstring:function(e){return cr(vr(e))},__emval_register:cr,__emval_run_destructors:function(e){$e(ir[e].value),or(e)},__emval_take_value:function(e,t){return cr((e=lr(e,"_emval_take_value")).readValueFromPointer(t))},_abort:function(){s.abort()},_clock_gettime:function(e,t){var r;if(0===e)r=Date.now();else{if(1!==e||!_r())return Re(Be.EINVAL),-1;r=yr()}return z[t>>2]=r/1e3|0,z[t+4>>2]=r%1e3*1e3*1e3|0,0},_eglGetProcAddress:function(e){return Qr(e)},_embind_repr:dr,_emscripten_get_now:yr,_emscripten_get_now_is_monotonic:_r,_emscripten_glActiveTexture:function(e){Ur.activeTexture(e)},_emscripten_glAttachShader:function(e,t){Ur.attachShader(Mr.programs[e],Mr.shaders[t])},_emscripten_glBeginConditionalRender:function(){y("missing function: emscripten_glBeginConditionalRender"),un(-1)},_emscripten_glBeginTransformFeedback:function(e){Ur.beginTransformFeedback(e)},_emscripten_glBindAttribLocation:function(e,t,r){r=L(r),Ur.bindAttribLocation(Mr.programs[e],t,r)},_emscripten_glBindBuffer:function(e,t){var r=t?Mr.buffers[t]:null;35051==e?Ur.currentPixelPackBufferBinding=t:35052==e&&(Ur.currentPixelUnpackBufferBinding=t),Ur.bindBuffer(e,r)},_emscripten_glBindBufferBase:function(e,t,r){var n=r?Mr.buffers[r]:null;Ur.bindBufferBase(e,t,n)},_emscripten_glBindBufferRange:function(e,t,r,n,i){var o=r?Mr.buffers[r]:null;Ur.bindBufferRange(e,t,o,n,i)},_emscripten_glBindFragDataLocation:function(){y("missing function: emscripten_glBindFragDataLocation"),un(-1)},_emscripten_glBindFramebuffer:function(e,t){Ur.bindFramebuffer(e,t?Mr.framebuffers[t]:null)},_emscripten_glBindProgramARB:function(){y("missing function: emscripten_glBindProgramARB"),un(-1)},_emscripten_glBindRenderbuffer:function(e,t){Ur.bindRenderbuffer(e,t?Mr.renderbuffers[t]:null)},_emscripten_glBindTexture:function(e,t){Ur.bindTexture(e,t?Mr.textures[t]:null)},_emscripten_glBindVertexArray:function(e){Ur.bindVertexArray(Mr.vaos[e])},_emscripten_glBlendColor:function(e,t,r,n){Ur.blendColor(e,t,r,n)},_emscripten_glBlendEquation:function(e){Ur.blendEquation(e)},_emscripten_glBlendEquationSeparate:function(e,t){Ur.blendEquationSeparate(e,t)},_emscripten_glBlendFunc:function(e,t){Ur.blendFunc(e,t)},_emscripten_glBlendFuncSeparate:function(e,t,r,n){Ur.blendFuncSeparate(e,t,r,n)},_emscripten_glBufferData:function(e,t,r,n){if(r){if(Mr.currentContext.supportsWebGL2EntryPoints)return void Ur.bufferData(e,j,n,r,t);Ur.bufferData(e,j.subarray(r,r+t),n)}else Ur.bufferData(e,t,n)},_emscripten_glBufferSubData:function(e,t,r,n){Mr.currentContext.supportsWebGL2EntryPoints?Ur.bufferSubData(e,t,j,n,r):Ur.bufferSubData(e,t,j.subarray(n,n+r))},_emscripten_glCheckFramebufferStatus:function(e){return Ur.checkFramebufferStatus(e)},_emscripten_glClampColor:function(){y("missing function: emscripten_glClampColor"),un(-1)},_emscripten_glClear:function(e){Ur.clear(e)},_emscripten_glClearBufferfi:function(e,t,r,n){Ur.clearBufferfi(e,t,r,n)},_emscripten_glClearBufferfv:function(e,t,r){Ur.clearBufferfv(e,t,Y,r>>2)},_emscripten_glClearBufferiv:function(e,t,r){Ur.clearBufferiv(e,t,z,r>>2)},_emscripten_glClearBufferuiv:function(e,t,r){Ur.clearBufferuiv(e,t,$,r>>2)},_emscripten_glClearColor:function(e,t,r,n){Ur.clearColor(e,t,r,n)},_emscripten_glClearDepth:function(e){Ur.clearDepth(e)},_emscripten_glClearDepthf:function(e){Ur.clearDepth(e)},_emscripten_glClearStencil:function(e){Ur.clearStencil(e)},_emscripten_glClientActiveTexture:function(){y("missing function: emscripten_glClientActiveTexture"),un(-1)},_emscripten_glColorMask:function(e,t,r,n){Ur.colorMask(!!e,!!t,!!r,!!n)},_emscripten_glColorMaski:function(){y("missing function: emscripten_glColorMaski"),un(-1)},_emscripten_glColorPointer:function(){y("missing function: emscripten_glColorPointer"),un(-1)},_emscripten_glCompileShader:function(e){Ur.compileShader(Mr.shaders[e])},_emscripten_glCompressedTexImage2D:function(e,t,r,n,i,o,a,s){Mr.currentContext.supportsWebGL2EntryPoints?Ur.compressedTexImage2D(e,t,r,n,i,o,j,s,a):Ur.compressedTexImage2D(e,t,r,n,i,o,s?j.subarray(s,s+a):null)},_emscripten_glCompressedTexSubImage2D:function(e,t,r,n,i,o,a,s,u){Mr.currentContext.supportsWebGL2EntryPoints?Ur.compressedTexSubImage2D(e,t,r,n,i,o,a,j,u,s):Ur.compressedTexSubImage2D(e,t,r,n,i,o,a,u?j.subarray(u,u+s):null)},_emscripten_glCopyTexImage2D:function(e,t,r,n,i,o,a,s){Ur.copyTexImage2D(e,t,r,n,i,o,a,s)},_emscripten_glCopyTexSubImage2D:function(e,t,r,n,i,o,a,s){Ur.copyTexSubImage2D(e,t,r,n,i,o,a,s)},_emscripten_glCreateProgram:function(){var e=Mr.getNewId(Mr.programs),t=Ur.createProgram();return t.name=e,Mr.programs[e]=t,e},_emscripten_glCreateShader:function(e){var t=Mr.getNewId(Mr.shaders);return Mr.shaders[t]=Ur.createShader(e),t},_emscripten_glCullFace:function(e){Ur.cullFace(e)},_emscripten_glDeleteBuffers:function(e,t){for(var r=0;r<e;r++){var n=z[t+4*r>>2],i=Mr.buffers[n];i&&(Ur.deleteBuffer(i),i.name=0,Mr.buffers[n]=null,n==Mr.currArrayBuffer&&(Mr.currArrayBuffer=0),n==Mr.currElementArrayBuffer&&(Mr.currElementArrayBuffer=0))}},_emscripten_glDeleteFramebuffers:function(e,t){for(var r=0;r<e;++r){var n=z[t+4*r>>2],i=Mr.framebuffers[n];i&&(Ur.deleteFramebuffer(i),i.name=0,Mr.framebuffers[n]=null)}},_emscripten_glDeleteObjectARB:function(){y("missing function: emscripten_glDeleteObjectARB"),un(-1)},_emscripten_glDeleteProgram:function(e){if(e){var t=Mr.programs[e];t?(Ur.deleteProgram(t),t.name=0,Mr.programs[e]=null,Mr.programInfos[e]=null):Mr.recordError(1281)}},_emscripten_glDeleteRenderbuffers:function(e,t){for(var r=0;r<e;r++){var n=z[t+4*r>>2],i=Mr.renderbuffers[n];i&&(Ur.deleteRenderbuffer(i),i.name=0,Mr.renderbuffers[n]=null)}},_emscripten_glDeleteShader:function(e){if(e){var t=Mr.shaders[e];t?(Ur.deleteShader(t),Mr.shaders[e]=null):Mr.recordError(1281)}},_emscripten_glDeleteTextures:function(e,t){for(var r=0;r<e;r++){var n=z[t+4*r>>2],i=Mr.textures[n];i&&(Ur.deleteTexture(i),i.name=0,Mr.textures[n]=null)}},_emscripten_glDeleteVertexArrays:function(e,t){for(var r=0;r<e;r++){var n=z[t+4*r>>2];Ur.deleteVertexArray(Mr.vaos[n]),Mr.vaos[n]=null}},_emscripten_glDepthFunc:function(e){Ur.depthFunc(e)},_emscripten_glDepthMask:function(e){Ur.depthMask(!!e)},_emscripten_glDepthRange:function(e,t){Ur.depthRange(e,t)},_emscripten_glDepthRangef:function(e,t){Ur.depthRange(e,t)},_emscripten_glDetachShader:function(e,t){Ur.detachShader(Mr.programs[e],Mr.shaders[t])},_emscripten_glDisable:function(e){Ur.disable(e)},_emscripten_glDisableVertexAttribArray:function(e){Ur.disableVertexAttribArray(e)},_emscripten_glDisablei:function(){y("missing function: emscripten_glDisablei"),un(-1)},_emscripten_glDrawArrays:function(e,t,r){Ur.drawArrays(e,t,r)},_emscripten_glDrawArraysInstanced:function(e,t,r,n){Ur.drawArraysInstanced(e,t,r,n)},_emscripten_glDrawBuffers:function(e,t){for(var r=Mr.tempFixedLengthArray[e],n=0;n<e;n++)r[n]=z[t+4*n>>2];Ur.drawBuffers(r)},_emscripten_glDrawElements:xr,_emscripten_glDrawElementsInstanced:function(e,t,r,n,i){Ur.drawElementsInstanced(e,t,r,n,i)},_emscripten_glDrawRangeElements:function(e,t,r,n,i,o){xr(e,n,i,o)},_emscripten_glEnable:function(e){Ur.enable(e)},_emscripten_glEnableClientState:function(){y("missing function: emscripten_glEnableClientState"),un(-1)},_emscripten_glEnableVertexAttribArray:function(e){Ur.enableVertexAttribArray(e)},_emscripten_glEnablei:function(){y("missing function: emscripten_glEnablei"),un(-1)},_emscripten_glEndConditionalRender:function(){y("missing function: emscripten_glEndConditionalRender"),un(-1)},_emscripten_glEndTransformFeedback:function(){Ur.endTransformFeedback()},_emscripten_glFinish:function(){Ur.finish()},_emscripten_glFlush:function(){Ur.flush()},_emscripten_glFramebufferRenderbuffer:function(e,t,r,n){Ur.framebufferRenderbuffer(e,t,r,Mr.renderbuffers[n])},_emscripten_glFramebufferTexture2D:function(e,t,r,n,i){Ur.framebufferTexture2D(e,t,r,Mr.textures[n],i)},_emscripten_glFrontFace:function(e){Ur.frontFace(e)},_emscripten_glFrustum:function(){y("missing function: emscripten_glFrustum"),un(-1)},_emscripten_glGenBuffers:function(e,t){for(var r=0;r<e;r++){var n=Ur.createBuffer();if(!n){for(Mr.recordError(1282);r<e;)z[t+4*r++>>2]=0;return}var i=Mr.getNewId(Mr.buffers);n.name=i,Mr.buffers[i]=n,z[t+4*r>>2]=i}},_emscripten_glGenFramebuffers:function(e,t){for(var r=0;r<e;++r){var n=Ur.createFramebuffer();if(!n){for(Mr.recordError(1282);r<e;)z[t+4*r++>>2]=0;return}var i=Mr.getNewId(Mr.framebuffers);n.name=i,Mr.framebuffers[i]=n,z[t+4*r>>2]=i}},_emscripten_glGenRenderbuffers:function(e,t){for(var r=0;r<e;r++){var n=Ur.createRenderbuffer();if(!n){for(Mr.recordError(1282);r<e;)z[t+4*r++>>2]=0;return}var i=Mr.getNewId(Mr.renderbuffers);n.name=i,Mr.renderbuffers[i]=n,z[t+4*r>>2]=i}},_emscripten_glGenTextures:function(e,t){for(var r=0;r<e;r++){var n=Ur.createTexture();if(!n){for(Mr.recordError(1282);r<e;)z[t+4*r++>>2]=0;return}var i=Mr.getNewId(Mr.textures);n.name=i,Mr.textures[i]=n,z[t+4*r>>2]=i}},_emscripten_glGenVertexArrays:function(e,t){for(var r=0;r<e;r++){var n=Ur.createVertexArray();if(!n){for(Mr.recordError(1282);r<e;)z[t+4*r++>>2]=0;return}var i=Mr.getNewId(Mr.vaos);n.name=i,Mr.vaos[i]=n,z[t+4*r>>2]=i}},_emscripten_glGenerateMipmap:function(e){Ur.generateMipmap(e)},_emscripten_glGetActiveAttrib:function(e,t,r,n,i,o,a){e=Mr.programs[e];var s=Ur.getActiveAttrib(e,t);if(s){if(r>0&&a){var u=O(s.name,a,r);n&&(z[n>>2]=u)}else n&&(z[n>>2]=0);i&&(z[i>>2]=s.size),o&&(z[o>>2]=s.type)}},_emscripten_glGetActiveUniform:function(e,t,r,n,i,o,a){e=Mr.programs[e];var s=Ur.getActiveUniform(e,t);if(s){if(r>0&&a){var u=O(s.name,a,r);n&&(z[n>>2]=u)}else n&&(z[n>>2]=0);i&&(z[i>>2]=s.size),o&&(z[o>>2]=s.type)}},_emscripten_glGetActiveUniformBlockName:function(e,t,r,n,i){e=Mr.programs[e];var o=Ur.getActiveUniformBlockName(e,t);if(o)if(i&&r>0){var a=O(o,i,r);n&&(z[n>>2]=a)}else n&&(z[n>>2]=0)},_emscripten_glGetActiveUniformBlockiv:function(e,t,r,n){if(n)switch(e=Mr.programs[e],r){case 35393:var i=Ur.getActiveUniformBlockName(e,t);return void(z[n>>2]=i.length+1);default:var o=Ur.getActiveUniformBlockParameter(e,t,r);if(!o)return;if("number"==typeof o)z[n>>2]=o;else for(var a=0;a<o.length;a++)z[n+4*a>>2]=o[a]}else Mr.recordError(1281)},_emscripten_glGetActiveUniformName:function(){y("missing function: emscripten_glGetActiveUniformName"),un(-1)},_emscripten_glGetActiveUniformsiv:function(e,t,r,n,i){if(i)if(t>0&&0==r)Mr.recordError(1281);else{e=Mr.programs[e];for(var o=[],a=0;a<t;a++)o.push(z[r+4*a>>2]);var s=Ur.getActiveUniforms(e,o,n);if(s){var u=s.length;for(a=0;a<u;a++)z[i+4*a>>2]=s[a]}}else Mr.recordError(1281)},_emscripten_glGetAttachedShaders:function(e,t,r,n){var i=Ur.getAttachedShaders(Mr.programs[e]),o=i.length;o>t&&(o=t),z[r>>2]=o;for(var a=0;a<o;++a){var s=Mr.shaders.indexOf(i[a]);z[n+4*a>>2]=s}},_emscripten_glGetAttribLocation:function(e,t){return e=Mr.programs[e],t=L(t),Ur.getAttribLocation(e,t)},_emscripten_glGetBooleani_v:function(){y("missing function: emscripten_glGetBooleani_v"),un(-1)},_emscripten_glGetBooleanv:function(e,t){Ar(e,t,"Boolean")},_emscripten_glGetBufferParameteriv:function(e,t,r){r?z[r>>2]=Ur.getBufferParameter(e,t):Mr.recordError(1281)},_emscripten_glGetError:function(){if(Mr.lastError){var e=Mr.lastError;return Mr.lastError=0,e}return Ur.getError()},_emscripten_glGetFloatv:function(e,t){Ar(e,t,"Float")},_emscripten_glGetFragDataLocation:function(e,t){return Ur.getFragDataLocation(Mr.programs[e],L(t))},_emscripten_glGetFramebufferAttachmentParameteriv:function(e,t,r,n){var i=Ur.getFramebufferAttachmentParameter(e,t,r);(i instanceof WebGLRenderbuffer||i instanceof WebGLTexture)&&(i=0|i.name),z[n>>2]=i},_emscripten_glGetInfoLogARB:function(){y("missing function: emscripten_glGetInfoLogARB"),un(-1)},_emscripten_glGetIntegeri_v:function(e,t,r){Tr(e,t,r,"Integer")},_emscripten_glGetIntegerv:function(e,t){Ar(e,t,"Integer")},_emscripten_glGetObjectParameterivARB:function(){y("missing function: emscripten_glGetObjectParameterivARB"),un(-1)},_emscripten_glGetPointerv:function(){y("missing function: emscripten_glGetPointerv"),un(-1)},_emscripten_glGetProgramInfoLog:function(e,t,r,n){var i=Ur.getProgramInfoLog(Mr.programs[e]);if(null===i&&(i="(unknown error)"),t>0&&n){var o=O(i,n,t);r&&(z[r>>2]=o)}else r&&(z[r>>2]=0)},_emscripten_glGetProgramiv:function(e,t,r){if(r)if(e>=Mr.counter)Mr.recordError(1281);else{var n=Mr.programInfos[e];if(n)if(35716==t){var i=Ur.getProgramInfoLog(Mr.programs[e]);null===i&&(i="(unknown error)"),z[r>>2]=i.length+1}else if(35719==t)z[r>>2]=n.maxUniformLength;else if(35722==t){if(-1==n.maxAttributeLength){e=Mr.programs[e];var o=Ur.getProgramParameter(e,Ur.ACTIVE_ATTRIBUTES);n.maxAttributeLength=0;for(var a=0;a<o;++a){var s=Ur.getActiveAttrib(e,a);n.maxAttributeLength=Math.max(n.maxAttributeLength,s.name.length+1)}}z[r>>2]=n.maxAttributeLength}else if(35381==t){if(-1==n.maxUniformBlockNameLength){e=Mr.programs[e];var u=Ur.getProgramParameter(e,Ur.ACTIVE_UNIFORM_BLOCKS);for(n.maxUniformBlockNameLength=0,a=0;a<u;++a){var c=Ur.getActiveUniformBlockName(e,a);n.maxUniformBlockNameLength=Math.max(n.maxUniformBlockNameLength,c.length+1)}}z[r>>2]=n.maxUniformBlockNameLength}else z[r>>2]=Ur.getProgramParameter(Mr.programs[e],t);else Mr.recordError(1282)}else Mr.recordError(1281)},_emscripten_glGetRenderbufferParameteriv:function(e,t,r){r?z[r>>2]=Ur.getRenderbufferParameter(e,t):Mr.recordError(1281)},_emscripten_glGetShaderInfoLog:function(e,t,r,n){var i=Ur.getShaderInfoLog(Mr.shaders[e]);if(null===i&&(i="(unknown error)"),t>0&&n){var o=O(i,n,t);r&&(z[r>>2]=o)}else r&&(z[r>>2]=0)},_emscripten_glGetShaderPrecisionFormat:function(e,t,r,n){var i=Ur.getShaderPrecisionFormat(e,t);z[r>>2]=i.rangeMin,z[r+4>>2]=i.rangeMax,z[n>>2]=i.precision},_emscripten_glGetShaderSource:function(e,t,r,n){var i=Ur.getShaderSource(Mr.shaders[e]);if(i)if(t>0&&n){var o=O(i,n,t);r&&(z[r>>2]=o)}else r&&(z[r>>2]=0)},_emscripten_glGetShaderiv:function(e,t,r){if(r)if(35716==t){var n=Ur.getShaderInfoLog(Mr.shaders[e]);null===n&&(n="(unknown error)"),z[r>>2]=n.length+1}else if(35720==t){var i=Ur.getShaderSource(Mr.shaders[e]),o=null===i||0==i.length?0:i.length+1;z[r>>2]=o}else z[r>>2]=Ur.getShaderParameter(Mr.shaders[e],t);else Mr.recordError(1281)},_emscripten_glGetString:function(e){if(Mr.stringCache[e])return Mr.stringCache[e];var t;switch(e){case 7936:case 7937:case 37445:case 37446:t=I(qr(Ur.getParameter(e)),"i8",S);break;case 7938:var r=Ur.getParameter(Ur.VERSION);t=I(qr(r=Ur.canvas.GLctxObject.version>=2?"OpenGL ES 3.0 ("+r+")":"OpenGL ES 2.0 ("+r+")"),"i8",S);break;case 7939:for(var n=Ur.getSupportedExtensions(),i=[],o=0;o<n.length;++o)i.push(n[o]),i.push("GL_"+n[o]);t=I(qr(i.join(" ")),"i8",S);break;case 35724:var a=Ur.getParameter(Ur.SHADING_LANGUAGE_VERSION),s=a.match(/^WebGL GLSL ES ([0-9]\.[0-9][0-9]?)(?:$| .*)/);null!==s&&(3==s[1].length&&(s[1]=s[1]+"0"),a="OpenGL ES GLSL ES "+s[1]+" ("+a+")"),t=I(qr(a),"i8",S);break;default:return Mr.recordError(1280),0}return Mr.stringCache[e]=t,t},_emscripten_glGetStringi:function(e,t){if(Ur.canvas.GLctxObject.version<2)return Mr.recordError(1282),0;var r=Mr.stringiCache[e];if(r)return t<0||t>=r.length?(Mr.recordError(1281),0):r[t];switch(e){case 7939:for(var n=Ur.getSupportedExtensions(),i=[],o=0;o<n.length;++o)i.push(I(qr(n[o]),"i8",S)),i.push(I(qr("GL_"+n[o]),"i8",S));return r=Mr.stringiCache[e]=i,t<0||t>=r.length?(Mr.recordError(1281),0):r[t];default:return Mr.recordError(1280),0}},_emscripten_glGetTexParameterIiv:function(){y("missing function: emscripten_glGetTexParameterIiv"),un(-1)},_emscripten_glGetTexParameterIuiv:function(){y("missing function: emscripten_glGetTexParameterIuiv"),un(-1)},_emscripten_glGetTexParameterfv:function(e,t,r){r?Y[r>>2]=Ur.getTexParameter(e,t):Mr.recordError(1281)},_emscripten_glGetTexParameteriv:function(e,t,r){r?z[r>>2]=Ur.getTexParameter(e,t):Mr.recordError(1281)},_emscripten_glGetTransformFeedbackVarying:function(e,t,r,n,i,o,a){e=Mr.programs[e];var s=Ur.getTransformFeedbackVarying(e,t);if(s){if(a&&r>0){var u=O(s.name,a,r);n&&(z[n>>2]=u)}else n&&(z[n>>2]=0);i&&(z[i>>2]=s.size),o&&(z[o>>2]=s.type)}},_emscripten_glGetUniformBlockIndex:function(e,t){return e=Mr.programs[e],t=L(t),Ur.getUniformBlockIndex(e,t)},_emscripten_glGetUniformIndices:function(e,t,r,n){if(n)if(t>0&&(0==r||0==n))Mr.recordError(1281);else{e=Mr.programs[e];for(var i=[],o=0;o<t;o++)i.push(L(z[r+4*o>>2]));var a=Ur.getUniformIndices(e,i);if(a){var s=a.length;for(o=0;o<s;o++)z[n+4*o>>2]=a[o]}}else Mr.recordError(1281)},_emscripten_glGetUniformLocation:function(e,t){var r=0;if(-1!==(t=L(t)).indexOf("]",t.length-1)){var n=t.lastIndexOf("["),i=t.slice(n+1,-1);if(i.length>0&&(r=parseInt(i))<0)return-1;t=t.slice(0,n)}var o=Mr.programInfos[e];if(!o)return-1;var a=o.uniforms[t];return a&&r<a[0]?a[1]+r:-1},_emscripten_glGetUniformfv:function(e,t,r){kr(e,t,r,"Float")},_emscripten_glGetUniformiv:function(e,t,r){kr(e,t,r,"Integer")},_emscripten_glGetUniformuiv:function(e,t,r){kr(e,t,r,"Integer")},_emscripten_glGetVertexAttribIiv:function(e,t,r){Sr(e,t,r,"Integer")},_emscripten_glGetVertexAttribIuiv:function(e,t,r){Sr(e,t,r,"Integer")},_emscripten_glGetVertexAttribPointerv:function(e,t,r){r?z[r>>2]=Ur.getVertexAttribOffset(e,t):Mr.recordError(1281)},_emscripten_glGetVertexAttribfv:function(e,t,r){Sr(e,t,r,"Float")},_emscripten_glGetVertexAttribiv:function(e,t,r){Sr(e,t,r,"FloatToInteger")},_emscripten_glHint:function(e,t){Ur.hint(e,t)},_emscripten_glIsBuffer:function(e){var t=Mr.buffers[e];return t?Ur.isBuffer(t):0},_emscripten_glIsEnabled:function(e){return Ur.isEnabled(e)},_emscripten_glIsEnabledi:function(){y("missing function: emscripten_glIsEnabledi"),un(-1)},_emscripten_glIsFramebuffer:function(e){var t=Mr.framebuffers[e];return t?Ur.isFramebuffer(t):0},_emscripten_glIsProgram:function(e){return(e=Mr.programs[e])?Ur.isProgram(e):0},_emscripten_glIsRenderbuffer:function(e){var t=Mr.renderbuffers[e];return t?Ur.isRenderbuffer(t):0},_emscripten_glIsShader:function(e){var t=Mr.shaders[e];return t?Ur.isShader(t):0},_emscripten_glIsTexture:function(e){return(e=Mr.textures[e])?Ur.isTexture(e):0},_emscripten_glIsVertexArray:function(e){var t=Mr.vaos[e];return t?Ur.isVertexArray(t):0},_emscripten_glLineWidth:function(e){Ur.lineWidth(e)},_emscripten_glLinkProgram:function(e){Ur.linkProgram(Mr.programs[e]),Mr.programInfos[e]=null,Mr.populateUniformTable(e)},_emscripten_glLoadIdentity:function(){throw"Legacy GL function (glLoadIdentity) called. If you want legacy GL emulation, you need to compile with -s LEGACY_GL_EMULATION=1 to enable legacy GL emulation."},_emscripten_glLoadMatrixf:function(){y("missing function: emscripten_glLoadMatrixf"),un(-1)},_emscripten_glMatrixMode:function(){throw"Legacy GL function (glMatrixMode) called. If you want legacy GL emulation, you need to compile with -s LEGACY_GL_EMULATION=1 to enable legacy GL emulation."},_emscripten_glNormalPointer:function(){y("missing function: emscripten_glNormalPointer"),un(-1)},_emscripten_glPixelStorei:function(e,t){3333==e?Mr.packAlignment=t:3317==e&&(Mr.unpackAlignment=t),Ur.pixelStorei(e,t)},_emscripten_glPolygonOffset:function(e,t){Ur.polygonOffset(e,t)},_emscripten_glReadPixels:function(e,t,r,n,i,o,a){if(Mr.currentContext.supportsWebGL2EntryPoints)Ur.currentPixelPackBufferBinding?Ur.readPixels(e,t,r,n,i,o,a):Ur.readPixels(e,t,r,n,i,o,Ir(o),a>>Lr(o));else{var s=Cr(o,i,r,n,a);s?Ur.readPixels(e,t,r,n,i,o,s):Mr.recordError(1280)}},_emscripten_glReleaseShaderCompiler:function(){},_emscripten_glRenderbufferStorage:function(e,t,r,n){Ur.renderbufferStorage(e,t,r,n)},_emscripten_glRotatef:function(){y("missing function: emscripten_glRotatef"),un(-1)},_emscripten_glSampleCoverage:function(e,t){Ur.sampleCoverage(e,!!t)},_emscripten_glScissor:function(e,t,r,n){Ur.scissor(e,t,r,n)},_emscripten_glShaderBinary:function(){Mr.recordError(1280)},_emscripten_glShaderSource:function(e,t,r,n){var i=Mr.getSource(e,t,r,n);Ur.shaderSource(Mr.shaders[e],i)},_emscripten_glStencilFunc:function(e,t,r){Ur.stencilFunc(e,t,r)},_emscripten_glStencilFuncSeparate:function(e,t,r,n){Ur.stencilFuncSeparate(e,t,r,n)},_emscripten_glStencilMask:function(e){Ur.stencilMask(e)},_emscripten_glStencilMaskSeparate:function(e,t){Ur.stencilMaskSeparate(e,t)},_emscripten_glStencilOp:function(e,t,r){Ur.stencilOp(e,t,r)},_emscripten_glStencilOpSeparate:function(e,t,r,n){Ur.stencilOpSeparate(e,t,r,n)},_emscripten_glTexCoordPointer:function(){y("missing function: emscripten_glTexCoordPointer"),un(-1)},_emscripten_glTexImage2D:function(e,t,r,n,i,o,a,s,u){if(Mr.currentContext.supportsWebGL2EntryPoints)Ur.currentPixelUnpackBufferBinding?Ur.texImage2D(e,t,r,n,i,o,a,s,u):0!=u?Ur.texImage2D(e,t,r,n,i,o,a,s,Ir(s),u>>Lr(s)):Ur.texImage2D(e,t,r,n,i,o,a,s,null);else{var c=null;u&&(c=Cr(s,a,n,i,u)),Ur.texImage2D(e,t,r,n,i,o,a,s,c)}},_emscripten_glTexImage3D:function(e,t,r,n,i,o,a,s,u,c){Ur.currentPixelUnpackBufferBinding?Ur.texImage3D(e,t,r,n,i,o,a,s,u,c):0!=c?Ur.texImage3D(e,t,r,n,i,o,a,s,u,Ir(u),c>>Lr(u)):Ur.texImage3D(e,t,r,n,i,o,a,s,u,null)},_emscripten_glTexParameterIiv:function(){y("missing function: emscripten_glTexParameterIiv"),un(-1)},_emscripten_glTexParameterIuiv:function(){y("missing function: emscripten_glTexParameterIuiv"),un(-1)},_emscripten_glTexParameterf:function(e,t,r){Ur.texParameterf(e,t,r)},_emscripten_glTexParameterfv:function(e,t,r){var n=Y[r>>2];Ur.texParameterf(e,t,n)},_emscripten_glTexParameteri:function(e,t,r){Ur.texParameteri(e,t,r)},_emscripten_glTexParameteriv:function(e,t,r){var n=z[r>>2];Ur.texParameteri(e,t,n)},_emscripten_glTexStorage2D:function(e,t,r,n,i){Ur.texStorage2D(e,t,r,n,i)},_emscripten_glTexStorage3D:function(e,t,r,n,i,o){Ur.texStorage3D(e,t,r,n,i,o)},_emscripten_glTexSubImage2D:function(e,t,r,n,i,o,a,s,u){if(Mr.currentContext.supportsWebGL2EntryPoints)Ur.currentPixelUnpackBufferBinding?Ur.texSubImage2D(e,t,r,n,i,o,a,s,u):0!=u?Ur.texSubImage2D(e,t,r,n,i,o,a,s,Ir(s),u>>Lr(s)):Ur.texSubImage2D(e,t,r,n,i,o,a,s,null);else{var c=null;u&&(c=Cr(s,a,i,o,u)),Ur.texSubImage2D(e,t,r,n,i,o,a,s,c)}},_emscripten_glTexSubImage3D:function(e,t,r,n,i,o,a,s,u,c,f){Ur.currentPixelUnpackBufferBinding?Ur.texSubImage3D(e,t,r,n,i,o,a,s,u,c,f):0!=f?Ur.texSubImage3D(e,t,r,n,i,o,a,s,u,c,Ir(c),f>>Lr(c)):Ur.texSubImage3D(e,t,r,n,i,o,a,s,u,c,null)},_emscripten_glTransformFeedbackVaryings:function(e,t,r,n){e=Mr.programs[e];for(var i=[],o=0;o<t;o++)i.push(L(z[r+4*o>>2]));Ur.transformFeedbackVaryings(e,i,n)},_emscripten_glUniform1f:function(e,t){Ur.uniform1f(Mr.uniforms[e],t)},_emscripten_glUniform1fv:function(e,t,r){if(Mr.currentContext.supportsWebGL2EntryPoints)Ur.uniform1fv(Mr.uniforms[e],Y,r>>2,t);else{var n;if(t<=Mr.MINI_TEMP_BUFFER_SIZE){n=Mr.miniTempBufferViews[t-1];for(var i=0;i<t;++i)n[i]=Y[r+4*i>>2]}else n=Y.subarray(r>>2,r+4*t>>2);Ur.uniform1fv(Mr.uniforms[e],n)}},_emscripten_glUniform1i:function(e,t){Ur.uniform1i(Mr.uniforms[e],t)},_emscripten_glUniform1iv:function(e,t,r){Mr.currentContext.supportsWebGL2EntryPoints?Ur.uniform1iv(Mr.uniforms[e],z,r>>2,t):Ur.uniform1iv(Mr.uniforms[e],z.subarray(r>>2,r+4*t>>2))},_emscripten_glUniform1ui:function(e,t){Ur.uniform1ui(Mr.uniforms[e],t)},_emscripten_glUniform2f:function(e,t,r){Ur.uniform2f(Mr.uniforms[e],t,r)},_emscripten_glUniform2fv:function(e,t,r){if(Mr.currentContext.supportsWebGL2EntryPoints)Ur.uniform2fv(Mr.uniforms[e],Y,r>>2,2*t);else{var n;if(2*t<=Mr.MINI_TEMP_BUFFER_SIZE){n=Mr.miniTempBufferViews[2*t-1];for(var i=0;i<2*t;i+=2)n[i]=Y[r+4*i>>2],n[i+1]=Y[r+(4*i+4)>>2]}else n=Y.subarray(r>>2,r+8*t>>2);Ur.uniform2fv(Mr.uniforms[e],n)}},_emscripten_glUniform2i:function(e,t,r){Ur.uniform2i(Mr.uniforms[e],t,r)},_emscripten_glUniform2iv:function(e,t,r){Mr.currentContext.supportsWebGL2EntryPoints?Ur.uniform2iv(Mr.uniforms[e],z,r>>2,2*t):Ur.uniform2iv(Mr.uniforms[e],z.subarray(r>>2,r+8*t>>2))},_emscripten_glUniform2ui:function(e,t,r){Ur.uniform2ui(Mr.uniforms[e],t,r)},_emscripten_glUniform3f:function(e,t,r,n){Ur.uniform3f(Mr.uniforms[e],t,r,n)},_emscripten_glUniform3fv:function(e,t,r){if(Mr.currentContext.supportsWebGL2EntryPoints)Ur.uniform3fv(Mr.uniforms[e],Y,r>>2,3*t);else{var n;if(3*t<=Mr.MINI_TEMP_BUFFER_SIZE){n=Mr.miniTempBufferViews[3*t-1];for(var i=0;i<3*t;i+=3)n[i]=Y[r+4*i>>2],n[i+1]=Y[r+(4*i+4)>>2],n[i+2]=Y[r+(4*i+8)>>2]}else n=Y.subarray(r>>2,r+12*t>>2);Ur.uniform3fv(Mr.uniforms[e],n)}},_emscripten_glUniform3i:function(e,t,r,n){Ur.uniform3i(Mr.uniforms[e],t,r,n)},_emscripten_glUniform3iv:function(e,t,r){Mr.currentContext.supportsWebGL2EntryPoints?Ur.uniform3iv(Mr.uniforms[e],z,r>>2,3*t):Ur.uniform3iv(Mr.uniforms[e],z.subarray(r>>2,r+12*t>>2))},_emscripten_glUniform3ui:function(e,t,r,n){Ur.uniform3ui(Mr.uniforms[e],t,r,n)},_emscripten_glUniform4f:function(e,t,r,n,i){Ur.uniform4f(Mr.uniforms[e],t,r,n,i)},_emscripten_glUniform4fv:function(e,t,r){if(Mr.currentContext.supportsWebGL2EntryPoints)Ur.uniform4fv(Mr.uniforms[e],Y,r>>2,4*t);else{var n;if(4*t<=Mr.MINI_TEMP_BUFFER_SIZE){n=Mr.miniTempBufferViews[4*t-1];for(var i=0;i<4*t;i+=4)n[i]=Y[r+4*i>>2],n[i+1]=Y[r+(4*i+4)>>2],n[i+2]=Y[r+(4*i+8)>>2],n[i+3]=Y[r+(4*i+12)>>2]}else n=Y.subarray(r>>2,r+16*t>>2);Ur.uniform4fv(Mr.uniforms[e],n)}},_emscripten_glUniform4i:function(e,t,r,n,i){Ur.uniform4i(Mr.uniforms[e],t,r,n,i)},_emscripten_glUniform4iv:function(e,t,r){Mr.currentContext.supportsWebGL2EntryPoints?Ur.uniform4iv(Mr.uniforms[e],z,r>>2,4*t):Ur.uniform4iv(Mr.uniforms[e],z.subarray(r>>2,r+16*t>>2))},_emscripten_glUniform4ui:function(e,t,r,n,i){Ur.uniform4ui(Mr.uniforms[e],t,r,n,i)},_emscripten_glUniformBlockBinding:function(e,t,r){e=Mr.programs[e],Ur.uniformBlockBinding(e,t,r)},_emscripten_glUniformMatrix2fv:function(e,t,r,n){if(Mr.currentContext.supportsWebGL2EntryPoints)Ur.uniformMatrix2fv(Mr.uniforms[e],!!r,Y,n>>2,4*t);else{var i;if(4*t<=Mr.MINI_TEMP_BUFFER_SIZE){i=Mr.miniTempBufferViews[4*t-1];for(var o=0;o<4*t;o+=4)i[o]=Y[n+4*o>>2],i[o+1]=Y[n+(4*o+4)>>2],i[o+2]=Y[n+(4*o+8)>>2],i[o+3]=Y[n+(4*o+12)>>2]}else i=Y.subarray(n>>2,n+16*t>>2);Ur.uniformMatrix2fv(Mr.uniforms[e],!!r,i)}},_emscripten_glUniformMatrix3fv:function(e,t,r,n){if(Mr.currentContext.supportsWebGL2EntryPoints)Ur.uniformMatrix3fv(Mr.uniforms[e],!!r,Y,n>>2,9*t);else{var i;if(9*t<=Mr.MINI_TEMP_BUFFER_SIZE){i=Mr.miniTempBufferViews[9*t-1];for(var o=0;o<9*t;o+=9)i[o]=Y[n+4*o>>2],i[o+1]=Y[n+(4*o+4)>>2],i[o+2]=Y[n+(4*o+8)>>2],i[o+3]=Y[n+(4*o+12)>>2],i[o+4]=Y[n+(4*o+16)>>2],i[o+5]=Y[n+(4*o+20)>>2],i[o+6]=Y[n+(4*o+24)>>2],i[o+7]=Y[n+(4*o+28)>>2],i[o+8]=Y[n+(4*o+32)>>2]}else i=Y.subarray(n>>2,n+36*t>>2);Ur.uniformMatrix3fv(Mr.uniforms[e],!!r,i)}},_emscripten_glUniformMatrix4fv:function(e,t,r,n){if(Mr.currentContext.supportsWebGL2EntryPoints)Ur.uniformMatrix4fv(Mr.uniforms[e],!!r,Y,n>>2,16*t);else{var i;if(16*t<=Mr.MINI_TEMP_BUFFER_SIZE){i=Mr.miniTempBufferViews[16*t-1];for(var o=0;o<16*t;o+=16)i[o]=Y[n+4*o>>2],i[o+1]=Y[n+(4*o+4)>>2],i[o+2]=Y[n+(4*o+8)>>2],i[o+3]=Y[n+(4*o+12)>>2],i[o+4]=Y[n+(4*o+16)>>2],i[o+5]=Y[n+(4*o+20)>>2],i[o+6]=Y[n+(4*o+24)>>2],i[o+7]=Y[n+(4*o+28)>>2],i[o+8]=Y[n+(4*o+32)>>2],i[o+9]=Y[n+(4*o+36)>>2],i[o+10]=Y[n+(4*o+40)>>2],i[o+11]=Y[n+(4*o+44)>>2],i[o+12]=Y[n+(4*o+48)>>2],i[o+13]=Y[n+(4*o+52)>>2],i[o+14]=Y[n+(4*o+56)>>2],i[o+15]=Y[n+(4*o+60)>>2]}else i=Y.subarray(n>>2,n+64*t>>2);Ur.uniformMatrix4fv(Mr.uniforms[e],!!r,i)}},_emscripten_glUseProgram:function(e){Ur.useProgram(e?Mr.programs[e]:null)},_emscripten_glValidateProgram:function(e){Ur.validateProgram(Mr.programs[e])},_emscripten_glVertexAttrib1f:function(e,t){Ur.vertexAttrib1f(e,t)},_emscripten_glVertexAttrib1fv:function(e,t){Ur.vertexAttrib1f(e,Y[t>>2])},_emscripten_glVertexAttrib2f:function(e,t,r){Ur.vertexAttrib2f(e,t,r)},_emscripten_glVertexAttrib2fv:function(e,t){Ur.vertexAttrib2f(e,Y[t>>2],Y[t+4>>2])},_emscripten_glVertexAttrib3f:function(e,t,r,n){Ur.vertexAttrib3f(e,t,r,n)},_emscripten_glVertexAttrib3fv:function(e,t){Ur.vertexAttrib3f(e,Y[t>>2],Y[t+4>>2],Y[t+8>>2])},_emscripten_glVertexAttrib4f:function(e,t,r,n,i){Ur.vertexAttrib4f(e,t,r,n,i)},_emscripten_glVertexAttrib4fv:function(e,t){Ur.vertexAttrib4f(e,Y[t>>2],Y[t+4>>2],Y[t+8>>2],Y[t+12>>2])},_emscripten_glVertexAttribDivisor:function(e,t){Ur.vertexAttribDivisor(e,t)},_emscripten_glVertexAttribI1i:function(){y("missing function: emscripten_glVertexAttribI1i"),un(-1)},_emscripten_glVertexAttribI1iv:function(){y("missing function: emscripten_glVertexAttribI1iv"),un(-1)},_emscripten_glVertexAttribI1ui:function(){y("missing function: emscripten_glVertexAttribI1ui"),un(-1)},_emscripten_glVertexAttribI1uiv:function(){y("missing function: emscripten_glVertexAttribI1uiv"),un(-1)},_emscripten_glVertexAttribI2i:function(){y("missing function: emscripten_glVertexAttribI2i"),un(-1)},_emscripten_glVertexAttribI2iv:function(){y("missing function: emscripten_glVertexAttribI2iv"),un(-1)},_emscripten_glVertexAttribI2ui:function(){y("missing function: emscripten_glVertexAttribI2ui"),un(-1)},_emscripten_glVertexAttribI2uiv:function(){y("missing function: emscripten_glVertexAttribI2uiv"),un(-1)},_emscripten_glVertexAttribI3i:function(){y("missing function: emscripten_glVertexAttribI3i"),un(-1)},_emscripten_glVertexAttribI3iv:function(){y("missing function: emscripten_glVertexAttribI3iv"),un(-1)},_emscripten_glVertexAttribI3ui:function(){y("missing function: emscripten_glVertexAttribI3ui"),un(-1)},_emscripten_glVertexAttribI3uiv:function(){y("missing function: emscripten_glVertexAttribI3uiv"),un(-1)},_emscripten_glVertexAttribI4bv:function(){y("missing function: emscripten_glVertexAttribI4bv"),un(-1)},_emscripten_glVertexAttribI4i:function(e,t,r,n,i){Ur.vertexAttribI4i(e,t,r,n,i)},_emscripten_glVertexAttribI4iv:function(e,t){Ur.vertexAttribI4i(e,z[t>>2],z[t+4>>2],z[t+8>>2],z[t+12>>2])},_emscripten_glVertexAttribI4sv:function(){y("missing function: emscripten_glVertexAttribI4sv"),un(-1)},_emscripten_glVertexAttribI4ubv:function(){y("missing function: emscripten_glVertexAttribI4ubv"),un(-1)},_emscripten_glVertexAttribI4ui:function(e,t,r,n,i){Ur.vertexAttribI4ui(e,t,r,n,i)},_emscripten_glVertexAttribI4uiv:function(e,t){Ur.vertexAttribI4ui(e,$[t>>2],$[t+4>>2],$[t+8>>2],$[t+12>>2])},_emscripten_glVertexAttribI4usv:function(){y("missing function: emscripten_glVertexAttribI4usv"),un(-1)},_emscripten_glVertexAttribIPointer:function(e,t,r,n,i){Ur.vertexAttribIPointer(e,t,r,n,i)},_emscripten_glVertexAttribPointer:function(e,t,r,n,i,o){Ur.vertexAttribPointer(e,t,r,!!n,i,o)},_emscripten_glVertexPointer:function(){throw"Legacy GL function (glVertexPointer) called. If you want legacy GL emulation, you need to compile with -s LEGACY_GL_EMULATION=1 to enable legacy GL emulation."},_emscripten_glViewport:function(e,t,r,n){Ur.viewport(e,t,r,n)},_emscripten_memcpy_big:function(e,t,r){return j.set(j.subarray(t,t+r),e),e},_emscripten_set_main_loop:wr,_emscripten_set_main_loop_timing:br,_glActiveTexture:function(e){Ur.activeTexture(e)},_glAttachShader:function(e,t){Ur.attachShader(Mr.programs[e],Mr.shaders[t])},_glBindBuffer:function(e,t){var r=t?Mr.buffers[t]:null;35051==e?Ur.currentPixelPackBufferBinding=t:35052==e&&(Ur.currentPixelUnpackBufferBinding=t),Ur.bindBuffer(e,r)},_glBindBufferRange:function(e,t,r,n,i){var o=r?Mr.buffers[r]:null;Ur.bindBufferRange(e,t,o,n,i)},_glBindFramebuffer:function(e,t){Ur.bindFramebuffer(e,t?Mr.framebuffers[t]:null)},_glBindRenderbuffer:function(e,t){Ur.bindRenderbuffer(e,t?Mr.renderbuffers[t]:null)},_glBindSampler:function(e,t){Ur.bindSampler(e,t?Mr.samplers[t]:null)},_glBindTexture:function(e,t){Ur.bindTexture(e,t?Mr.textures[t]:null)},_glBindVertexArray:function(e){Ur.bindVertexArray(Mr.vaos[e])},_glBlendEquationSeparate:function(e,t){Ur.blendEquationSeparate(e,t)},_glBlendFuncSeparate:function(e,t,r,n){Ur.blendFuncSeparate(e,t,r,n)},_glBlitFramebuffer:function(e,t,r,n,i,o,a,s,u,c){Ur.blitFramebuffer(e,t,r,n,i,o,a,s,u,c)},_glBufferData:function(e,t,r,n){if(r){if(Mr.currentContext.supportsWebGL2EntryPoints)return void Ur.bufferData(e,j,n,r,t);Ur.bufferData(e,j.subarray(r,r+t),n)}else Ur.bufferData(e,t,n)},_glBufferSubData:function(e,t,r,n){Mr.currentContext.supportsWebGL2EntryPoints?Ur.bufferSubData(e,t,j,n,r):Ur.bufferSubData(e,t,j.subarray(n,n+r))},_glClear:function(e){Ur.clear(e)},_glClearColor:function(e,t,r,n){Ur.clearColor(e,t,r,n)},_glClearDepthf:function(e){Ur.clearDepth(e)},_glClearStencil:function(e){Ur.clearStencil(e)},_glColorMask:function(e,t,r,n){Ur.colorMask(!!e,!!t,!!r,!!n)},_glCompileShader:function(e){Ur.compileShader(Mr.shaders[e])},_glCompressedTexSubImage2D:function(e,t,r,n,i,o,a,s,u){Mr.currentContext.supportsWebGL2EntryPoints?Ur.compressedTexSubImage2D(e,t,r,n,i,o,a,j,u,s):Ur.compressedTexSubImage2D(e,t,r,n,i,o,a,u?j.subarray(u,u+s):null)},_glCreateProgram:function(){var e=Mr.getNewId(Mr.programs),t=Ur.createProgram();return t.name=e,Mr.programs[e]=t,e},_glCreateShader:function(e){var t=Mr.getNewId(Mr.shaders);return Mr.shaders[t]=Ur.createShader(e),t},_glCullFace:function(e){Ur.cullFace(e)},_glDeleteBuffers:function(e,t){for(var r=0;r<e;r++){var n=z[t+4*r>>2],i=Mr.buffers[n];i&&(Ur.deleteBuffer(i),i.name=0,Mr.buffers[n]=null,n==Mr.currArrayBuffer&&(Mr.currArrayBuffer=0),n==Mr.currElementArrayBuffer&&(Mr.currElementArrayBuffer=0))}},_glDeleteFramebuffers:function(e,t){for(var r=0;r<e;++r){var n=z[t+4*r>>2],i=Mr.framebuffers[n];i&&(Ur.deleteFramebuffer(i),i.name=0,Mr.framebuffers[n]=null)}},_glDeleteProgram:function(e){if(e){var t=Mr.programs[e];t?(Ur.deleteProgram(t),t.name=0,Mr.programs[e]=null,Mr.programInfos[e]=null):Mr.recordError(1281)}},_glDeleteRenderbuffers:function(e,t){for(var r=0;r<e;r++){var n=z[t+4*r>>2],i=Mr.renderbuffers[n];i&&(Ur.deleteRenderbuffer(i),i.name=0,Mr.renderbuffers[n]=null)}},_glDeleteSamplers:function(e,t){for(var r=0;r<e;r++){var n=z[t+4*r>>2],i=Mr.samplers[n];i&&(Ur.deleteSampler(i),i.name=0,Mr.samplers[n]=null)}},_glDeleteShader:function(e){if(e){var t=Mr.shaders[e];t?(Ur.deleteShader(t),Mr.shaders[e]=null):Mr.recordError(1281)}},_glDeleteSync:function(e){if(e){var t=Mr.syncs[e];t?(Ur.deleteSync(t),t.name=0,Mr.syncs[e]=null):Mr.recordError(1281)}},_glDeleteTextures:function(e,t){for(var r=0;r<e;r++){var n=z[t+4*r>>2],i=Mr.textures[n];i&&(Ur.deleteTexture(i),i.name=0,Mr.textures[n]=null)}},_glDeleteVertexArrays:function(e,t){for(var r=0;r<e;r++){var n=z[t+4*r>>2];Ur.deleteVertexArray(Mr.vaos[n]),Mr.vaos[n]=null}},_glDepthFunc:function(e){Ur.depthFunc(e)},_glDepthMask:function(e){Ur.depthMask(!!e)},_glDetachShader:function(e,t){Ur.detachShader(Mr.programs[e],Mr.shaders[t])},_glDisable:function(e){Ur.disable(e)},_glDisableVertexAttribArray:function(e){Ur.disableVertexAttribArray(e)},_glDrawArrays:function(e,t,r){Ur.drawArrays(e,t,r)},_glDrawRangeElements:function(e,t,r,n,i,o){xr(e,n,i,o)},_glEnable:function(e){Ur.enable(e)},_glEnableVertexAttribArray:function(e){Ur.enableVertexAttribArray(e)},_glFenceSync:function(e,t){var r=Ur.fenceSync(e,t);if(r){var n=Mr.getNewId(Mr.syncs);return r.name=n,Mr.syncs[n]=r,n}return 0},_glFlush:function(){Ur.flush()},_glFramebufferRenderbuffer:function(e,t,r,n){Ur.framebufferRenderbuffer(e,t,r,Mr.renderbuffers[n])},_glFramebufferTexture2D:function(e,t,r,n,i){Ur.framebufferTexture2D(e,t,r,Mr.textures[n],i)},_glFrontFace:function(e){Ur.frontFace(e)},_glGenBuffers:function(e,t){for(var r=0;r<e;r++){var n=Ur.createBuffer();if(!n){for(Mr.recordError(1282);r<e;)z[t+4*r++>>2]=0;return}var i=Mr.getNewId(Mr.buffers);n.name=i,Mr.buffers[i]=n,z[t+4*r>>2]=i}},_glGenFramebuffers:function(e,t){for(var r=0;r<e;++r){var n=Ur.createFramebuffer();if(!n){for(Mr.recordError(1282);r<e;)z[t+4*r++>>2]=0;return}var i=Mr.getNewId(Mr.framebuffers);n.name=i,Mr.framebuffers[i]=n,z[t+4*r>>2]=i}},_glGenRenderbuffers:function(e,t){for(var r=0;r<e;r++){var n=Ur.createRenderbuffer();if(!n){for(Mr.recordError(1282);r<e;)z[t+4*r++>>2]=0;return}var i=Mr.getNewId(Mr.renderbuffers);n.name=i,Mr.renderbuffers[i]=n,z[t+4*r>>2]=i}},_glGenSamplers:function(e,t){for(var r=0;r<e;r++){var n=Ur.createSampler();if(!n){for(Mr.recordError(1282);r<e;)z[t+4*r++>>2]=0;return}var i=Mr.getNewId(Mr.samplers);n.name=i,Mr.samplers[i]=n,z[t+4*r>>2]=i}},_glGenTextures:function(e,t){for(var r=0;r<e;r++){var n=Ur.createTexture();if(!n){for(Mr.recordError(1282);r<e;)z[t+4*r++>>2]=0;return}var i=Mr.getNewId(Mr.textures);n.name=i,Mr.textures[i]=n,z[t+4*r>>2]=i}},_glGenVertexArrays:function(e,t){for(var r=0;r<e;r++){var n=Ur.createVertexArray();if(!n){for(Mr.recordError(1282);r<e;)z[t+4*r++>>2]=0;return}var i=Mr.getNewId(Mr.vaos);n.name=i,Mr.vaos[i]=n,z[t+4*r>>2]=i}},_glGenerateMipmap:function(e){Ur.generateMipmap(e)},_glGetError:function(){if(Mr.lastError){var e=Mr.lastError;return Mr.lastError=0,e}return Ur.getError()},_glGetFloatv:function(e,t){Ar(e,t,"Float")},_glGetIntegerv:function(e,t){Ar(e,t,"Integer")},_glGetProgramInfoLog:function(e,t,r,n){var i=Ur.getProgramInfoLog(Mr.programs[e]);if(null===i&&(i="(unknown error)"),t>0&&n){var o=O(i,n,t);r&&(z[r>>2]=o)}else r&&(z[r>>2]=0)},_glGetProgramiv:function(e,t,r){if(r)if(e>=Mr.counter)Mr.recordError(1281);else{var n=Mr.programInfos[e];if(n)if(35716==t){var i=Ur.getProgramInfoLog(Mr.programs[e]);null===i&&(i="(unknown error)"),z[r>>2]=i.length+1}else if(35719==t)z[r>>2]=n.maxUniformLength;else if(35722==t){if(-1==n.maxAttributeLength){e=Mr.programs[e];var o=Ur.getProgramParameter(e,Ur.ACTIVE_ATTRIBUTES);n.maxAttributeLength=0;for(var a=0;a<o;++a){var s=Ur.getActiveAttrib(e,a);n.maxAttributeLength=Math.max(n.maxAttributeLength,s.name.length+1)}}z[r>>2]=n.maxAttributeLength}else if(35381==t){if(-1==n.maxUniformBlockNameLength){e=Mr.programs[e];var u=Ur.getProgramParameter(e,Ur.ACTIVE_UNIFORM_BLOCKS);for(n.maxUniformBlockNameLength=0,a=0;a<u;++a){var c=Ur.getActiveUniformBlockName(e,a);n.maxUniformBlockNameLength=Math.max(n.maxUniformBlockNameLength,c.length+1)}}z[r>>2]=n.maxUniformBlockNameLength}else z[r>>2]=Ur.getProgramParameter(Mr.programs[e],t);else Mr.recordError(1282)}else Mr.recordError(1281)},_glGetShaderInfoLog:function(e,t,r,n){var i=Ur.getShaderInfoLog(Mr.shaders[e]);if(null===i&&(i="(unknown error)"),t>0&&n){var o=O(i,n,t);r&&(z[r>>2]=o)}else r&&(z[r>>2]=0)},_glGetShaderiv:function(e,t,r){if(r)if(35716==t){var n=Ur.getShaderInfoLog(Mr.shaders[e]);null===n&&(n="(unknown error)"),z[r>>2]=n.length+1}else if(35720==t){var i=Ur.getShaderSource(Mr.shaders[e]),o=null===i||0==i.length?0:i.length+1;z[r>>2]=o}else z[r>>2]=Ur.getShaderParameter(Mr.shaders[e],t);else Mr.recordError(1281)},_glGetString:function(e){if(Mr.stringCache[e])return Mr.stringCache[e];var t;switch(e){case 7936:case 7937:case 37445:case 37446:t=I(qr(Ur.getParameter(e)),"i8",S);break;case 7938:var r=Ur.getParameter(Ur.VERSION);t=I(qr(r=Ur.canvas.GLctxObject.version>=2?"OpenGL ES 3.0 ("+r+")":"OpenGL ES 2.0 ("+r+")"),"i8",S);break;case 7939:for(var n=Ur.getSupportedExtensions(),i=[],o=0;o<n.length;++o)i.push(n[o]),i.push("GL_"+n[o]);t=I(qr(i.join(" ")),"i8",S);break;case 35724:var a=Ur.getParameter(Ur.SHADING_LANGUAGE_VERSION),s=a.match(/^WebGL GLSL ES ([0-9]\.[0-9][0-9]?)(?:$| .*)/);null!==s&&(3==s[1].length&&(s[1]=s[1]+"0"),a="OpenGL ES GLSL ES "+s[1]+" ("+a+")"),t=I(qr(a),"i8",S);break;default:return Mr.recordError(1280),0}return Mr.stringCache[e]=t,t},_glGetStringi:function(e,t){if(Ur.canvas.GLctxObject.version<2)return Mr.recordError(1282),0;var r=Mr.stringiCache[e];if(r)return t<0||t>=r.length?(Mr.recordError(1281),0):r[t];switch(e){case 7939:for(var n=Ur.getSupportedExtensions(),i=[],o=0;o<n.length;++o)i.push(I(qr(n[o]),"i8",S)),i.push(I(qr("GL_"+n[o]),"i8",S));return r=Mr.stringiCache[e]=i,t<0||t>=r.length?(Mr.recordError(1281),0):r[t];default:return Mr.recordError(1280),0}},_glGetUniformBlockIndex:function(e,t){return e=Mr.programs[e],t=L(t),Ur.getUniformBlockIndex(e,t)},_glGetUniformLocation:function(e,t){var r=0;if(-1!==(t=L(t)).indexOf("]",t.length-1)){var n=t.lastIndexOf("["),i=t.slice(n+1,-1);if(i.length>0&&(r=parseInt(i))<0)return-1;t=t.slice(0,n)}var o=Mr.programInfos[e];if(!o)return-1;var a=o.uniforms[t];return a&&r<a[0]?a[1]+r:-1},_glGetVertexAttribiv:function(e,t,r){Sr(e,t,r,"FloatToInteger")},_glHint:function(e,t){Ur.hint(e,t)},_glInvalidateFramebuffer:function(e,t,r){for(var n=Mr.tempFixedLengthArray[t],i=0;i<t;i++)n[i]=z[r+4*i>>2];Ur.invalidateFramebuffer(e,n)},_glInvalidateSubFramebuffer:function(e,t,r,n,i,o,a){for(var s=Mr.tempFixedLengthArray[t],u=0;u<t;u++)s[u]=z[r+4*u>>2];Ur.invalidateSubFramebuffer(e,s,n,i,o,a)},_glIsEnabled:function(e){return Ur.isEnabled(e)},_glLinkProgram:function(e){Ur.linkProgram(Mr.programs[e]),Mr.programInfos[e]=null,Mr.populateUniformTable(e)},_glPixelStorei:function(e,t){3333==e?Mr.packAlignment=t:3317==e&&(Mr.unpackAlignment=t),Ur.pixelStorei(e,t)},_glPolygonOffset:function(e,t){Ur.polygonOffset(e,t)},_glReadPixels:function(e,t,r,n,i,o,a){if(Mr.currentContext.supportsWebGL2EntryPoints)Ur.currentPixelPackBufferBinding?Ur.readPixels(e,t,r,n,i,o,a):Ur.readPixels(e,t,r,n,i,o,Ir(o),a>>Lr(o));else{var s=Cr(o,i,r,n,a);s?Ur.readPixels(e,t,r,n,i,o,s):Mr.recordError(1280)}},_glRenderbufferStorage:function(e,t,r,n){Ur.renderbufferStorage(e,t,r,n)},_glRenderbufferStorageMultisample:function(e,t,r,n,i){Ur.renderbufferStorageMultisample(e,t,r,n,i)},_glSamplerParameteri:function(e,t,r){Ur.samplerParameteri(e?Mr.samplers[e]:null,t,r)},_glScissor:function(e,t,r,n){Ur.scissor(e,t,r,n)},_glShaderSource:function(e,t,r,n){var i=Mr.getSource(e,t,r,n);Ur.shaderSource(Mr.shaders[e],i)},_glTexParameteri:function(e,t,r){Ur.texParameteri(e,t,r)},_glTexStorage2D:function(e,t,r,n,i){Ur.texStorage2D(e,t,r,n,i)},_glTexStorage2DMultisample:function(){y("missing function: glTexStorage2DMultisample"),un(-1)},_glTexStorage3D:function(e,t,r,n,i,o){Ur.texStorage3D(e,t,r,n,i,o)},_glTexSubImage2D:function(e,t,r,n,i,o,a,s,u){if(Mr.currentContext.supportsWebGL2EntryPoints)Ur.currentPixelUnpackBufferBinding?Ur.texSubImage2D(e,t,r,n,i,o,a,s,u):0!=u?Ur.texSubImage2D(e,t,r,n,i,o,a,s,Ir(s),u>>Lr(s)):Ur.texSubImage2D(e,t,r,n,i,o,a,s,null);else{var c=null;u&&(c=Cr(s,a,i,o,u)),Ur.texSubImage2D(e,t,r,n,i,o,a,s,c)}},_glUniform1f:function(e,t){Ur.uniform1f(Mr.uniforms[e],t)},_glUniform1i:function(e,t){Ur.uniform1i(Mr.uniforms[e],t)},_glUniform4f:function(e,t,r,n,i){Ur.uniform4f(Mr.uniforms[e],t,r,n,i)},_glUniformBlockBinding:function(e,t,r){e=Mr.programs[e],Ur.uniformBlockBinding(e,t,r)},_glUseProgram:function(e){Ur.useProgram(e?Mr.programs[e]:null)},_glVertexAttribIPointer:function(e,t,r,n,i){Ur.vertexAttribIPointer(e,t,r,n,i)},_glVertexAttribPointer:function(e,t,r,n,i,o){Ur.vertexAttribPointer(e,t,r,!!n,i,o)},_glViewport:function(e,t,r,n){Ur.viewport(e,t,r,n)},_glWaitSync:function(e,t,r,n){n>>>=0;var i,o,a=4294967295==(r>>>=0)&&4294967295==n?-1:(i=r,o=n,+(i>>>0)+4294967296*+(o>>>0));Ur.waitSync(Mr.syncs[e],t,a)},_llvm_ceil_f32:Dr,_llvm_cttz_i32:Br,_llvm_cttz_i64:function(e,t){var r=Br(e);return 32==r&&(r+=Br(t)),0|(tn(0),r)},_llvm_exp2_f32:Fr,_llvm_exp2_f64:function(){return Fr.apply(null,arguments)},_llvm_fabs_f32:Rr,_llvm_floor_f32:Or,_llvm_log2_f32:function(e){return Math.log(e)/Math.LN2},_llvm_trap:function(){un("trap!")},_pthread_cond_destroy:function(){return 0},_pthread_cond_signal:function(){return 0},_pthread_cond_timedwait:function(){return 0},_pthread_cond_wait:function(){return 0},_pthread_create:function(){return 11},_pthread_getspecific:function(e){return Nr[e]||0},_pthread_join:function(){},_pthread_key_create:function(e,t){return 0==e?Be.EINVAL:(z[e>>2]=Vr,Nr[Vr]=0,Vr++,0)},_pthread_mutex_destroy:function(){},_pthread_once:function e(t,r){e.seen||(e.seen={}),t in e.seen||(s.dynCall_v(r),e.seen[t]=1)},_pthread_setspecific:function(e,t){return e in Nr?(Nr[e]=t,0):Be.EINVAL},_sysconf:function(e){switch(e){case 30:return te;case 85:return 2147418112/te;case 132:case 133:case 12:case 137:case 138:case 15:case 235:case 16:case 17:case 18:case 19:case 20:case 149:case 13:case 10:case 236:case 153:case 9:case 21:case 22:case 159:case 154:case 14:case 77:case 78:case 139:case 80:case 81:case 82:case 68:case 67:case 164:case 11:case 29:case 47:case 48:case 95:case 52:case 51:case 46:return 200809;case 79:return 0;case 27:case 246:case 127:case 128:case 23:case 24:case 160:case 161:case 181:case 182:case 242:case 183:case 184:case 243:case 244:case 245:case 165:case 178:case 179:case 49:case 50:case 168:case 169:case 175:case 170:case 171:case 172:case 97:case 76:case 32:case 173:case 35:return-1;case 176:case 177:case 7:case 155:case 8:case 157:case 125:case 126:case 92:case 93:case 129:case 130:case 131:case 94:case 91:return 1;case 74:case 60:case 69:case 70:case 4:return 1024;case 31:case 42:case 72:return 32;case 87:case 26:case 33:return 2147483647;case 34:case 1:return 47839;case 38:case 36:return 99;case 43:case 37:return 2048;case 0:return 2097152;case 3:return 65536;case 28:return 32768;case 44:return 32767;case 75:return 16384;case 39:return 1e3;case 89:return 700;case 71:return 256;case 40:return 255;case 2:return 100;case 180:return 64;case 25:return 20;case 5:return 16;case 6:return 6;case 73:return 4;case 84:return"object"==typeof navigator&&navigator.hardwareConcurrency||1}return Re(Be.EINVAL),-1},constNoSmartPtrRawPointerToWireType:Ct,count_emval_handles:ar,craftInvokerFunction:er,createNamedFunction:et,downcastPointer:Rt,embind__requireFunction:Xt,embind_init_charCodes:at,emscriptenWebGLComputeImageSize:Pr,emscriptenWebGLGet:Ar,emscriptenWebGLGetHeapForType:Ir,emscriptenWebGLGetIndexed:Tr,emscriptenWebGLGetShiftForType:Lr,emscriptenWebGLGetTexPixelData:Cr,emscriptenWebGLGetUniform:kr,emscriptenWebGLGetVertexAttrib:Sr,ensureOverloadTable:Tt,enumReadValueFromPointer:fr,exposePublicSymbol:kt,extendError:tt,floatReadValueFromPointer:hr,flushPendingDeletes:wt,genericPointerToWireType:It,getBasestPointer:jt,getInheritedInstance:qt,getInheritedInstanceCount:Ot,getLiveInheritedInstances:Nt,getShiftFromSize:ot,getStringOrSymbol:vr,getTypeName:Qt,get_first_emval:sr,heap32VectorToArray:tr,init_ClassHandle:Mt,init_RegisteredPointer:$t,init_embind:Vt,init_emval:ur,integerReadValueFromPointer:mr,makeClassHandle:Wt,makeLegalFunctionName:Je,new_:Jt,nonConstNoSmartPtrRawPointerToWireType:Lt,readLatin1String:ut,registerType:lt,replacePublicSymbol:Ht,requireHandle:pr,requireRegisteredType:lr,runDestructor:gt,runDestructors:$e,setDelayFunction:Ut,shallowCopyInternalPointer:ht,simpleReadValueFromPointer:Ye,throwBindingError:ft,throwInstanceAlreadyDeleted:mt,throwInternalError:nt,throwUnboundTypeError:Zt,upcastPointer:Pt,validateThis:rr,whenDependentTypesAreResolved:it,DYNAMICTOP_PTR:ee,tempDoublePtr:Ie,ABORT:A,STACKTOP:Q,STACK_MAX:Z};var Wr=s.asm(s.asmGlobalArg,s.asmLibraryArg,V);s.asm=Wr;var zr=s.__GLOBAL__sub_I_Engine_cpp=function(){return s.asm.__GLOBAL__sub_I_Engine_cpp.apply(null,arguments)},$r=s.__GLOBAL__sub_I_bind_cpp=function(){return s.asm.__GLOBAL__sub_I_bind_cpp.apply(null,arguments)},Yr=s.__GLOBAL__sub_I_gl_headers_cpp=function(){return s.asm.__GLOBAL__sub_I_gl_headers_cpp.apply(null,arguments)},Hr=s.__GLOBAL__sub_I_jsbindings_cpp=function(){return s.asm.__GLOBAL__sub_I_jsbindings_cpp.apply(null,arguments)},Xr=s.__GLOBAL__sub_I_jsenums_cpp=function(){return s.asm.__GLOBAL__sub_I_jsenums_cpp.apply(null,arguments)},Kr=(s.___errno_location=function(){return s.asm.___errno_location.apply(null,arguments)},s.___getTypeName=function(){return s.asm.___getTypeName.apply(null,arguments)}),Qr=s._emscripten_GetProcAddress=function(){return s.asm._emscripten_GetProcAddress.apply(null,arguments)},Zr=s._emscripten_replace_memory=function(){return s.asm._emscripten_replace_memory.apply(null,arguments)},Jr=s._free=function(){return s.asm._free.apply(null,arguments)},en=(s._llvm_bswap_i32=function(){return s.asm._llvm_bswap_i32.apply(null,arguments)},s._llvm_ctpop_i32=function(){return s.asm._llvm_ctpop_i32.apply(null,arguments)},s._llvm_ctpop_i64=function(){return s.asm._llvm_ctpop_i64.apply(null,arguments)},s._malloc=function(){return s.asm._malloc.apply(null,arguments)}),tn=(s._memcpy=function(){return s.asm._memcpy.apply(null,arguments)},s._memmove=function(){return s.asm._memmove.apply(null,arguments)},s._memset=function(){return s.asm._memset.apply(null,arguments)},s._pthread_cond_broadcast=function(){return s.asm._pthread_cond_broadcast.apply(null,arguments)},s._pthread_mutex_lock=function(){return s.asm._pthread_mutex_lock.apply(null,arguments)},s._pthread_mutex_unlock=function(){return s.asm._pthread_mutex_unlock.apply(null,arguments)},s._sbrk=function(){return s.asm._sbrk.apply(null,arguments)},s._strstr=function(){return s.asm._strstr.apply(null,arguments)},s.establishStackSpace=function(){return s.asm.establishStackSpace.apply(null,arguments)},s.getTempRet0=function(){return s.asm.getTempRet0.apply(null,arguments)},s.runPostSets=function(){return s.asm.runPostSets.apply(null,arguments)},s.setTempRet0=function(){return s.asm.setTempRet0.apply(null,arguments)}),rn=(s.setThrew=function(){return s.asm.setThrew.apply(null,arguments)},s.stackAlloc=function(){return s.asm.stackAlloc.apply(null,arguments)}),nn=s.stackRestore=function(){return s.asm.stackRestore.apply(null,arguments)},on=s.stackSave=function(){return s.asm.stackSave.apply(null,arguments)};s.dynCall_fi=function(){return s.asm.dynCall_fi.apply(null,arguments)},s.dynCall_fii=function(){return s.asm.dynCall_fii.apply(null,arguments)},s.dynCall_i=function(){return s.asm.dynCall_i.apply(null,arguments)},s.dynCall_ii=function(){return s.asm.dynCall_ii.apply(null,arguments)},s.dynCall_iif=function(){return s.asm.dynCall_iif.apply(null,arguments)},s.dynCall_iiff=function(){return s.asm.dynCall_iiff.apply(null,arguments)},s.dynCall_iii=function(){return s.asm.dynCall_iii.apply(null,arguments)},s.dynCall_iiif=function(){return s.asm.dynCall_iiif.apply(null,arguments)},s.dynCall_iiiff=function(){return s.asm.dynCall_iiiff.apply(null,arguments)},s.dynCall_iiii=function(){return s.asm.dynCall_iiii.apply(null,arguments)},s.dynCall_iiiii=function(){return s.asm.dynCall_iiiii.apply(null,arguments)},s.dynCall_iiiiii=function(){return s.asm.dynCall_iiiiii.apply(null,arguments)},s.dynCall_iiiiiii=function(){return s.asm.dynCall_iiiiiii.apply(null,arguments)},s.dynCall_iiiiiiii=function(){return s.asm.dynCall_iiiiiiii.apply(null,arguments)},s.dynCall_iiij=function(){return s.asm.dynCall_iiij.apply(null,arguments)},s.dynCall_jii=function(){return s.asm.dynCall_jii.apply(null,arguments)},s.dynCall_v=function(){return s.asm.dynCall_v.apply(null,arguments)},s.dynCall_vd=function(){return s.asm.dynCall_vd.apply(null,arguments)},s.dynCall_vdd=function(){return s.asm.dynCall_vdd.apply(null,arguments)},s.dynCall_vdddddd=function(){return s.asm.dynCall_vdddddd.apply(null,arguments)},s.dynCall_vf=function(){return s.asm.dynCall_vf.apply(null,arguments)},s.dynCall_vff=function(){return s.asm.dynCall_vff.apply(null,arguments)},s.dynCall_vffff=function(){return s.asm.dynCall_vffff.apply(null,arguments)},s.dynCall_vfi=function(){return s.asm.dynCall_vfi.apply(null,arguments)},s.dynCall_vi=function(){return s.asm.dynCall_vi.apply(null,arguments)},s.dynCall_viddddi=function(){return s.asm.dynCall_viddddi.apply(null,arguments)},s.dynCall_vif=function(){return s.asm.dynCall_vif.apply(null,arguments)},s.dynCall_viff=function(){return s.asm.dynCall_viff.apply(null,arguments)},s.dynCall_vifff=function(){return s.asm.dynCall_vifff.apply(null,arguments)},s.dynCall_viffff=function(){return s.asm.dynCall_viffff.apply(null,arguments)},s.dynCall_vii=function(){return s.asm.dynCall_vii.apply(null,arguments)},s.dynCall_viidddddd=function(){return s.asm.dynCall_viidddddd.apply(null,arguments)},s.dynCall_viiddddi=function(){return s.asm.dynCall_viiddddi.apply(null,arguments)},s.dynCall_viif=function(){return s.asm.dynCall_viif.apply(null,arguments)},s.dynCall_viiff=function(){return s.asm.dynCall_viiff.apply(null,arguments)},s.dynCall_viifff=function(){return s.asm.dynCall_viifff.apply(null,arguments)},s.dynCall_viifi=function(){return s.asm.dynCall_viifi.apply(null,arguments)},s.dynCall_viii=function(){return s.asm.dynCall_viii.apply(null,arguments)},s.dynCall_viiidddddd=function(){return s.asm.dynCall_viiidddddd.apply(null,arguments)},s.dynCall_viiif=function(){return s.asm.dynCall_viiif.apply(null,arguments)},s.dynCall_viiii=function(){return s.asm.dynCall_viiii.apply(null,arguments)},s.dynCall_viiiii=function(){return s.asm.dynCall_viiiii.apply(null,arguments)},s.dynCall_viiiiii=function(){return s.asm.dynCall_viiiiii.apply(null,arguments)},s.dynCall_viiiiiii=function(){return s.asm.dynCall_viiiiiii.apply(null,arguments)},s.dynCall_viiiiiiii=function(){return s.asm.dynCall_viiiiiiii.apply(null,arguments)},s.dynCall_viiiiiiiii=function(){return s.asm.dynCall_viiiiiiiii.apply(null,arguments)},s.dynCall_viiiiiiiiii=function(){return s.asm.dynCall_viiiiiiiiii.apply(null,arguments)},s.dynCall_viiiiiiiiiii=function(){return s.asm.dynCall_viiiiiiiiiii.apply(null,arguments)},s.dynCall_vij=function(){return s.asm.dynCall_vij.apply(null,arguments)};function an(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function sn(e){function t(){s.calledRun||(s.calledRun=!0,A||(ve||(ve=!0,le(he)),le(me),s.onRuntimeInitialized&&s.onRuntimeInitialized(),function(){if(s.postRun)for("function"==typeof s.postRun&&(s.postRun=[s.postRun]);s.postRun.length;)e=s.postRun.shift(),ge.unshift(e);var e;le(ge)}()))}e=e||s.arguments,Me>0||(!function(){if(s.preRun)for("function"==typeof s.preRun&&(s.preRun=[s.preRun]);s.preRun.length;)e=s.preRun.shift(),de.unshift(e);var e;le(de)}(),Me>0||s.calledRun||(s.setStatus?(s.setStatus("Running..."),setTimeout(function(){setTimeout(function(){s.setStatus("")},1),t()},1)):t()))}function un(e){throw s.onAbort&&s.onAbort(e),void 0!==e?(v(e),y(e),e=JSON.stringify(e)):e="",A=!0,1,"abort("+e+"). Build with -s ASSERTIONS=1 for more info."}if(s.asm=Wr,an.prototype=new Error,an.prototype.constructor=an,Ae=function e(){s.calledRun||sn(),s.calledRun||(Ae=e)},s.run=sn,s.abort=un,s.preInit)for("function"==typeof s.preInit&&(s.preInit=[s.preInit]);s.preInit.length>0;)s.preInit.pop()();function cn(t){return("string"==typeof t||t instanceof String)&&(t=e.assets[t]),t.buffer instanceof ArrayBuffer&&(t=e.Buffer(t)),t}return s.noExitRuntime=!0,sn(),e.remainingInitializationTasks=1,e.init=function(t,r){e.onReady=r,e.remainingInitializationTasks+=t.length,e.assets={},"undefined"!=typeof glMatrix&&e.loadMathExtensions(),e.fetch(t,null,function(t){0==--e.remainingInitializationTasks&&e.onReady&&e.onReady()})},e.postRun=function(){e.loadClassExtensions(),0==--e.remainingInitializationTasks&&e.onReady&&e.onReady()},e.fetch=function(t,r,n){var i=t.length;t.forEach(function(t){const o=t.toLowerCase();if(o.endsWith(".jpeg")||o.endsWith(".jpg")){var a=new Image;return a.src=t,a.decoding="async",void(a.onload=function(){e.assets[t]=a,n&&n(t),0==--i&&r&&r()})}fetch(t).then(function(e){if(!e.ok)throw new Error(t);return e.arrayBuffer()}).then(function(o){e.assets[t]=new Uint8Array(o),n&&n(t),0==--i&&r&&r()})})},e.loadClassExtensions=function(){e.Engine.create=function(t,r){return r=Object.assign({majorVersion:2,minorVersion:0,antialias:!1,depth:!1,alpha:!1},r),e.createContext(t,!0,!0,r),e.ctx.getExtension("WEBGL_compressed_texture_s3tc"),e.ctx.getExtension("WEBGL_compressed_texture_astc"),e.ctx.getExtension("WEBGL_compressed_texture_etc"),e.Engine._create()},e.Engine.prototype.createMaterial=function(e){e=cn(e);const t=this._createMaterial(e);return e.delete(),t},e.Engine.prototype.createTextureFromKtx=function(t,r){t=cn(t);const n=e._createTextureFromKtx(t,this,r);return t.delete(),n},e.Engine.prototype.createIblFromKtx=function(t,r){t=cn(t);const n=e._createIblFromKtx(t,this,r);return t.delete(),n},e.Engine.prototype.createSkyFromKtx=function(t,r){r=r||{rgbm:!0};const n=this.createTextureFromKtx(t,r);return e.Skybox.Builder().environment(n).build(this)},e.Engine.prototype.createTextureFromPng=function(t,r){t=cn(t);const n=e._createTextureFromPng(t,this,r);return t.delete(),n},e.Engine.prototype.createTextureFromJpeg=function(t,r){return("string"==typeof t||t instanceof String)&&(t=e.assets[t]),e._createTextureFromJpeg(t,this,r)},e.Engine.prototype.loadFilamesh=function(t,r,n){t=cn(t);const i=e._loadFilamesh(this,t,r,n);return t.delete(),i},e.VertexBuffer.prototype.setBufferAt=function(e,t,r){r=cn(r),this._setBufferAt(e,t,r),r.delete()},e.IndexBuffer.prototype.setBuffer=function(e,t){t=cn(t),this._setBuffer(e,t),t.delete()},e.RenderableManager$Builder.prototype.build=e.LightManager$Builder.prototype.build=function(e,t){const r=this._build(e,t);return this.delete(),r},e.VertexBuffer$Builder.prototype.build=e.IndexBuffer$Builder.prototype.build=e.Texture$Builder.prototype.build=e.IndirectLight$Builder.prototype.build=e.Skybox$Builder.prototype.build=function(e){const t=this._build(e);return this.delete(),t},e.KtxBundle.prototype.getBlob=function(e){const t=this._getBlob(e),r=t.getBytes();return t.delete(),r},e.KtxBundle.prototype.getCubeBlob=function(e){const t=this._getCubeBlob(e),r=t.getBytes();return t.delete(),r},e.Texture.prototype.setImage=function(e,t,r){this._setImage(e,t,r),r.delete()},e.Texture.prototype.setImageCube=function(e,t,r){this._setImageCube(e,t,r),r.delete()}},e.Buffer=function(t){console.assert(t.buffer instanceof ArrayBuffer),console.assert(t.byteLength>0),e.HEAPU32.buffer==t.buffer&&(t=new Uint8Array(t));const r=t,n=new e.driver$BufferDescriptor(r),i=new Uint8Array(r.buffer,r.byteOffset,r.byteLength);return n.getBytes().set(i),n},e.PixelBuffer=function(t,r,n){console.assert(t.buffer instanceof ArrayBuffer),console.assert(t.byteLength>0),e.HEAPU32.buffer==t.buffer&&(t=new Uint8Array(t));const i=t,o=new e.driver$PixelBufferDescriptor(i,r,n),a=new Uint8Array(i.buffer,i.byteOffset,i.byteLength);return o.getBytes().set(a),o},e.CompressedPixelBuffer=function(t,r,n){console.assert(t.buffer instanceof ArrayBuffer),console.assert(t.byteLength>0),n=n||t.byteLength,e.HEAPU32.buffer==t.buffer&&(t=new Uint8Array(t));const i=t,o=new e.driver$PixelBufferDescriptor(i,r,n,!0),a=new Uint8Array(i.buffer,i.byteOffset,i.byteLength);return o.getBytes().set(a),o},e._loadFilamesh=function(t,r,n,i){i=i||{};const o=new e.MeshReader$MaterialRegistry;for(var a in i)o.set(a,i[a]);n&&o.set("DefaultMaterial",n);const s=e.MeshReader.loadMeshFromBuffer(t,r,o),u=o.keys();for(var c=0;c<u.size();c++){const e=u.get(c),t=o.get(e);i[e]=t}return{renderable:s.renderable(),vertexBuffer:s.vertexBuffer(),indexBuffer:s.indexBuffer()}},e.IcoSphere=function(e){const t=.5257311121191336,r=.8506508083520399;if(this.vertices=new Float32Array([-t,0,+r,+t,0,+r,-t,0,-r,+t,0,-r,0,+r,+t,0,+r,-t,0,-r,+t,0,-r,-t,+r,+t,0,-r,+t,0,+r,-t,0,-r,-t,0]),this.triangles=new Uint16Array([1,4,0,4,9,0,4,5,9,8,5,4,1,8,4,1,10,8,10,3,8,8,3,5,3,2,5,3,7,2,3,10,7,10,6,7,6,11,7,6,0,11,6,1,0,10,1,6,11,0,9,2,11,9,5,2,9,11,2,7]),e)for(;e-- >0;)this.subdivide();const n=this.vertices.length/3;this.tangents=new Uint16Array(4*n);for(var i=0;i<n;++i){const e=this.vertices.subarray(3*i,3*i+3),t=this.tangents.subarray(4*i,4*i+4),r=vec3.normalize(vec3.create(),e),n=vec3.cross(vec3.create(),r,[0,1,0]);vec3.normalize(n,n);const o=vec3.cross(vec3.create(),n,r),a=quat.fromMat3(quat.create(),[o[0],o[1],o[2],n[0],n[1],n[2],r[0],r[1],r[2]]);vec4.packSnorm16(t,a)}},e.IcoSphere.prototype.subdivide=function(){const e=this.triangles,t=this.vertices,r=e.length/3,n=4*r,i=t.length/3,o=i+3*r,a=new Uint16Array(3*n),s=new Float32Array(3*o);s.set(t);for(var u=0,c=0,f=3*i,l=f+3,d=l+3,h=0;h<r;h++,f+=9,l+=9,d+=9){const r=3*e[u++],n=3*e[u++],i=3*e[u++],o=t.subarray(r,r+3),h=t.subarray(n,n+3),m=t.subarray(i,i+3),p=s.subarray(f,f+3),g=s.subarray(l,l+3),v=s.subarray(d,d+3);vec3.normalize(p,vec3.add(p,o,h)),vec3.normalize(g,vec3.add(g,h,m)),vec3.normalize(v,vec3.add(v,m,o)),a[c++]=r/3,a[c++]=f/3,a[c++]=d/3,a[c++]=f/3,a[c++]=n/3,a[c++]=l/3,a[c++]=d/3,a[c++]=f/3,a[c++]=l/3,a[c++]=i/3,a[c++]=d/3,a[c++]=l/3}this.triangles=a,this.vertices=s},e.packSnorm16=function(e){return Math.round(32767*(t=e,r=-1,n=1,Math.max(Math.min(n,t),r)));var t,r,n},e.loadMathExtensions=function(){vec4.packSnorm16=function(t,r){return t[0]=e.packSnorm16(r[0]),t[1]=e.packSnorm16(r[1]),t[2]=e.packSnorm16(r[2]),t[3]=e.packSnorm16(r[3]),t};const t=mat3.fromRotation;mat3.fromRotation=function(e,r,n){return n?mat3.fromMat4(e,mat4.fromRotation(mat4.create(),r,n)):t(e,r)}},e._createTextureFromKtx=function(t,r,n){const i=(n=n||{}).ktx||new e.KtxBundle(t),o=!!n.rgbm,a=!!n.srgb;return e.KtxUtility$createTexture(r,i,a,o)},e._createIblFromKtx=function(t,r,n){const i=(n=n||{rgbm:!0}).ktx=new e.KtxBundle(t),o=e._createTextureFromKtx(t,r,n),a=i.getMetadata("sh").split(/\s/,27).map(parseFloat);return e.IndirectLight.Builder().reflections(o).irradianceSh(3,a).build(r)},e._createTextureFromPng=function(t,r,n){const i=e.Texture$Sampler,o=e.Texture$InternalFormat,a=e.PixelDataFormat,s=!!(n=n||{}).srgb,u=!!n.rgbm,c=!!n.noalpha,f=!!n.nomips,l=e.decodePng(t,c?3:4);var d,h,m;c?(d=s?o.SRGB8:o.RGB8,h=a.RGB,m=e.PixelDataType.UBYTE):(d=s?o.SRGB8_A8:o.RGBA8,h=u?a.RGBM:a.RGBA,m=e.PixelDataType.UBYTE);const p=e.Texture.Builder().width(l.width).height(l.height).levels(f?1:255).sampler(i.SAMPLER_2D).format(d).rgbm(u).build(r),g=e.PixelBuffer(l.data.getBytes(),h,m);return p.setImage(r,0,g),f||p.generateMipmaps(r),p},e._createTextureFromJpeg=function(t,r,n){const i=!!(n=n||{}).srgb,o=!!n.nomips;var a=document.createElement("canvas").getContext("2d");a.canvas.width=t.width,a.canvas.height=t.height,a.width=t.width,a.height=t.height,a.globalCompositeOperation="copy",a.drawImage(t,0,0);var s=a.getImageData(0,0,t.width,t.height).data.buffer,u=new Uint8Array(s);const c=e.Texture$InternalFormat,f=i?c.SRGB8_A8:c.RGBA8,l=e.PixelDataFormat.RGBA,d=e.PixelDataType.UBYTE,h=e.Texture.Builder().width(t.width).height(t.height).levels(o?1:255).sampler(e.Texture$Sampler.SAMPLER_2D).format(f).build(r),m=e.PixelBuffer(u,l,d);return h.setImage(r,0,m),o||h.generateMipmaps(r),h},e.getSupportedFormats=function(){if(e.supportedFormats)return e.supportedFormats;const t={s3tc:!1,astc:!1,etc:!1};var r,n=document.createElement("canvas").getContext("webgl2",{majorVersion:2,minorVersion:0}).getSupportedExtensions(),i=n.length;for(r=0;r<i;r++){var o=n[r];"WEBGL_compressed_texture_s3tc"==o?t.s3tc=!0:"WEBGL_compressed_texture_astc"==o?t.astc=!0:"WEBGL_compressed_texture_etc"==o&&(t.etc=!0)}return e.supportedFormats=t},e.getSupportedFormatSuffix=function(t){t=t.split(" ");var r=e.getSupportedFormats();for(var n in r)if(r[n]&&t.includes(n))return"_"+n;return""},e}();e.exports=a}).call(this,r(3),"/",r(9).Buffer,r(13).setImmediate)},function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t){var r,n,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(e){r=o}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var u,c=[],f=!1,l=-1;function d(){f&&u&&(f=!1,u.length?c=u.concat(c):l=-1,c.length&&h())}function h(){if(!f){var e=s(d);f=!0;for(var t=c.length;t;){for(u=c,c=[];++l<t;)u&&u[l].run();l=-1,t=c.length}u=null,f=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function p(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new m(e,t)),1!==c.length||f||s(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=p,i.addListener=p,i.once=p,i.off=p,i.removeListener=p,i.removeAllListeners=p,i.emit=p,i.prependListener=p,i.prependOnceListener=p,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t){e.exports=fs},function(e,t){e.exports=path},function(e,t,r){"use strict";t.__esModule=!0;var n=r(1).getSupportedFormatSuffix("etc s3tc"),i="env/syferfontein_18d_clear_2k";t.ibl=i+"_ibl"+n+".ktx.bmp",t.skySmall=i+"_skybox_tiny.ktx.bmp",t.skyLarge=i+"_skybox.ktx.bmp",t.nonlitMaterial="materials/nonlit.filamat",t.pbrMaterial="materials/pbr.filamat",t.texMaterial="materials/tex.filamat",t.diffuse="diffuse.jpg",t.specular="specular.jpg",t.normal="normal.jpg",t.mesh="filamesh",t.collision="tracks/collision.png",t.elevation="tracks/height.png"},function(e,t,r){"use strict";t.__esModule=!0;var n=r(0),i=function(){function e(e){this.position=n.vec3.copy(n.vec3.create(),e),this.orientation=n.quat.create(),this.matrix=n.mat4.create(),this.temp=n.vec3.create()}return e.prototype.getMatrix=function(){return n.mat4.fromRotationTranslation(this.matrix,this.orientation,this.position)},e.prototype.translate=function(e){n.vec3.transformQuat(this.temp,e,this.orientation),n.vec3.add(this.position,this.position,this.temp)},e}();t.default=i},function(e,t,r){"use strict";t.__esModule=!0;var n=r(1),i=r(6),o=r(0),a=r(16),s=r(17),u=r(18),c=r(19),f=r(7),l=o.vec3.fromValues(-2268,400,-886),d=[i.skySmall,i.ibl,i.pbrMaterial,i.nonlitMaterial,i.texMaterial];n.init(d,function(){o.glMatrix.setMatrixArrayType(Array),window.app=new h});var h=function(){function e(){var e=document.getElementsByTagName("canvas")[0],t=new u.default(i.collision),r=new u.default(i.elevation),n=new f.default(l);this.simulation=new c.default(n,t,r),this.display=new s.default(e,n),this.chasecam=new a.default(this.display.camera,n),this.tick=this.tick.bind(this),this.time=Date.now(),window.requestAnimationFrame(this.tick)}return e.prototype.tick=function(){var e=Date.now(),t=.1*(e-this.time);this.time=e,this.simulation.tick(t),this.chasecam.tick(t,this.simulation.getNormalizedSpeed()),this.display.render(),window.requestAnimationFrame(this.tick)},e}()},function(e,t,r){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var n=r(10),i=r(11),o=r(12);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,r){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return l(this,e)}return c(this,e,t,r)}function c(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n);u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=d(e,t);return e}(e,t,r,n):"string"==typeof t?function(e,t,r){"string"==typeof r&&""!==r||(r="utf8");if(!u.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|m(t,r),i=(e=s(e,n)).write(t,r);i!==n&&(e=e.slice(0,i));return e}(e,t,r):function(e,t){if(u.isBuffer(t)){var r=0|h(t.length);return 0===(e=s(e,r)).length?e:(t.copy(e,0,0,r),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?s(e,0):d(e,t);if("Buffer"===t.type&&o(t.data))return d(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function f(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function l(e,t){if(f(t),e=s(e,t<0?0:0|h(t)),!u.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function d(e,t){var r=t.length<0?0:0|h(t.length);e=s(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function h(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function m(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return V(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return G(e).length;default:if(n)return V(e).length;t=(""+t).toLowerCase(),n=!0}}function p(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function g(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=u.from(t,n)),u.isBuffer(t))return 0===t.length?-1:v(e,t,r,n,i);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):v(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function v(e,t,r,n,i){var o,a=1,s=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,r/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var f=-1;for(o=r;o<s;o++)if(c(e,o)===c(t,-1===f?0:o-f)){if(-1===f&&(f=o),o-f+1===u)return f*a}else-1!==f&&(o-=o-f),f=-1}else for(r+u>s&&(r=s-u),o=r;o>=0;o--){for(var l=!0,d=0;d<u;d++)if(c(e,o+d)!==c(t,d)){l=!1;break}if(l)return o}return-1}function y(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var a=0;a<n;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[r+a]=s}return a}function _(e,t,r,n){return j(V(t,e.length-r),e,r,n)}function b(e,t,r,n){return j(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function w(e,t,r,n){return b(e,t,r,n)}function E(e,t,r,n){return j(G(t),e,r,n)}function M(e,t,r,n){return j(function(e,t){for(var r,n,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)r=e.charCodeAt(a),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function x(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function A(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,a,s,u,c=e[i],f=null,l=c>239?4:c>223?3:c>191?2:1;if(i+l<=r)switch(l){case 1:c<128&&(f=c);break;case 2:128==(192&(o=e[i+1]))&&(u=(31&c)<<6|63&o)>127&&(f=u);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(u=(15&c)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(f=u);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(u=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(f=u)}null===f?(f=65533,l=1):f>65535&&(f-=65536,n.push(f>>>10&1023|55296),f=56320|1023&f),n.push(f),i+=l}return function(e){var t=e.length;if(t<=T)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=T));return r}(n)}t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,r){return c(null,e,t,r)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,r){return function(e,t,r,n){return f(t),t<=0?s(e,t):void 0!==r?"string"==typeof n?s(e,t).fill(r,n):s(e,t).fill(r):s(e,t)}(null,e,t,r)},u.allocUnsafe=function(e){return l(null,e)},u.allocUnsafeSlow=function(e){return l(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=u.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var a=e[r];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,i),i+=a.length}return n},u.byteLength=m,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)p(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)p(this,t,t+3),p(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)p(this,t,t+7),p(this,t+1,t+6),p(this,t+2,t+5),p(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?A(this,0,e):function(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return P(this,t,r);case"utf8":case"utf-8":return A(this,t,r);case"ascii":return k(this,t,r);case"latin1":case"binary":return S(this,t,r);case"base64":return x(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,r,n,i){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(n>>>=0),a=(r>>>=0)-(t>>>=0),s=Math.min(o,a),c=this.slice(n,i),f=e.slice(t,r),l=0;l<s;++l)if(c[l]!==f[l]){o=c[l],a=f[l];break}return o<a?-1:a<o?1:0},u.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},u.prototype.indexOf=function(e,t,r){return g(this,e,t,r,!0)},u.prototype.lastIndexOf=function(e,t,r){return g(this,e,t,r,!1)},u.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return y(this,e,t,r);case"utf8":case"utf-8":return _(this,e,t,r);case"ascii":return b(this,e,t,r);case"latin1":case"binary":return w(this,e,t,r);case"base64":return E(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var T=4096;function k(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function S(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function P(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=U(e[o]);return i}function C(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function I(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function L(e,t,r,n,i,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function D(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-r,2);i<o;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function B(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-r,4);i<o;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function F(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function R(e,t,r,n,o){return o||F(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function O(e,t,r,n,o){return o||F(e,0,r,8),i.write(e,t,r,n,52,8),r+8}u.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=u.prototype;else{var i=t-e;r=new u(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+e]}return r},u.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||I(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},u.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||I(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},u.prototype.readUInt8=function(e,t){return t||I(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||I(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||I(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||I(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||I(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||I(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},u.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||I(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return t||I(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||I(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(e,t){t||I(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(e,t){return t||I(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||I(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||I(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||I(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||I(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||I(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||L(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},u.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||L(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},u.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):B(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):B(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);L(this,e,t,r,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<r&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},u.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);L(this,e,t,r,i-1,-i)}var o=r-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},u.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):B(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):B(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,r){return R(this,e,t,!0,r)},u.prototype.writeFloatBE=function(e,t,r){return R(this,e,t,!1,r)},u.prototype.writeDoubleLE=function(e,t,r){return O(this,e,t,!0,r)},u.prototype.writeDoubleBE=function(e,t,r){return O(this,e,t,!1,r)},u.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,o=n-r;if(this===e&&r<t&&t<n)for(i=o-1;i>=0;--i)e[i+t]=this[i+r];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+o),t);return o},u.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{var a=u.isBuffer(e)?e:V(new u(e,n).toString()),s=a.length;for(o=0;o<r-t;++o)this[o+t]=a[o%s]}return this};var N=/[^+\/0-9A-Za-z-_]/g;function U(e){return e<16?"0"+e.toString(16):e.toString(16)}function V(e,t){var r;t=t||1/0;for(var n=e.length,i=null,o=[],a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function G(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(N,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function j(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}}).call(this,r(2))},function(e,t,r){"use strict";t.byteLength=function(e){var t=c(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){for(var t,r=c(e),n=r[0],a=r[1],s=new o(function(e,t,r){return 3*(t+r)/4-r}(0,n,a)),u=0,f=a>0?n-4:n,l=0;l<f;l+=4)t=i[e.charCodeAt(l)]<<18|i[e.charCodeAt(l+1)]<<12|i[e.charCodeAt(l+2)]<<6|i[e.charCodeAt(l+3)],s[u++]=t>>16&255,s[u++]=t>>8&255,s[u++]=255&t;2===a&&(t=i[e.charCodeAt(l)]<<2|i[e.charCodeAt(l+1)]>>4,s[u++]=255&t);1===a&&(t=i[e.charCodeAt(l)]<<10|i[e.charCodeAt(l+1)]<<4|i[e.charCodeAt(l+2)]>>2,s[u++]=t>>8&255,s[u++]=255&t);return s},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],a=0,s=r-i;a<s;a+=16383)o.push(f(e,a,a+16383>s?s:a+16383));1===i?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return o.join("")};for(var n=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)n[s]=a[s],i[a.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function f(e,t,r){for(var i,o,a=[],s=t;s<r;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,r,n,i){var o,a,s=8*i-n-1,u=(1<<s)-1,c=u>>1,f=-7,l=r?i-1:0,d=r?-1:1,h=e[t+l];for(l+=d,o=h&(1<<-f)-1,h>>=-f,f+=s;f>0;o=256*o+e[t+l],l+=d,f-=8);for(a=o&(1<<-f)-1,o>>=-f,f+=n;f>0;a=256*a+e[t+l],l+=d,f-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,n),o-=c}return(h?-1:1)*a*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var a,s,u,c=8*o-i-1,f=(1<<c)-1,l=f>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:o-1,m=n?1:-1,p=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=f):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+l>=1?d/u:d*Math.pow(2,1-l))*u>=2&&(a++,u/=2),a+l>=f?(s=0,a=f):a+l>=1?(s=(t*u-1)*Math.pow(2,i),a+=l):(s=t*Math.pow(2,l-1)*Math.pow(2,i),a=0));i>=8;e[r+h]=255&s,h+=m,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[r+h]=255&a,h+=m,a/=256,c-=8);e[r+h-m]|=128*p}},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,r){(function(e){var n=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,n,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,n,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(n,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},r(14),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,r(2))},function(e,t,r){(function(e,t){!function(e,r){"use strict";if(!e.setImmediate){var n,i,o,a,s,u=1,c={},f=!1,l=e.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(e);d=d&&d.setTimeout?d:e,"[object process]"==={}.toString.call(e.process)?n=function(e){t.nextTick(function(){m(e)})}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}()?e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){m(e.data)},n=function(e){o.port2.postMessage(e)}):l&&"onreadystatechange"in l.createElement("script")?(i=l.documentElement,n=function(e){var t=l.createElement("script");t.onreadystatechange=function(){m(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):n=function(e){setTimeout(m,0,e)}:(a="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&m(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),n=function(t){e.postMessage(a+t,"*")}),d.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var i={callback:e,args:t};return c[u]=i,n(u),u++},d.clearImmediate=h}function h(e){delete c[e]}function m(e){if(f)setTimeout(m,0,e);else{var t=c[e];if(t){f=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(r,n)}}(t)}finally{h(e),f=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,r(2),r(3))},function(e,t){e.exports=crypto},function(e,t,r){"use strict";t.__esModule=!0;var n=r(0),i=function(){function e(e,t){this.camera=e,this.vehicle=t,this.yoffset=10,this.zoffset=23,this.speedOffset=0,this.speedOffsetMax=10,this.targetYoffset=6}return e.prototype.tick=function(e,t){this.speedOffset+=(this.speedOffsetMax*t-this.speedOffset)*Math.min(1,.3*e);var r=n.vec3.fromValues(0,1,0);n.vec3.transformQuat(r,r,this.vehicle.orientation);var i=n.vec3.fromValues(0,0,1);n.vec3.transformQuat(i,i,this.vehicle.orientation);var o=n.vec3.copy(n.vec3.create(),this.vehicle.position);n.vec3.scale(i,i,this.zoffset+this.speedOffset),n.vec3.subtract(o,o,i),n.vec3.scale(r,r,this.yoffset),n.vec3.add(o,o,r);var a=n.vec3.copy(n.vec3.create(),this.vehicle.position);n.vec3.set(r,0,1,0),n.vec3.transformQuat(r,r,this.vehicle.orientation),n.vec3.scale(r,r,this.targetYoffset),n.vec3.add(a,a,r),this.camera.lookAt(o,a,[0,1,0])},e}();t.default=i},function(e,t,r){"use strict";t.__esModule=!0;var n=r(1),i=r(6),o=function(){function e(e,t){var r=this;this.canvas=e,this.vehicle=t,this.engine=n.Engine.create(e),this.scene=this.engine.createScene(),this.skybox=this.engine.createSkyFromKtx(i.skySmall),this.scene.setSkybox(this.skybox),this.indirectLight=this.engine.createIblFromKtx(i.ibl),this.indirectLight.setIntensity(1e5),this.scene.setIndirectLight(this.indirectLight),this.swapChain=this.engine.createSwapChain(),this.renderer=this.engine.createRenderer(),this.camera=this.engine.createCamera(),this.view=this.engine.createView(),this.view.setCamera(this.camera),this.view.setScene(this.scene),this.sampler=new n.TextureSampler(n.MinFilter.LINEAR_MIPMAP_LINEAR,n.MagFilter.LINEAR,n.WrapMode.REPEAT),this.pbrMaterial=this.engine.createMaterial(i.pbrMaterial),this.nonlitMaterial=this.engine.createMaterial(i.nonlitMaterial),this.texMaterial=this.engine.createMaterial(i.texMaterial);var o=function(e){r.scene.addEntity(e),8===r.scene.getRenderableCount()&&n.fetch([i.skyLarge],function(){r.engine.destroySkybox(r.skybox),r.skybox=r.engine.createSkyFromKtx(i.skyLarge),r.scene.setSkybox(r.skybox)})},a=[i.diffuse,i.specular,i.normal,i.mesh],s=a.map(function(e){return"ship/"+e});n.fetch(s,function(){var e=r.pbrMaterial.createInstance();r.ship=r.createRenderable("ship",e,1),o(r.ship);for(var t=function(e){var t=a.map(function(t){return e+"/"+t});n.fetch(t,function(){var t=r.pbrMaterial.createInstance();o(r.createRenderable(e,t,.1))})},i=0,s=["scrapers1","scrapers2"];i<s.length;i++){t(s[i])}for(var u=function(e){var t=a.map(function(t){return e+"/"+t});n.fetch(t,function(){var t=r.pbrMaterial.createInstance();o(r.createRenderable(e,t,0))})},c=0,f=["tracks"];c<f.length;c++){u(f[c])}n.fetch(["bonusspeed/filamesh"],function(){var e=r.nonlitMaterial.createInstance();e.setFloat4Parameter("color",[0,.2,.6,1]);var t=r.engine.loadFilamesh("bonusspeed/filamesh",e,{});o(t.renderable)});n.fetch(["startbanner/filamesh","startbanner/albedo.jpg"],function(){var e=r.texMaterial.createInstance(),t=r.engine.createTextureFromJpeg("startbanner/albedo.jpg");e.setTextureParameter("albedo",t,r.sampler);var n=r.engine.loadFilamesh("startbanner/filamesh",e,{});o(n.renderable)});n.fetch(["startpanels/filamesh","startpanels/albedo.jpg"],function(){var e=r.texMaterial.createInstance(),t=r.engine.createTextureFromJpeg("startpanels/albedo.jpg");e.setTextureParameter("albedo",t,r.sampler);var n=r.engine.loadFilamesh("startpanels/filamesh",e,{});o(n.renderable)})});var u=n.EntityManager.get().create();n.LightManager.Builder(n.LightManager$Type.SUN).color([.98,.92,.89]).castShadows(!0).intensity(11e4).direction([.5,-1,0]).build(this.engine,u),o(u),this.resize=this.resize.bind(this),window.addEventListener("resize",this.resize),this.resize()}return e.prototype.render=function(){if(this.ship){var e=this.engine.getTransformManager(),t=e.getInstance(this.ship);e.setTransform(t,this.vehicle.getMatrix()),t.delete()}this.renderer.render(this.swapChain,this.view)},e.prototype.resize=function(){var e=window.devicePixelRatio,t=this.canvas.width=window.innerWidth*e,r=this.canvas.height=window.innerHeight*e;this.view.setViewport([0,0,t,r]);var i=t/r,o=n.Camera$Fov,a=i<1?o.HORIZONTAL:o.VERTICAL;this.camera.setProjectionFov(45,i,1,2e4,a)},e.prototype.createRenderable=function(e,t,r){var n=this.engine.createTextureFromJpeg(e+"/"+i.diffuse),o=this.engine.createTextureFromJpeg(e+"/"+i.specular),a=this.engine.createTextureFromJpeg(e+"/"+i.normal);t.setTextureParameter("diffuse",n,this.sampler),t.setTextureParameter("specular",o,this.sampler),t.setTextureParameter("normal",a,this.sampler),t.setFloatParameter("metallic",1),t.setFloatParameter("reflectance",1),t.setFloatParameter("clearCoat",r),t.setFloatParameter("clearCoatRoughness",0);var s=this.engine.loadFilamesh(e+"/"+i.mesh,t,{}).renderable,u=this.engine.getRenderableManager(),c=u.getInstance(s);return u.setCastShadows(c,!0),u.setReceiveShadows(c,!0),c.delete(),s},e}();t.default=o},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){function e(e){var t=this;this.image=new Image,this.pixels=null,this.canvas=null,this.image.onload=function(){var e=t.canvas=document.createElement("canvas");t.canvas.width=t.image.width,t.canvas.height=t.image.height;var r=t.canvas.getContext("2d");r.drawImage(t.image,0,0),t.pixels=r.getImageData(0,0,e.width,e.height),t.width=t.pixels.width,t.height=t.pixels.height,t.canvas=null,t.image=null},this.image.src=e}return e.prototype.ready=function(){return null===this.image},e.prototype.getPixel=function(e,t){if(!this.pixels||e<0||t<0||e>=this.pixels.width||t>=this.pixels.height)return{r:0,g:0,b:0,a:0};var r=4*(t*this.pixels.width+e);return{r:this.pixels.data[r],g:this.pixels.data[r+1],b:this.pixels.data[r+2],a:this.pixels.data[r+3]}},e.prototype.getPixelBilinear=function(e,t){var r=Math.floor(e),n=Math.floor(t),i=e-r-.5,o=t-n-.5,a=Math.abs(i),s=Math.abs(o),u=i<0?-1:1,c=o<0?-1:1,f=this.getPixel(r,n),l=this.getPixel(r+u,n),d=this.getPixel(r,n+c),h=this.getPixel(r+u,n+c),m=[(1-a)*f.r+a*l.r,(1-a)*f.g+a*l.g,(1-a)*f.b+a*l.b,(1-a)*f.a+a*l.a],p=[(1-a)*d.r+a*h.r,(1-a)*d.g+a*h.g,(1-a)*d.b+a*h.b,(1-a)*d.a+a*h.a];return{r:(1-s)*m[0]+s*p[0],g:(1-s)*m[1]+s*p[1],b:(1-s)*m[2]+s*p[2],a:(1-s)*m[3]+s*p[3]}},e.prototype.getPixelF=function(e,t){var r=this.getPixel(e,t);return r.r+255*r.g+255*r.b*255},e.prototype.getPixelFBilinear=function(e,t){var r=this.getPixelBilinear(e,t);return r.r+255*r.g+255*r.b*255},e}();t.default=n},function(e,t,r){"use strict";t.__esModule=!0;var n=r(7),i=r(0),o=function(){function e(e,t,r){this.simvehicle=new n.default(e.position),this.gfxvehicle=e,this.collision=t,this.elevation=r,this.keyState={backward:!1,forward:!1,left:!1,ltrigger:!1,right:!1,rtrigger:!1,use:!1},document.addEventListener("keydown",this.onKeyDown.bind(this)),document.addEventListener("keyup",this.onKeyUp.bind(this)),this.maxSpeed=7,this.boosterSpeed=.2*this.maxSpeed,this.active=!0,this.destroyed=!1,this.falling=!1,this.movement=i.vec3.fromValues(0,0,0),this.roll=0,this.rollAxis=i.vec3.create(),this.drift=0,this.shieldDelay=60,this.speed=0,this.speedRatio=0,this.boost=0,this.shield=1,this.yawAngle=0,this.quaternion=i.quat.create(),this.collisionPixelRatio=2048/6e3,this.collisionDetection=!0,this.collisionPreviousPosition=i.vec3.create(),this.heightPixelRatio=2048/6e3,this.heightBias=4,this.heightLerp=.4,this.heightScale=10,this.rollAngle=.6,this.rollLerp=.08,this.rollDirection=i.vec3.fromValues(0,0,1),this.gradient=0,this.gradientTarget=0,this.gradientLerp=.05,this.gradientScale=1,this.gradientVector=i.vec3.fromValues(0,0,5),this.tilt=0,this.tiltTarget=0,this.tiltLerp=.05,this.tiltScale=1,this.tiltVector=i.vec3.fromValues(5,0,0),this.repulsionVLeft=i.vec3.fromValues(1,0,0),this.repulsionVRight=i.vec3.fromValues(-1,0,0),this.repulsionVFront=i.vec3.fromValues(0,0,1),this.repulsionVScale=1,this.repulsionAmount=0,this.repulsionForce=i.vec3.create(),this.collisionState={front:!1,left:!1,right:!1}}return e.prototype.tick=function(e){if(this.collision.ready()&&this.elevation.ready())if(this.falling)i.vec3.add(this.gfxvehicle.position,this.gfxvehicle.position,this.fallVector);else{i.vec3.copy(this.simvehicle.position,this.gfxvehicle.position),i.vec3.set(this.movement,0,0,0),this.drift=-this.drift*E,this.yawAngle=-this.yawAngle*M*.5;var t,r,n,o,h,g,v,_,b,w=0,T=0;if(this.active&&(this.keyState.left&&(T+=m*e,w-=this.rollAngle),this.keyState.right&&(T-=m*e,w+=this.rollAngle),this.keyState.forward?this.speed+=f*e:this.speed-=u*e,this.keyState.ltrigger&&(this.keyState.left?T+=p*e:T+=.5*p*e,this.speed-=l*e,this.drift+=(c-this.drift)*E,this.movement[0]+=this.speed*this.drift*e,this.drift>0&&(this.movement[2]-=this.speed*this.drift*e),w-=.7*this.rollAngle),this.keyState.rtrigger&&(this.keyState.right?T-=p*e:T-=.5*p*e,this.speed-=l*e,this.drift+=(-c-this.drift)*E,this.movement[0]+=this.speed*this.drift*e,this.drift<0&&(this.movement[2]+=this.speed*this.drift*e),w+=.7*this.rollAngle)),this.yawAngle+=(T-this.yawAngle)*M,this.speed=Math.max(0,Math.min(this.speed,d)),this.speedRatio=this.speed/d,this.movement[2]+=this.speed*e,t=this.repulsionForce,r=s,n=1e-4,o=t[0],h=t[1],g=t[2],v=r[0],_=r[1],b=r[2],Math.abs(o-v)<=n*Math.max(1,Math.abs(o),Math.abs(v))&&Math.abs(h-_)<=n*Math.max(1,Math.abs(h),Math.abs(_))&&Math.abs(g-b)<=n*Math.max(1,Math.abs(g),Math.abs(b)))i.vec3.copy(this.repulsionForce,s);else{0!==this.repulsionForce[2]&&(this.movement[2]=0),i.vec3.add(this.movement,this.movement,this.repulsionForce);var k=e>1.5?2*y:y;i.vec3.lerp(this.repulsionForce,this.repulsionForce,s,k)}i.vec3.copy(this.collisionPreviousPosition,this.simvehicle.position),this.boosterCheck(e),this.simvehicle.translate(i.vec3.fromValues(this.movement[0],0,this.movement[2])),this.heightCheck(),this.simvehicle.translate(i.vec3.fromValues(0,this.movement[1],0)),this.collisionCheck(e);var S=150*this.yawAngle;i.quat.identity(this.quaternion),i.quat.fromEuler(this.quaternion,0,S,0),i.quat.multiply(this.simvehicle.orientation,this.simvehicle.orientation,this.quaternion);var P=i.mat4.identity(i.mat4.create()),C=(this.gradientTarget-(0+this.gradient))*this.gradientLerp;Math.abs(C)>a&&(this.gradient+=C),Math.abs(this.gradient)>a&&i.mat4.rotate(P,P,this.gradient,x);var I=(this.tiltTarget-this.tilt)*this.tiltLerp;Math.abs(I)>a&&(this.tilt+=I),Math.abs(this.tilt)>a&&i.mat4.rotate(P,P,this.tilt,A);var L=(w-this.roll)*this.rollLerp;Math.abs(L)>a&&(this.roll+=L),Math.abs(this.roll)>a&&(i.vec3.copy(this.rollAxis,this.rollDirection),i.mat4.rotate(P,P,this.roll,this.rollAxis)),i.mat4.multiply(P,this.simvehicle.getMatrix(),P),i.mat4.getTranslation(this.gfxvehicle.position,P),i.mat4.getRotation(this.gfxvehicle.orientation,P)}},e.prototype.getNormalizedSpeed=function(){return(this.speed+this.boost)/this.maxSpeed},e.prototype.onKeyDown=function(e){var t=this.keyState;switch(e.keyCode){case 38:t.forward=!0;break;case 40:t.backward=!0;break;case 37:t.left=!0;break;case 39:t.right=!0;break;case 81:case 65:t.ltrigger=!0;break;case 68:case 69:t.rtrigger=!0}},e.prototype.onKeyUp=function(e){var t=this.keyState;switch(e.keyCode){case 38:t.forward=!1;break;case 40:t.backward=!1;break;case 37:t.left=!1;break;case 39:t.right=!1;break;case 81:case 65:t.ltrigger=!1;break;case 68:case 69:t.rtrigger=!1}},e.prototype.collisionCheck=function(e){this.shieldDelay>0&&(this.shieldDelay-=e),this.collisionState.left=!1,this.collisionState.right=!1,this.collisionState.front=!1;var t=this.simvehicle.position,r=this.simvehicle.orientation,n=this.collision.width/2+t[0]*this.collisionPixelRatio,o=this.collision.height/2+t[2]*this.collisionPixelRatio,a=i.vec3.fromValues(n,0,o),s=this.collision.getPixelBilinear(n,o);if(s.r<255){var u=this.getRealSpeed()/d;this.shield-=u*u*.8*w,i.vec3.set(this.repulsionVLeft,1,0,0),i.vec3.set(this.repulsionVRight,-1,0,0),i.vec3.transformQuat(this.repulsionVLeft,this.repulsionVLeft,r),i.vec3.transformQuat(this.repulsionVRight,this.repulsionVRight,r),i.vec3.scale(this.repulsionVLeft,this.repulsionVLeft,this.repulsionVScale),i.vec3.scale(this.repulsionVRight,this.repulsionVRight,this.repulsionVScale);var c=i.vec3.add(this.repulsionVLeft,this.repulsionVLeft,a),f=i.vec3.add(this.repulsionVRight,this.repulsionVRight,a),l=this.collision.getPixel(Math.round(c[0]),Math.round(c[2])).r,h=this.collision.getPixel(Math.round(f[0]),Math.round(f[2])).r;if(this.repulsionAmount=Math.max(.8,Math.min(v,this.speed*g)),h>l?(this.repulsionForce[0]-=this.repulsionAmount,this.collisionState.left=!0):h<l?(this.repulsionForce[0]+=this.repulsionAmount,this.collisionState.right=!0):(this.repulsionForce[2]-=4*this.repulsionAmount,this.collisionState.front=!0,this.speed=0),h<128&&l<128)this.collision.getPixel(Math.round(a[0]+2),Math.round(a[2]+2)).r<128&&console.log("GAMEOVER");this.speed*=_,this.speed*=1-b*(1-s.r/255),this.boost=0}},e.prototype.getRealSpeed=function(){return Math.round(this.speed+this.boost)},e.prototype.boosterCheck=function(e){var t=this.simvehicle.position;this.boost-=h*e,this.boost<0&&(this.boost=0);var r=Math.round(this.collision.width/2+t[0]*this.collisionPixelRatio),n=Math.round(this.collision.height/2+t[2]*this.collisionPixelRatio),i=this.collision.getPixel(r,n);255===i.r&&i.g<127&&i.b<127&&(this.boost=this.boosterSpeed),this.movement[2]+=this.boost*e},e.prototype.heightCheck=function(){var e=this.simvehicle.position,t=this.simvehicle.orientation,r=this.elevation.width/2+e[0]*this.heightPixelRatio,n=this.elevation.height/2+e[2]*this.heightPixelRatio,o=this.elevation.getPixelFBilinear(r,n)/this.heightScale+this.heightBias;if(o<16777){var a=o-e[1];this.movement[1]+=a>0?a:a*this.heightLerp}i.vec3.set(this.gradientVector,0,0,5),i.vec3.transformQuat(this.gradientVector,this.gradientVector,t),i.vec3.add(this.gradientVector,this.gradientVector,e),r=this.elevation.width/2+this.gradientVector[0]*this.heightPixelRatio,n=this.elevation.height/2+this.gradientVector[2]*this.heightPixelRatio;var s=this.elevation.getPixelFBilinear(r,n)/this.heightScale+this.heightBias;s<16777&&(this.gradientTarget=-Math.atan2(s-o,5)*this.gradientScale),i.vec3.set(this.tiltVector,5,0,0),i.vec3.transformQuat(this.tiltVector,this.tiltVector,t),i.vec3.add(this.tiltVector,this.tiltVector,e),r=this.elevation.width/2+this.tiltVector[0]*this.heightPixelRatio,n=this.elevation.height/2+this.tiltVector[2]*this.heightPixelRatio,(s=this.elevation.getPixelFBilinear(r,n)/this.heightScale+this.heightBias)>=16777&&(i.vec3.subtract(this.tiltVector,this.tiltVector,e),i.vec3.scale(this.tiltVector,this.tiltVector,-1),i.vec3.add(this.tiltVector,this.tiltVector,e),r=this.elevation.width/2+this.tiltVector[0]*this.heightPixelRatio,n=this.elevation.height/2+this.tiltVector[2]*this.heightPixelRatio,s=this.elevation.getPixelFBilinear(r,n)/this.heightScale+this.heightBias),s<16777&&(this.tiltTarget=Math.atan2(s-o,5)*this.tiltScale)},e}();t.default=o;var a=1e-8,s=i.vec3.create(),u=.02,c=.1,f=.02,l=.02,d=7,h=(this.maxSpeed,.01),m=.005,p=.0065,g=.5,v=2.5,y=.1,_=.8,b=.8,w=.25,E=.35,M=.35,x=(i.vec3.fromValues(0,-20,0),i.vec3.fromValues(1,0,0)),A=i.vec3.fromValues(0,0,1)}]);
//# sourceMappingURL=main.js.map